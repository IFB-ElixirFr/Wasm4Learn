import _sfc_main$1 from"./ContentRendererMarkdown.178908a0.js";import _sfc_main$2 from"./ContentRenderer.7a6e78e2.js";import{_ as _export_sfc,f as useRoute,r as ref,s as storeToRefs,g as resolveComponent,h as createBlock,w as withCtx,o as openBlock,b as createVNode,a as createBaseVNode,t as toDisplayString,i as createCommentVNode,d as createTextVNode,j as withKeys}from"./entry.b1bcd416.js";import{u as useAsyncData}from"./asyncData.1c917592.js";import{q as queryContent}from"./query.6e557b59.js";import{u as useCommandStore}from"./useCommandStore.d434be24.js";import{g as getDefaultExportFromCjs}from"./_commonjsHelpers.042e6b4d.js";import"./index.a6ef77ff.js";import"./preview.33e4e0c5.js";import"./utils.432a72ac.js";var M=(s=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(s,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):s)(function(s){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+s+'" is not supported')}),ut=(s,e,t)=>{if(!e.has(s))throw TypeError("Cannot "+t)},o=(s,e,t)=>(ut(s,e,"read from private field"),t?t.call(s):e.get(s)),u=(s,e,t)=>{if(e.has(s))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(s):e.set(s,t)},c=(s,e,t,r)=>(ut(s,e,"write to private field"),r?r.call(s,t):e.set(s,t),t),P=(s,e,t)=>(ut(s,e,"access private method"),t),f=typeof process<"u"&&process.release&&process.release.name==="node";if(!globalThis.document){if(!globalThis.importScripts){if(!f)throw new Error("Cannot determine runtime environment")}}function J(){let s={resolve:t=>{},reject:t=>{},promise:null},e=new Promise((t,r)=>{s.resolve=t,s.reject=r});return s.promise=e,s}function Ot(s){return new Promise(e=>setTimeout(e,s))}function E(s,e,t,...r){return s===null||typeof s!="object"?s:e(s)?t(s,...r):Array.isArray(s)||ArrayBuffer.isView(s)?s.map(n=>E(n,e,t,...r)):Object.fromEntries(Object.entries(s).map(([n,l],a)=>[n,E(l,e,t,...r)]))}function De(s,e){let t=new XMLHttpRequest;t.open("get",s,!0),t.onload=()=>{let r=new Worker(URL.createObjectURL(new Blob([t.responseText])));e(r)},t.send()}function V(s){if(f)return!1;let e=new URL(location.href),t=new URL(s,location.origin);return!(e.host===t.host&&e.port===t.port&&e.protocol===t.protocol)}var ur=new WeakMap;function Dt(s,e){return ur.set(s,e),s}var Me=63;function Ae(){let s=Array.from({length:4},cr).join("-");if(s.length!==Me)throw new Error("comlink internal error: UUID has the wrong length");return s}function cr(){let s=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16),e=15-s.length;return e>0&&(s=Array.from({length:e},()=>0).join("")+s),s}function Ce(s,e){return Mt({type:"request",data:{uuid:Ae(),msg:s}},e)}function Rt(s,e,t){return Mt({type:"response",data:{uuid:s,resp:e}},t)}function Mt(s,e){return e&&Dt(s,e),s}var Rr=new TextEncoder;new TextDecoder("utf-8");function je(s){return Rr.encode(JSON.stringify(s))}var dr=new TextEncoder;async function jt(s,e,t){try{let{taskId:r,sizeBuffer:n,dataBuffer:l,signalBuffer:a}=e,p=je(t),$=p.length<=l.length;if(Atomics.store(n,0,p.length),Atomics.store(n,1,+$),!$){let[y,x]=hr(s);l.set(dr.encode(y)),await Ct(a,r),l=(await x).dataBuffer}l.set(p),Atomics.store(n,1,1),await Ct(a,r)}catch(r){console.warn(r)}}function hr(s){let e=Ae();return[e,new Promise(t=>{f?s.once("message",r=>{!r.id||r.id!==e||t(r)}):s.addEventListener("message",function r(n){!n.data||!n.data.id||n.data.id!==e||(s.removeEventListener("message",r),t(n.data))}),s.start&&s.start()})]}async function Ct(s,e){let t=(e>>1)%32,r=1;for(;Atomics.compareExchange(s,t+1,0,e)!==0;)await Ot(r),r<32&&(r*=2);Atomics.or(s,0,1<<t),Atomics.notify(s,0)}var W,S,oe,yt,se=class{constructor(){u(this,oe),u(this,W,void 0),u(this,S,void 0),c(this,S,[]),c(this,W,[])}put(s){o(this,S).length||P(this,oe,yt).call(this),o(this,S).shift()(s)}async get(){return o(this,W).length||P(this,oe,yt).call(this),o(this,W).shift()}isEmpty(){return!o(this,W).length}isBlocked(){return!!o(this,S).length}get length(){return o(this,W).length-o(this,S).length}};W=new WeakMap,S=new WeakMap,oe=new WeakSet,yt=function(){o(this,W).push(new Promise(s=>{o(this,S).push(s)}))};function It(s){let e=new Error(s.obj.message);return e.name=s.obj.name,e.stack=s.obj.stack,e}function mr(s){return s&&typeof s=="object"&&"payloadType"in s&&"obj"in s}function Le(s){return mr(s)&&s.payloadType==="ptr"}var H,G=class{constructor(){this.inputQueue=new se,this.outputQueue=new se,u(this,H,new Map)}async read(){return await this.outputQueue.get()}async flush(){let s=[];for(;!this.outputQueue.isEmpty();)s.push(await this.read());return s}write(s){this.inputQueue.put(s)}async request(s,e){let t=Ce(s,e),{resolve:r,reject:n,promise:l}=J();return o(this,H).set(t.data.uuid,{resolve:r,reject:n}),this.write(t),l}resolveResponse(s){let e=s.data.uuid,t=o(this,H).get(e);if(t){let r=s.data.resp;o(this,H).delete(e),r.payloadType==="err"?t.reject(It(r)):t.resolve(r)}else console.warn("Can't find request.")}};H=new WeakMap;new TextDecoder("utf-8");var i$1={};function Bt(s){Object.keys(s).forEach(e=>i$1._free(s[e]))}f&&(globalThis.Worker=M("worker_threads").Worker);var Z,qe,qt,pe,le=class extends G{constructor(s){super(),u(this,qe),u(this,Z,void 0),this.close=()=>{},u(this,pe,async(t,r)=>{if(!(!r||!r.type))switch(r.type){case"resolve":c(this,Z,new Int32Array(r.data)),this.resolve();return;case"response":this.resolveResponse(r);return;default:this.outputQueue.put(r);return;case"sync-request":{let n=r,l=n.data.msg,a=n.data.reqData;switch(l.type){case"read":{let p=await this.inputQueue.get();await jt(t,a,p);break}default:throw new TypeError(`Unsupported request type '${l.type}'.`)}return}case"request":throw new TypeError("Can't send messages of type 'request' from a worker. Please Use 'sync-request' instead.")}});let e=t=>{P(this,qe,qt).call(this,t),this.close=()=>t.terminate();let r={type:"init",data:{config:s,channelType:O.SharedArrayBuffer}};t.postMessage(r)};if(V(s.baseUrl))De(`${s.baseUrl}webr-worker.js`,t=>e(t));else{let t=new Worker(`${s.baseUrl}webr-worker.js`);e(t)}({resolve:this.resolve,promise:this.initialised}=J())}interrupt(){if(!o(this,Z))throw new Error("Failed attempt to interrupt before initialising interruptBuffer");o(this,Z)[0]=1}};Z=new WeakMap,qe=new WeakSet,qt=function(s){f?s.on("message",e=>{o(this,pe).call(this,s,e)}):s.onmessage=e=>o(this,pe).call(this,s,e.data)},pe=new WeakMap;f&&(globalThis.Worker=M("worker_threads").Worker);var K,U,Y,Je,Jt,Ve,Vt,He,Ht,ye,Re=class extends G{constructor(s){super(),u(this,Je),u(this,Ve),u(this,He),this.close=()=>{},u(this,K,new Map),u(this,U,void 0),u(this,Y,!1),u(this,ye,async(t,r)=>{if(!(!r||!r.type))switch(r.type){case"resolve":this.resolve();return;case"response":this.resolveResponse(r);return;default:this.outputQueue.put(r);return;case"sync-request":{let n=r.data;o(this,K).set(n.data.uuid,n.data.msg);return}case"request":throw new TypeError("Can't send messages of type 'request' from a worker.Use service worker fetch request instead.")}});let e=t=>{P(this,He,Ht).call(this,t),this.close=()=>t.terminate(),P(this,Je,Jt).call(this,`${s.serviceWorkerUrl}webr-serviceworker.js`).then(r=>{let n={type:"init",data:{config:s,channelType:O.ServiceWorker,clientId:r,location:window.location.href}};t.postMessage(n)})};if(V(s.serviceWorkerUrl))De(`${s.serviceWorkerUrl}webr-worker.js`,t=>e(t));else{let t=new Worker(`${s.serviceWorkerUrl}webr-worker.js`);e(t)}({resolve:this.resolve,promise:this.initialised}=J())}activeRegistration(){var s;if(!((s=o(this,U))!=null&&s.active))throw new Error("Attempted to obtain a non-existent active registration.");return o(this,U).active}interrupt(){c(this,Y,!0)}};K=new WeakMap,U=new WeakMap,Y=new WeakMap,Je=new WeakSet,Jt=async function(s){c(this,U,await navigator.serviceWorker.register(s)),await navigator.serviceWorker.ready,window.addEventListener("beforeunload",()=>{var t;(t=o(this,U))==null||t.unregister()});let e=await new Promise(t=>{navigator.serviceWorker.addEventListener("message",function r(n){n.data.type==="registration-successful"&&(navigator.serviceWorker.removeEventListener("message",r),t(n.data.clientId))}),this.activeRegistration().postMessage({type:"register-client-main"})});return navigator.serviceWorker.addEventListener("message",t=>{P(this,Ve,Vt).call(this,t)}),e},Ve=new WeakSet,Vt=async function(s){if(s.data.type==="request"){let e=s.data.data,t=o(this,K).get(e);if(!t)throw new Error("Request not found during service worker XHR request");switch(o(this,K).delete(e),t.type){case"read":{let r=await this.inputQueue.get();this.activeRegistration().postMessage({type:"wasm-webr-fetch-response",uuid:e,response:Rt(e,r)});break}case"interrupt":{let r=o(this,Y);this.activeRegistration().postMessage({type:"wasm-webr-fetch-response",uuid:e,response:Rt(e,r)}),c(this,Y,!1);break}default:throw new TypeError(`Unsupported request type '${t.type}'.`)}return}},He=new WeakSet,Ht=function(s){f?s.on("message",e=>{o(this,ye).call(this,s,e)}):s.onmessage=e=>o(this,ye).call(this,s,e.data)},ye=new WeakMap;var O={Automatic:0,SharedArrayBuffer:1,ServiceWorker:2};function Gt(s){switch(s.channelType){case O.SharedArrayBuffer:return new le(s);case O.ServiceWorker:return new Re(s);case O.Automatic:default:if(f||crossOriginIsolated)return new le(s);if("serviceWorker"in navigator&&!V(s.serviceWorkerUrl))return new Re(s);throw new Error("Can't initialise main thread communication channel")}}var $t=f?__dirname+"/":"https://webr.r-wasm.org/v0.1.1/",Xt="https://repo.r-wasm.org";function D(s){return s&&(typeof s=="object"||typeof s=="function")&&"payloadType"in s&&Le(s._payload)}function zt(s){var e;return!!(D(s)&&((e=s._payload.obj.methods)!=null&&e.includes("exec")))}var d={null:0,symbol:1,pairlist:2,closure:3,environment:4,promise:5,call:6,special:7,builtin:8,string:9,logical:10,integer:13,double:14,complex:15,character:16,dots:17,any:18,list:19,expression:20,bytecode:21,pointer:22,weakref:23,raw:24,s4:25,new:30,free:31,function:99};function bt(s){return s&&typeof s=="object"&&Object.keys(d).includes(s.type)}function gt(s){return s&&typeof s=="object"&&"re"in s&&"im"in s}function Ge(s){return i$1._Rf_protect(k(s)),s}function w(s,e){return i$1._Rf_protect(k(s)),++e.n,s}function Zt(s){let e=i$1._malloc(4);return i$1._R_ProtectWithIndex(k(s),e),{loc:i$1.getValue(e,"i32"),ptr:e}}function Qt(s){i$1._Rf_unprotect(1),i$1._free(s.ptr)}function Kt(s,e){return i$1._R_Reprotect(k(s),e.loc),s}function _(s){i$1._Rf_unprotect(s)}function wt(s,e,t){i$1._Rf_defineVar(k(e),k(t),k(s))}function Yt(s,e){let t={},r={n:0};try{let n=new we(e);w(n,r),t.code=i$1.allocateUTF8(s);let l=i$1._R_ParseEvalString(t.code,n.ptr);return R.wrap(l)}finally{Bt(t),_(r.n)}}function ge(s,e){return i$1.LDSO.loadedLibsByName["/usr/lib/R/library/webr/libs/webr.so"].module.ffi_safe_eval(k(s),k(e))}function k(s){return xr(s)?s.ptr:s}function q(s,e){if(i$1._TYPEOF(s.ptr)!==d[e])throw new Error(`Unexpected object type "${s.type()}" when expecting type "${e}"`)}function Pr(s){if(bt(s))return new(er(d[s.type]))(s);if(s&&typeof s=="object"&&"type"in s&&s.type==="null")return new Ze;if(s===null)return new F({type:"logical",names:null,values:[null]});if(typeof s=="boolean")return new F(s);if(typeof s=="number")return new Pe(s);if(typeof s=="string")return new A(s);if(gt(s))return new ve(s);if(Array.isArray(s))return vr(s);throw new Error("Robj construction for this JS object is not yet supported")}function vr(s){let e={n:0};try{let t=new B([new C("c"),...s]);return w(t,e),t.eval()}finally{_(e.n)}}var g=class{constructor(s){this.ptr=s}type(){let s=i$1._TYPEOF(this.ptr);return Object.keys(d).find(e=>d[e]===s)}},te,$e,L$1=class extends g{constructor(e){if(!(e instanceof g))return Pr(e);super(e.ptr),u(this,te)}static wrap(e){let t=i$1._TYPEOF(e);return new(er(t))(new g(e))}get[Symbol.toStringTag](){return`RObject:${this.type()}`}static getPersistentObject(e){return v[e]}getPropertyValue(e){return this[e]}inspect(){Yt(".Internal(inspect(x))",{x:this})}isNull(){return i$1._TYPEOF(this.ptr)===d.null}isUnbound(){return this.ptr===v.unboundValue.ptr}attrs(){return re.wrap(i$1._ATTRIB(this.ptr))}setNames(e){let t;if(e===null)t=v.null;else if(Array.isArray(e)&&e.every(r=>typeof r=="string"||r===null))t=new A(e);else throw new Error("Argument to setNames must be null or an Array of strings or null");return i$1._Rf_setAttrib(this.ptr,v.namesSymbol.ptr,t.ptr),this}names(){let e=A.wrap(i$1._Rf_getAttrib(this.ptr,v.namesSymbol.ptr));return e.isNull()?null:e.toArray()}includes(e){let t=this.names();return t&&t.includes(e)}toJs(e={depth:0},t=1){throw new Error("This R object cannot be converted to JS")}subset(e){return P(this,te,$e).call(this,e,v.bracketSymbol.ptr)}get(e){return P(this,te,$e).call(this,e,v.bracket2Symbol.ptr)}getDollar(e){return P(this,te,$e).call(this,e,v.dollarSymbol.ptr)}pluck(...e){let t=Zt(v.null);try{let r=(l,a)=>{let p=l.get(a);return Kt(p,t)},n=e.reduce(r,this);return n.isNull()?void 0:n}finally{Qt(t)}}set(e,t){let r={n:0};try{let n=new L$1(e);w(n,r);let l=new L$1(t);w(l,r);let a=new C("[[<-"),p=i$1._Rf_lang4(a.ptr,this.ptr,n.ptr,l.ptr);return w(p,r),L$1.wrap(ge(p,v.baseEnv))}finally{_(r.n)}}static getMethods(e){let t=new Set,r=e;do Object.getOwnPropertyNames(r).map(n=>t.add(n));while(r=Object.getPrototypeOf(r));return[...t.keys()].filter(n=>typeof e[n]=="function")}},R=L$1;te=new WeakSet,$e=function(s,e){let t={n:0};try{let r=new L$1(s);w(r,t);let n=i$1._Rf_lang3(e,this.ptr,r.ptr);return w(n,t),L$1.wrap(ge(n,v.baseEnv))}finally{_(t.n)}};var Ze=class extends R{constructor(){return super(new g(i$1.getValue(i$1._R_NilValue,"*"))),this}toJs(){return{type:"null"}}},C=class extends R{constructor(s){if(s instanceof g){q(s,"symbol"),super(s);return}let e=i$1.allocateUTF8(s);try{super(new g(i$1._Rf_install(e)))}finally{i$1._free(e)}}toJs(){let s=this.toObject();return{type:"symbol",printname:s.printname,symvalue:s.symvalue,internal:s.internal}}toObject(){return{printname:this.printname().isUnbound()?null:this.printname().toString(),symvalue:this.symvalue().isUnbound()?null:this.symvalue().ptr,internal:this.internal().isNull()?null:this.internal().ptr}}toString(){return this.printname().toString()}printname(){return xe.wrap(i$1._PRINTNAME(this.ptr))}symvalue(){return R.wrap(i$1._SYMVALUE(this.ptr))}internal(){return R.wrap(i$1._INTERNAL(this.ptr))}},re=class extends R{constructor(s){if(s instanceof g)return q(s,"pairlist"),super(s),this;let e={n:0};try{let{names:t,values:r}=_e(s),n=re.wrap(i$1._Rf_allocList(r.length));w(n,e);for(let[l,a]=[0,n];!a.isNull();[l,a]=[l+1,a.cdr()])a.setcar(new R(r[l]));n.setNames(t),super(n)}finally{_(e.n)}}get length(){return this.toArray().length}toArray(s={depth:1}){return this.toJs(s).values}toObject({allowDuplicateKey:s=!0,allowEmptyKey:e=!1,depth:t=1}={}){let r=this.entries({depth:t}),n=r.map(([l,a])=>l);if(!s&&new Set(n).size!==n.length)throw new Error("Duplicate key when converting pairlist without allowDuplicateKey enabled");if(!e&&n.some(l=>!l))throw new Error("Empty or null key when converting pairlist without allowEmptyKey enabled");return Object.fromEntries(r.filter((l,a)=>r.findIndex(p=>p[0]===l[0])===a))}entries(s={depth:1}){let e=this.toJs(s);return e.values.map((t,r)=>[e.names?e.names[r]:null,t])}toJs(s={depth:0},e=1){let t=[],r=!1,n=[];for(let l=this;!l.isNull();l=l.cdr()){let a=l.tag();a.isNull()?t.push(""):(r=!0,t.push(a.toString())),s.depth&&e>=s.depth?n.push(l.car()):n.push(l.car().toJs(s,e+1))}return{type:"pairlist",names:r?t:null,values:n}}includes(s){return s in this.toObject()}setcar(s){i$1._SETCAR(this.ptr,s.ptr)}car(){return R.wrap(i$1._CAR(this.ptr))}cdr(){return R.wrap(i$1._CDR(this.ptr))}tag(){return R.wrap(i$1._TAG(this.ptr))}},B=class extends R{constructor(s){if(s instanceof g)return q(s,"call"),super(s),this;let e={n:0};try{let{values:t}=_e(s),r=t.map(l=>w(new R(l),e)),n=B.wrap(i$1._Rf_allocVector(d.call,t.length));w(n,e);for(let[l,a]=[0,n];!a.isNull();[l,a]=[l+1,a.cdr()])a.setcar(r[l]);super(n)}finally{_(e.n)}}setcar(s){i$1._SETCAR(this.ptr,s.ptr)}car(){return R.wrap(i$1._CAR(this.ptr))}cdr(){return R.wrap(i$1._CDR(this.ptr))}eval(){return R.wrap(ge(this.ptr,v.baseEnv))}},Pt=class extends R{constructor(s){if(s instanceof g)return q(s,"list"),super(s),this;let e={n:0};try{let{names:t,values:r}=_e(s),n=i$1._Rf_allocVector(d.list,r.length);w(n,e),r.forEach((l,a)=>{i$1._SET_VECTOR_ELT(n,a,new R(l).ptr)}),R.wrap(n).setNames(t),super(new g(n))}finally{_(e.n)}}get length(){return i$1._LENGTH(this.ptr)}toArray(s={depth:1}){return this.toJs(s).values}toObject({allowDuplicateKey:s=!0,allowEmptyKey:e=!1,depth:t=1}={}){let r=this.entries({depth:t}),n=r.map(([l,a])=>l);if(!s&&new Set(n).size!==n.length)throw new Error("Duplicate key when converting list without allowDuplicateKey enabled");if(!e&&n.some(l=>!l))throw new Error("Empty or null key when converting list without allowEmptyKey enabled");return Object.fromEntries(r.filter((l,a)=>r.findIndex(p=>p[0]===l[0])===a))}entries(s={depth:1}){let e=this.toJs(s);return e.values.map((t,r)=>[e.names?e.names[r]:null,t])}toJs(s={depth:0},e=1){return{type:"list",names:this.names(),values:[...Array(this.length).keys()].map(t=>s.depth&&e>=s.depth?this.get(t+1):this.get(t+1).toJs(s,e+1))}}},ee=class extends R{exec(...s){let e={n:0};try{let t=new B([this,...s]);return w(t,e),t.eval()}finally{_(e.n)}}},xe=class extends R{constructor(s){if(s instanceof g){q(s,"string"),super(s);return}let e=i$1.allocateUTF8(s);try{super(new g(i$1._Rf_mkChar(e)))}finally{i$1._free(e)}}toString(){return i$1.UTF8ToString(i$1._R_CHAR(this.ptr))}toJs(){return{type:"string",value:this.toString()}}},we=class extends R{constructor(s={}){if(s instanceof g)return q(s,"environment"),super(s),this;let e=0;try{let{names:t,values:r}=_e(s),n=Ge(i$1._R_NewEnv(v.globalEnv.ptr,0,0));++e,r.forEach((l,a)=>{let p=t?t[a]:null;if(!p)throw new Error("Can't create object in new environment with empty symbol name");let $=new C(p),y=Ge(new R(l));try{wt(n,$,y)}finally{_(1)}}),super(new g(n))}finally{_(e)}}ls(s=!1,e=!0){return A.wrap(i$1._R_lsInternal3(this.ptr,Number(s),Number(e))).toArray()}bind(s,e){let t=new C(s),r=Ge(new R(e));try{wt(this,t,r)}finally{_(1)}}names(){return this.ls(!0,!0)}frame(){return R.wrap(i$1._FRAME(this.ptr))}subset(s){if(typeof s=="number")throw new Error("Object of type environment is not subsettable");return this.getDollar(s)}toObject({depth:s=0}={}){let e=this.names();return Object.fromEntries([...Array(e.length).keys()].map(t=>[e[t],this.getDollar(e[t]).toJs({depth:s})]))}toJs(s={depth:0},e=1){let t=this.names(),r=[...Array(t.length).keys()].map(n=>s.depth&&e>=s.depth?this.getDollar(t[n]):this.getDollar(t[n]).toJs(s,e+1));return{type:"environment",names:t,values:r}}},j=class extends R{constructor(s,e,t){if(s instanceof g)return q(s,e),super(s),this;let r={n:0};try{let{names:n,values:l}=_e(s),a=i$1._Rf_allocVector(d[e],l.length);w(a,r),l.forEach(t(a)),R.wrap(a).setNames(n),super(new g(a))}finally{_(r.n)}}get length(){return i$1._LENGTH(this.ptr)}get(s){return super.get(s)}subset(s){return super.subset(s)}getDollar(s){throw new Error("$ operator is invalid for atomic vectors")}detectMissing(){let s={n:0};try{let e=i$1._Rf_lang2(new C("is.na").ptr,this.ptr);w(e,s);let t=F.wrap(ge(e,v.baseEnv));w(t,s);let r=t.toTypedArray();return Array.from(r).map(n=>!!n)}finally{_(s.n)}}toArray(){let s=this.toTypedArray();return this.detectMissing().map((e,t)=>e?null:s[t])}toObject({allowDuplicateKey:s=!0,allowEmptyKey:e=!1}={}){let t=this.entries(),r=t.map(([n,l])=>n);if(!s&&new Set(r).size!==r.length)throw new Error("Duplicate key when converting atomic vector without allowDuplicateKey enabled");if(!e&&r.some(n=>!n))throw new Error("Empty or null key when converting atomic vector without allowEmptyKey enabled");return Object.fromEntries(t.filter((n,l)=>t.findIndex(a=>a[0]===n[0])===l))}entries(){let s=this.toArray(),e=this.names();return s.map((t,r)=>[e?e[r]:null,t])}toJs(){return{type:this.type(),names:this.names(),values:this.toArray()}}},Qe,vt=class extends j{constructor(s){super(s,"logical",o(vt,Qe))}getBoolean(s){return this.get(s).toArray()[0]}toBoolean(){if(this.length!==1)throw new Error("Can't convert atomic vector of length > 1 to a scalar JS value");let s=this.getBoolean(1);if(s===null)throw new Error("Can't convert missing value `NA` to a JS boolean");return s}toTypedArray(){return new Int32Array(i$1.HEAP32.subarray(i$1._LOGICAL(this.ptr)/4,i$1._LOGICAL(this.ptr)/4+this.length))}toArray(){let s=this.toTypedArray();return this.detectMissing().map((e,t)=>e?null:!!s[t])}},F=vt;Qe=new WeakMap,u(F,Qe,s=>{let e=i$1._LOGICAL(s),t=i$1.getValue(i$1._R_NaInt,"i32");return(r,n)=>{i$1.setValue(e+4*n,r===null?t:!!r,"i32")}});var Ke,xt=class extends j{constructor(s){super(s,"integer",o(xt,Ke))}getNumber(s){return this.get(s).toArray()[0]}toNumber(){if(this.length!==1)throw new Error("Can't convert atomic vector of length > 1 to a scalar JS value");let s=this.getNumber(1);if(s===null)throw new Error("Can't convert missing value `NA` to a JS number");return s}toTypedArray(){return new Int32Array(i$1.HEAP32.subarray(i$1._INTEGER(this.ptr)/4,i$1._INTEGER(this.ptr)/4+this.length))}},Xe=xt;Ke=new WeakMap,u(Xe,Ke,s=>{let e=i$1._INTEGER(s),t=i$1.getValue(i$1._R_NaInt,"i32");return(r,n)=>{i$1.setValue(e+4*n,r===null?t:Math.round(Number(r)),"i32")}});var Ye,_t=class extends j{constructor(s){super(s,"double",o(_t,Ye))}getNumber(s){return this.get(s).toArray()[0]}toNumber(){if(this.length!==1)throw new Error("Can't convert atomic vector of length > 1 to a scalar JS value");let s=this.getNumber(1);if(s===null)throw new Error("Can't convert missing value `NA` to a JS number");return s}toTypedArray(){return new Float64Array(i$1.HEAPF64.subarray(i$1._REAL(this.ptr)/8,i$1._REAL(this.ptr)/8+this.length))}},Pe=_t;Ye=new WeakMap,u(Pe,Ye,s=>{let e=i$1._REAL(s),t=i$1.getValue(i$1._R_NaReal,"double");return(r,n)=>{i$1.setValue(e+8*n,r===null?t:r,"double")}});var et,Tt=class extends j{constructor(s){super(s,"complex",o(Tt,et))}getComplex(s){return this.get(s).toArray()[0]}toComplex(){if(this.length!==1)throw new Error("Can't convert atomic vector of length > 1 to a scalar JS value");let s=this.getComplex(1);if(s===null)throw new Error("Can't convert missing value `NA` to a JS object");return s}toTypedArray(){return new Float64Array(i$1.HEAPF64.subarray(i$1._COMPLEX(this.ptr)/8,i$1._COMPLEX(this.ptr)/8+2*this.length))}toArray(){let s=this.toTypedArray();return this.detectMissing().map((e,t)=>e?null:{re:s[2*t],im:s[2*t+1]})}},ve=Tt;et=new WeakMap,u(ve,et,s=>{let e=i$1._COMPLEX(s),t=i$1.getValue(i$1._R_NaReal,"double");return(r,n)=>{i$1.setValue(e+8*(2*n),r===null?t:r.re,"double"),i$1.setValue(e+8*(2*n+1),r===null?t:r.im,"double")}});var tt,Et=class extends j{constructor(s){super(s,"character",o(Et,tt))}getString(s){return this.get(s).toArray()[0]}toString(){if(this.length!==1)throw new Error("Can't convert atomic vector of length > 1 to a scalar JS value");let s=this.getString(1);if(s===null)throw new Error("Can't convert missing value `NA` to a JS string");return s}toTypedArray(){return new Uint32Array(i$1.HEAPU32.subarray(i$1._STRING_PTR(this.ptr)/4,i$1._STRING_PTR(this.ptr)/4+this.length))}toArray(){return this.detectMissing().map((s,e)=>s?null:i$1.UTF8ToString(i$1._R_CHAR(i$1._STRING_ELT(this.ptr,e))))}},A=Et;tt=new WeakMap,u(A,tt,s=>(e,t)=>{e===null?i$1._SET_STRING_ELT(s,t,v.naString.ptr):i$1._SET_STRING_ELT(s,t,new xe(e).ptr)});var rt,kt=class extends j{constructor(s){super(s,"raw",o(kt,rt))}getNumber(s){return this.get(s).toArray()[0]}toNumber(){if(this.length!==1)throw new Error("Can't convert atomic vector of length > 1 to a scalar JS value");let s=this.getNumber(1);if(s===null)throw new Error("Can't convert missing value `NA` to a JS number");return s}toTypedArray(){return new Uint8Array(i$1.HEAPU8.subarray(i$1._RAW(this.ptr),i$1._RAW(this.ptr)+this.length))}},ze=kt;rt=new WeakMap,u(ze,rt,s=>{let e=i$1._RAW(s);return(t,r)=>{i$1.setValue(e+r,Number(t),"i8")}});function _e(s){return bt(s)?s:Array.isArray(s)?{names:null,values:s}:s&&typeof s=="object"&&!gt(s)?{names:Object.keys(s),values:Object.values(s)}:{names:null,values:[s]}}function er(s){let e={[d.null]:Ze,[d.symbol]:C,[d.pairlist]:re,[d.closure]:ee,[d.environment]:we,[d.call]:B,[d.special]:ee,[d.builtin]:ee,[d.string]:xe,[d.logical]:F,[d.integer]:Xe,[d.double]:Pe,[d.complex]:ve,[d.character]:A,[d.list]:Pt,[d.raw]:ze,[d.function]:ee};return s in e?e[s]:R}function xr(s){return s instanceof R}var v;function Tr(){}function Er(s,e){return async function*(){let t={type:"callRObjectMethod",data:{payload:e._payload,prop:"getPropertyValue",args:[{payloadType:"raw",obj:"length"}],shelter:void 0}},r=await s.request(t);if(typeof r.obj!="number")throw new Error("Cannot iterate over object, unexpected type for length property.");for(let n=1;n<=r.obj;n++)yield e.get(n)}}function tr(s,e,t){return async(...r)=>{let n=r.map(p=>D(p)?p._payload:{obj:E(p,D,$=>$._payload),payloadType:"raw"}),l={type:"callRObjectMethod",data:{payload:t,prop:e,args:n}},a=await s.request(l);switch(a.payloadType){case"ptr":return I(s,a);case"raw":return E(a,Le,(p,$)=>I($,p),s).obj}}}async function kr(s,e,t,r){let n={type:"newRObject",data:{objType:e,obj:E(r,D,a=>a._payload),shelter:t}},l=await s.request(n);switch(l.payloadType){case"raw":throw new Error("Unexpected raw payload type returned from newRObject");case"ptr":return I(s,l)}}function I(s,e){var t;let r=new Proxy((t=e.obj.methods)!=null&&t.includes("exec")?Object.assign(Tr,{...e}):e,{get:(n,l)=>{var a;if(l==="_payload")return e;if(l===Symbol.asyncIterator)return Er(s,r);if((a=e.obj.methods)!=null&&a.includes(l.toString()))return tr(s,l.toString(),e)},apply:async(n,l,a)=>{let p=await I(s,e).exec(...a);return zt(p)?p:p.toJs()}});return r}function T(s,e,t){return new Proxy(R,{construct:(r,n)=>kr(s,t,e,...n),get:(r,n)=>tr(s,n.toString())})}var Te,Ee,ke,We,nt,st,ot,at,it,rr,Wt=class{constructor(s={},e={REnv:{R_HOME:"/usr/lib/R",R_ENABLE_JIT:"0",R_DEFAULT_DEVICE:"canvas"}}){u(this,it),u(this,Te,void 0),u(this,Ee,void 0),u(this,ke,void 0),u(this,We,void 0),u(this,nt,t=>{console.log(t)}),u(this,st,t=>{console.error(t)}),u(this,ot,t=>{let r=prompt(t);r&&this.stdin(`${r}
`)}),u(this,at,t=>{if(f)throw new Error("Plotting with HTML canvas is not yet supported under Node");Function(`this.getContext('2d').${t}`).bind(this.canvas)()}),this.webR=new lt(e),f||(this.canvas=document.createElement("canvas"),this.canvas.setAttribute("width","1008"),this.canvas.setAttribute("height","1008")),c(this,Te,s.stdout||o(this,nt)),c(this,Ee,s.stderr||o(this,st)),c(this,ke,s.prompt||o(this,ot)),c(this,We,s.canvasExec||o(this,at))}stdin(s){this.webR.writeConsole(s)}interrupt(){this.webR.interrupt()}run(){P(this,it,rr).call(this)}};Te=new WeakMap,Ee=new WeakMap,ke=new WeakMap,We=new WeakMap,nt=new WeakMap,st=new WeakMap,ot=new WeakMap,at=new WeakMap,it=new WeakSet,rr=async function(){for(;;){let s=await this.webR.read();switch(s.type){case"stdout":o(this,Te).call(this,s.data);break;case"stderr":o(this,Ee).call(this,s.data);break;case"prompt":o(this,ke).call(this,s.data);break;case"canvasExec":o(this,We).call(this,s.data);break;default:console.warn(`Unhandled output type for webR Console: ${s.type}.`)}}};var Wr={R_HOME:"/usr/lib/R",R_ENABLE_JIT:"0"},Sr={RArgs:[],REnv:Wr,baseUrl:$t,serviceWorkerUrl:"",repoUrl:Xt,homedir:"/home/web_user",interactive:!0,channelType:O.Automatic},b,lt=class{constructor(s={}){u(this,b,void 0),this.FS={lookupPath:async t=>{let r={type:"lookupPath",data:{path:t}};return(await o(this,b).request(r)).obj},mkdir:async t=>{let r={type:"mkdir",data:{path:t}};return(await o(this,b).request(r)).obj},readFile:async(t,r)=>{let n={type:"readFile",data:{path:t,flags:r}};return(await o(this,b).request(n)).obj},rmdir:async t=>{let r={type:"rmdir",data:{path:t}};await o(this,b).request(r)},writeFile:async(t,r,n)=>{let l={type:"writeFile",data:{path:t,data:r,flags:n}};await o(this,b).request(l)},unlink:async t=>{let r={type:"unlink",data:{path:t}};await o(this,b).request(r)}};let e=Object.assign(Sr,s);c(this,b,Gt(e)),this.objs={},this.Shelter=Or(o(this,b))}async init(){let s=await o(this,b).initialised;return this.globalShelter=await new this.Shelter,this.RObject=this.globalShelter.RObject,this.RLogical=this.globalShelter.RLogical,this.RInteger=this.globalShelter.RInteger,this.RDouble=this.globalShelter.RDouble,this.RComplex=this.globalShelter.RComplex,this.RCharacter=this.globalShelter.RCharacter,this.RRaw=this.globalShelter.RRaw,this.RList=this.globalShelter.RList,this.RPairlist=this.globalShelter.RPairlist,this.REnvironment=this.globalShelter.REnvironment,this.RSymbol=this.globalShelter.RSymbol,this.RString=this.globalShelter.RString,this.RCall=this.globalShelter.RCall,this.objs={baseEnv:await this.RObject.getPersistentObject("baseEnv"),globalEnv:await this.RObject.getPersistentObject("globalEnv"),null:await this.RObject.getPersistentObject("null"),true:await this.RObject.getPersistentObject("true"),false:await this.RObject.getPersistentObject("false"),na:await this.RObject.getPersistentObject("na")},s}close(){o(this,b).close()}async read(){return await o(this,b).read()}async flush(){return await o(this,b).flush()}write(s){o(this,b).write(s)}writeConsole(s){this.write({type:"stdin",data:s+`
`})}interrupt(){o(this,b).interrupt()}async installPackages(s){for(let e of s){let t={type:"installPackage",data:{name:e}};await o(this,b).request(t)}}async destroy(s){await this.globalShelter.destroy(s)}async evalR(s,e){return this.globalShelter.evalR(s,e)}async evalRVoid(s,e){return this.evalRRaw(s,"void",e)}async evalRBoolean(s,e){return this.evalRRaw(s,"boolean",e)}async evalRNumber(s,e){return this.evalRRaw(s,"number",e)}async evalRString(s,e){return this.evalRRaw(s,"string",e)}async evalRRaw(s,e,t={}){let r=E(t,D,a=>a._payload),n={type:"evalRRaw",data:{code:s,options:r,outputType:e}},l=await o(this,b).request(n);switch(l.payloadType){case"raw":return l.obj;case"ptr":throw new Error("Unexpected ptr payload type returned from evalRVoid")}}};b=new WeakMap;var m,h,Se,pt=class{constructor(s){u(this,m,""),u(this,h,void 0),u(this,Se,!1),c(this,h,s)}async init(){if(o(this,Se))return;let s={type:"newShelter"},e=await o(this,h).request(s);c(this,m,e.obj),this.RObject=T(o(this,h),o(this,m),"object"),this.RLogical=T(o(this,h),o(this,m),"logical"),this.RInteger=T(o(this,h),o(this,m),"integer"),this.RDouble=T(o(this,h),o(this,m),"double"),this.RComplex=T(o(this,h),o(this,m),"complex"),this.RCharacter=T(o(this,h),o(this,m),"character"),this.RRaw=T(o(this,h),o(this,m),"raw"),this.RList=T(o(this,h),o(this,m),"list"),this.RPairlist=T(o(this,h),o(this,m),"pairlist"),this.REnvironment=T(o(this,h),o(this,m),"environment"),this.RSymbol=T(o(this,h),o(this,m),"symbol"),this.RString=T(o(this,h),o(this,m),"string"),this.RCall=T(o(this,h),o(this,m),"call"),c(this,Se,!0)}async purge(){let s={type:"shelterPurge",data:o(this,m)};await o(this,h).request(s)}async destroy(s){let e={type:"shelterDestroy",data:{id:o(this,m),obj:s._payload}};await o(this,h).request(e)}async size(){let s={type:"shelterSize",data:o(this,m)};return(await o(this,h).request(s)).obj}async evalR(s,e={}){let t=E(e,D,l=>l._payload),r={type:"evalR",data:{code:s,options:t,shelter:o(this,m)}},n=await o(this,h).request(r);switch(n.payloadType){case"raw":throw new Error("Unexpected payload type returned from evalR");default:return I(o(this,h),n)}}async captureR(s,e={}){let t=E(e,D,l=>l._payload),r={type:"captureR",data:{code:s,options:t,shelter:o(this,m)}},n=await o(this,h).request(r);switch(n.payloadType){case"ptr":throw new Error("Unexpected payload type returned from evalR");case"raw":{let l=n.obj,a=I(o(this,h),l.result),p=l.output;for(let $=0;$<p.length;++$)p[$].type!=="stdout"&&p[$].type!=="stderr"&&(p[$].data=I(o(this,h),p[$].data));return{result:a,output:p}}}}};m=new WeakMap,h=new WeakMap,Se=new WeakMap;function Or(s){return new Proxy(pt,{construct:async()=>{let e=new pt(s);return await e.init(),e}})}var ace$1={},dom$k={},useragent$a={};(function(s){s.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},s.getOS=function(){return s.isMac?s.OS.MAC:s.isLinux?s.OS.LINUX:s.OS.WINDOWS};var e=typeof navigator=="object"?navigator:{},t=(/mac|win|linux/i.exec(e.platform)||["other"])[0].toLowerCase(),r=e.userAgent||"",n=e.appName||"";s.isWin=t=="win",s.isMac=t=="mac",s.isLinux=t=="linux",s.isIE=n=="Microsoft Internet Explorer"||n.indexOf("MSAppHost")>=0?parseFloat((r.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((r.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),s.isOldIE=s.isIE&&s.isIE<9,s.isGecko=s.isMozilla=r.match(/ Gecko\/\d+/),s.isOpera=typeof opera=="object"&&Object.prototype.toString.call(window.opera)=="[object Opera]",s.isWebKit=parseFloat(r.split("WebKit/")[1])||void 0,s.isChrome=parseFloat(r.split(" Chrome/")[1])||void 0,s.isEdge=parseFloat(r.split(" Edge/")[1])||void 0,s.isAIR=r.indexOf("AdobeAIR")>=0,s.isAndroid=r.indexOf("Android")>=0,s.isChromeOS=r.indexOf(" CrOS ")>=0,s.isIOS=/iPad|iPhone|iPod/.test(r)&&!window.MSStream,s.isIOS&&(s.isMac=!0),s.isMobile=s.isIOS||s.isAndroid})(useragent$a);(function(s){var e=useragent$a,t="http://www.w3.org/1999/xhtml";s.buildDom=function $(y,x,N){if(typeof y=="string"&&y){var z=document.createTextNode(y);return x&&x.appendChild(z),z}if(!Array.isArray(y))return y&&y.appendChild&&x&&x.appendChild(y),y;if(typeof y[0]!="string"||!y[0]){for(var he=[],X=0;X<y.length;X++){var ne=$(y[X],x,N);ne&&he.push(ne)}return he}var Q=document.createElement(y[0]),ie=y[1],ae=1;ie&&typeof ie=="object"&&!Array.isArray(ie)&&(ae=2);for(var X=ae;X<y.length;X++)$(y[X],Q,N);return ae==2&&Object.keys(ie).forEach(function(ce){var ue=ie[ce];ce==="class"?Q.className=Array.isArray(ue)?ue.join(" "):ue:typeof ue=="function"||ce=="value"||ce[0]=="$"?Q[ce]=ue:ce==="ref"?N&&(N[ue]=Q):ce==="style"?typeof ue=="string"&&(Q.style.cssText=ue):ue!=null&&Q.setAttribute(ce,ue)}),x&&x.appendChild(Q),Q},s.getDocumentHead=function($){return $||($=document),$.head||$.getElementsByTagName("head")[0]||$.documentElement},s.createElement=function($,y){return document.createElementNS?document.createElementNS(y||t,$):document.createElement($)},s.removeChildren=function($){$.innerHTML=""},s.createTextNode=function($,y){var x=y?y.ownerDocument:document;return x.createTextNode($)},s.createFragment=function($){var y=$?$.ownerDocument:document;return y.createDocumentFragment()},s.hasCssClass=function($,y){var x=($.className+"").split(/\s+/g);return x.indexOf(y)!==-1},s.addCssClass=function($,y){s.hasCssClass($,y)||($.className+=" "+y)},s.removeCssClass=function($,y){for(var x=$.className.split(/\s+/g);;){var N=x.indexOf(y);if(N==-1)break;x.splice(N,1)}$.className=x.join(" ")},s.toggleCssClass=function($,y){for(var x=$.className.split(/\s+/g),N=!0;;){var z=x.indexOf(y);if(z==-1)break;N=!1,x.splice(z,1)}return N&&x.push(y),$.className=x.join(" "),N},s.setCssClass=function($,y,x){x?s.addCssClass($,y):s.removeCssClass($,y)},s.hasCssString=function($,y){var x=0,N;if(y=y||document,N=y.querySelectorAll("style")){for(;x<N.length;)if(N[x++].id===$)return!0}},s.removeElementById=function($,y){y=y||document,y.getElementById($)&&y.getElementById($).remove()};var r,n=[];s.useStrictCSP=function($){r=$,$==!1?l():n||(n=[])};function l(){var $=n;n=null,$&&$.forEach(function(y){a(y[0],y[1])})}function a($,y,x){if(!(typeof document>"u")){if(n){if(x)l();else if(x===!1)return n.push([$,y])}if(!r){var N=x;!x||!x.getRootNode?N=document:(N=x.getRootNode(),(!N||N==x)&&(N=document));var z=N.ownerDocument||N;if(y&&s.hasCssString(y,N))return null;y&&($+=`
/*# sourceURL=ace/css/`+y+" */");var he=s.createElement("style");he.appendChild(z.createTextNode($)),y&&(he.id=y),N==z&&(N=s.getDocumentHead(z)),N.insertBefore(he,N.firstChild)}}}if(s.importCssString=a,s.importCssStylsheet=function($,y){s.buildDom(["link",{rel:"stylesheet",href:$}],s.getDocumentHead(y))},s.scrollbarWidth=function($){var y=s.createElement("ace_inner");y.style.width="100%",y.style.minWidth="0px",y.style.height="200px",y.style.display="block";var x=s.createElement("ace_outer"),N=x.style;N.position="absolute",N.left="-10000px",N.overflow="hidden",N.width="200px",N.minWidth="0px",N.height="150px",N.display="block",x.appendChild(y);var z=$&&$.documentElement||document&&document.documentElement;if(!z)return 0;z.appendChild(x);var he=y.offsetWidth;N.overflow="scroll";var X=y.offsetWidth;return he===X&&(X=x.clientWidth),z.removeChild(x),he-X},s.computedStyle=function($,y){return window.getComputedStyle($,"")||{}},s.setStyle=function($,y,x){$[y]!==x&&($[y]=x)},s.HAS_CSS_ANIMATION=!1,s.HAS_CSS_TRANSFORMS=!1,s.HI_DPI=e.isWin?typeof window<"u"&&window.devicePixelRatio>=1.5:!0,e.isChromeOS&&(s.HI_DPI=!1),typeof document<"u"){var p=document.createElement("div");s.HI_DPI&&p.style.transform!==void 0&&(s.HAS_CSS_TRANSFORMS=!0),!e.isEdge&&typeof p.style.animationName<"u"&&(s.HAS_CSS_ANIMATION=!0),p=null}s.HAS_CSS_TRANSFORMS?s.translate=function($,y,x){$.style.transform="translate("+Math.round(y)+"px, "+Math.round(x)+"px)"}:s.translate=function($,y,x){$.style.top=Math.round(x)+"px",$.style.left=Math.round(y)+"px"}})(dom$k);var range={},comparePoints$1=function(s,e){return s.row-e.row||s.column-e.column};let Range$e=class ai{constructor(e,t,r,n){this.start={row:e,column:t},this.end={row:r,column:n}}isEqual(e){return this.start.row===e.start.row&&this.end.row===e.end.row&&this.start.column===e.start.column&&this.end.column===e.end.column}toString(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"}contains(e,t){return this.compare(e,t)==0}compareRange(e){var t,r=e.end,n=e.start;return t=this.compare(r.row,r.column),t==1?(t=this.compare(n.row,n.column),t==1?2:t==0?1:0):t==-1?-2:(t=this.compare(n.row,n.column),t==-1?-1:t==1?42:0)}comparePoint(e){return this.compare(e.row,e.column)}containsRange(e){return this.comparePoint(e.start)==0&&this.comparePoint(e.end)==0}intersects(e){var t=this.compareRange(e);return t==-1||t==0||t==1}isEnd(e,t){return this.end.row==e&&this.end.column==t}isStart(e,t){return this.start.row==e&&this.start.column==t}setStart(e,t){typeof e=="object"?(this.start.column=e.column,this.start.row=e.row):(this.start.row=e,this.start.column=t)}setEnd(e,t){typeof e=="object"?(this.end.column=e.column,this.end.row=e.row):(this.end.row=e,this.end.column=t)}inside(e,t){return this.compare(e,t)==0?!(this.isEnd(e,t)||this.isStart(e,t)):!1}insideStart(e,t){return this.compare(e,t)==0?!this.isEnd(e,t):!1}insideEnd(e,t){return this.compare(e,t)==0?!this.isStart(e,t):!1}compare(e,t){return!this.isMultiLine()&&e===this.start.row?t<this.start.column?-1:t>this.end.column?1:0:e<this.start.row?-1:e>this.end.row?1:this.start.row===e?t>=this.start.column?0:-1:this.end.row===e?t<=this.end.column?0:1:0}compareStart(e,t){return this.start.row==e&&this.start.column==t?-1:this.compare(e,t)}compareEnd(e,t){return this.end.row==e&&this.end.column==t?1:this.compare(e,t)}compareInside(e,t){return this.end.row==e&&this.end.column==t?1:this.start.row==e&&this.start.column==t?-1:this.compare(e,t)}clipRows(e,t){if(this.end.row>t)var r={row:t+1,column:0};else if(this.end.row<e)var r={row:e,column:0};if(this.start.row>t)var n={row:t+1,column:0};else if(this.start.row<e)var n={row:e,column:0};return ai.fromPoints(n||this.start,r||this.end)}extend(e,t){var r=this.compare(e,t);if(r==0)return this;if(r==-1)var n={row:e,column:t};else var l={row:e,column:t};return ai.fromPoints(n||this.start,l||this.end)}isEmpty(){return this.start.row===this.end.row&&this.start.column===this.end.column}isMultiLine(){return this.start.row!==this.end.row}clone(){return ai.fromPoints(this.start,this.end)}collapseRows(){return this.end.column==0?new ai(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new ai(this.start.row,0,this.end.row,0)}toScreenRange(e){var t=e.documentToScreenPosition(this.start),r=e.documentToScreenPosition(this.end);return new ai(t.row,t.column,r.row,r.column)}moveBy(e,t){this.start.row+=e,this.start.column+=t,this.end.row+=e,this.end.column+=t}};Range$e.fromPoints=function(s,e){return new Range$e(s.row,s.column,e.row,e.column)};Range$e.comparePoints=comparePoints$1;Range$e.comparePoints=function(s,e){return s.row-e.row||s.column-e.column};range.Range=Range$e;var editor={},oop$i={};(function(s){s.inherits=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},s.mixin=function(e,t){for(var r in t)e[r]=t[r];return e},s.implement=function(e,t){s.mixin(e,t)}})(oop$i);var lang$e={};lang$e.last=function(s){return s[s.length-1]};lang$e.stringReverse=function(s){return s.split("").reverse().join("")};lang$e.stringRepeat=function(s,e){for(var t="";e>0;)e&1&&(t+=s),(e>>=1)&&(s+=s);return t};var trimBeginRegexp=/^\s\s*/,trimEndRegexp=/\s\s*$/;lang$e.stringTrimLeft=function(s){return s.replace(trimBeginRegexp,"")};lang$e.stringTrimRight=function(s){return s.replace(trimEndRegexp,"")};lang$e.copyObject=function(s){var e={};for(var t in s)e[t]=s[t];return e};lang$e.copyArray=function(s){for(var e=[],t=0,r=s.length;t<r;t++)s[t]&&typeof s[t]=="object"?e[t]=this.copyObject(s[t]):e[t]=s[t];return e};lang$e.deepCopy=function s(e){if(typeof e!="object"||!e)return e;var t;if(Array.isArray(e)){t=[];for(var r=0;r<e.length;r++)t[r]=s(e[r]);return t}if(Object.prototype.toString.call(e)!=="[object Object]")return e;t={};for(var r in e)t[r]=s(e[r]);return t};lang$e.arrayToMap=function(s){for(var e={},t=0;t<s.length;t++)e[s[t]]=1;return e};lang$e.createMap=function(s){var e=Object.create(null);for(var t in s)e[t]=s[t];return e};lang$e.arrayRemove=function(s,e){for(var t=0;t<=s.length;t++)e===s[t]&&s.splice(t,1)};lang$e.escapeRegExp=function(s){return s.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")};lang$e.escapeHTML=function(s){return(""+s).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")};lang$e.getMatchOffsets=function(s,e){var t=[];return s.replace(e,function(r){t.push({offset:arguments[arguments.length-2],length:r.length})}),t};lang$e.deferredCall=function(s){var e=null,t=function(){e=null,s()},r=function(n){return r.cancel(),e=setTimeout(t,n||0),r};return r.schedule=r,r.call=function(){return this.cancel(),s(),r},r.cancel=function(){return clearTimeout(e),e=null,r},r.isPending=function(){return e},r};lang$e.delayedCall=function(s,e){var t=null,r=function(){t=null,s()},n=function(l){t==null&&(t=setTimeout(r,l||e))};return n.delay=function(l){t&&clearTimeout(t),t=setTimeout(r,l||e)},n.schedule=n,n.call=function(){this.cancel(),s()},n.cancel=function(){t&&clearTimeout(t),t=null},n.isPending=function(){return t},n};var textinput={},event$c={},keys$2={};/*! @license
==========================================================================
SproutCore -- JavaScript Application Framework
copyright 2006-2009, Sprout Systems Inc., Apple Inc. and contributors.

Permission is hereby granted, free of charge, to any person obtaining a
copy of this software and associated documentation files (the "Software"),
to deal in the Software without restriction, including without limitation
the rights to use, copy, modify, merge, publish, distribute, sublicense,
and/or sell copies of the Software, and to permit persons to whom the
Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
DEALINGS IN THE SOFTWARE.

SproutCore and the SproutCore logo are trademarks of Sprout Systems, Inc.

For more information about SproutCore, visit http://www.sproutcore.com


==========================================================================
@license */(function(s){var e=oop$i,t=function(){var r={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};r.PRINTABLE_KEYS[173]="-";var n,l;for(l in r.FUNCTION_KEYS)n=r.FUNCTION_KEYS[l].toLowerCase(),r[n]=parseInt(l,10);for(l in r.PRINTABLE_KEYS)n=r.PRINTABLE_KEYS[l].toLowerCase(),r[n]=parseInt(l,10);return e.mixin(r,r.MODIFIER_KEYS),e.mixin(r,r.PRINTABLE_KEYS),e.mixin(r,r.FUNCTION_KEYS),r.enter=r.return,r.escape=r.esc,r.del=r.delete,function(){for(var a=["cmd","ctrl","alt","shift"],p=Math.pow(2,a.length);p--;)r.KEY_MODS[p]=a.filter(function($){return p&r.KEY_MODS[$]}).join("-")+"-"}(),r.KEY_MODS[0]="",r.KEY_MODS[-1]="input-",r}();e.mixin(s,t),s.default=s,s.keyCodeToString=function(r){var n=t[r];return typeof n!="string"&&(n=String.fromCharCode(r)),n.toLowerCase()}})(keys$2);(function(s){var e=keys$2,t=useragent$a,r=null,n=0,l;function a(){l=!1;try{document.createComment("").addEventListener("test",function(){},{get passive(){l={passive:!1}}})}catch{}}function p(){return l==null&&a(),l}function $(ne,Q,ie){this.elem=ne,this.type=Q,this.callback=ie}$.prototype.destroy=function(){x(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var y=s.addListener=function(ne,Q,ie,ae){ne.addEventListener(Q,ie,p()),ae&&ae.$toDestroy.push(new $(ne,Q,ie))},x=s.removeListener=function(ne,Q,ie){ne.removeEventListener(Q,ie,p())};s.stopEvent=function(ne){return s.stopPropagation(ne),s.preventDefault(ne),!1},s.stopPropagation=function(ne){ne.stopPropagation&&ne.stopPropagation()},s.preventDefault=function(ne){ne.preventDefault&&ne.preventDefault()},s.getButton=function(ne){return ne.type=="dblclick"?0:ne.type=="contextmenu"||t.isMac&&ne.ctrlKey&&!ne.altKey&&!ne.shiftKey?2:ne.button},s.capture=function(ne,Q,ie){var ae=ne&&ne.ownerDocument||document;function ce(ue){Q&&Q(ue),ie&&ie(ue),x(ae,"mousemove",Q),x(ae,"mouseup",ce),x(ae,"dragstart",ce)}return y(ae,"mousemove",Q),y(ae,"mouseup",ce),y(ae,"dragstart",ce),ce},s.addMouseWheelListener=function(ne,Q,ie){y(ne,"wheel",function(ae){var ce=.15,ue=ae.deltaX||0,de=ae.deltaY||0;switch(ae.deltaMode){case ae.DOM_DELTA_PIXEL:ae.wheelX=ue*ce,ae.wheelY=de*ce;break;case ae.DOM_DELTA_LINE:var fe=15;ae.wheelX=ue*fe,ae.wheelY=de*fe;break;case ae.DOM_DELTA_PAGE:var Oe=150;ae.wheelX=ue*Oe,ae.wheelY=de*Oe;break}Q(ae)},ie)},s.addMultiMouseDownListener=function(ne,Q,ie,ae,ce){var ue=0,de,fe,Oe,Ne={2:"dblclick",3:"tripleclick",4:"quadclick"};function ft(Ie){if(s.getButton(Ie)!==0?ue=0:Ie.detail>1?(ue++,ue>4&&(ue=1)):ue=1,t.isIE){var Be=Math.abs(Ie.clientX-de)>5||Math.abs(Ie.clientY-fe)>5;(!Oe||Be)&&(ue=1),Oe&&clearTimeout(Oe),Oe=setTimeout(function(){Oe=null},Q[ue-1]||600),ue==1&&(de=Ie.clientX,fe=Ie.clientY)}if(Ie._clicks=ue,ie[ae]("mousedown",Ie),ue>4)ue=0;else if(ue>1)return ie[ae](Ne[ue],Ie)}Array.isArray(ne)||(ne=[ne]),ne.forEach(function(Ie){y(Ie,"mousedown",ft,ce)})};var N=function(ne){return 0|(ne.ctrlKey?1:0)|(ne.altKey?2:0)|(ne.shiftKey?4:0)|(ne.metaKey?8:0)};s.getModifierString=function(ne){return e.KEY_MODS[N(ne)]};function z(ne,Q,ie){var ae=N(Q);if(!t.isMac&&r){if(Q.getModifierState&&(Q.getModifierState("OS")||Q.getModifierState("Win"))&&(ae|=8),r.altGr)if((3&ae)!=3)r.altGr=0;else return;if(ie===18||ie===17){var ce="location"in Q?Q.location:Q.keyLocation;if(ie===17&&ce===1)r[ie]==1&&(n=Q.timeStamp);else if(ie===18&&ae===3&&ce===2){var ue=Q.timeStamp-n;ue<50&&(r.altGr=!0)}}}if(ie in e.MODIFIER_KEYS&&(ie=-1),!ae&&ie===13){var ce="location"in Q?Q.location:Q.keyLocation;if(ce===3&&(ne(Q,ae,-ie),Q.defaultPrevented))return}if(t.isChromeOS&&ae&8){if(ne(Q,ae,ie),Q.defaultPrevented)return;ae&=-9}return!ae&&!(ie in e.FUNCTION_KEYS)&&!(ie in e.PRINTABLE_KEYS)?!1:ne(Q,ae,ie)}s.addCommandKeyListener=function(ne,Q,ie){if(t.isOldGecko||t.isOpera&&!("KeyboardEvent"in window)){var ae=null;y(ne,"keydown",function(ue){ae=ue.keyCode},ie),y(ne,"keypress",function(ue){return z(Q,ue,ae)},ie)}else{var ce=null;y(ne,"keydown",function(ue){r[ue.keyCode]=(r[ue.keyCode]||0)+1;var de=z(Q,ue,ue.keyCode);return ce=ue.defaultPrevented,de},ie),y(ne,"keypress",function(ue){ce&&(ue.ctrlKey||ue.altKey||ue.shiftKey||ue.metaKey)&&(s.stopEvent(ue),ce=null)},ie),y(ne,"keyup",function(ue){r[ue.keyCode]=null},ie),r||(he(),y(window,"focus",he))}};function he(){r=Object.create(null)}if(typeof window=="object"&&window.postMessage&&!t.isOldIE){var X=1;s.nextTick=function(ne,Q){Q=Q||window;var ie="zero-timeout-message-"+X++,ae=function(ce){ce.data==ie&&(s.stopPropagation(ce),x(Q,"message",ae),ne())};y(Q,"message",ae),Q.postMessage(ie,"*")}}s.$idleBlocked=!1,s.onIdle=function(ne,Q){return setTimeout(function ie(){s.$idleBlocked?setTimeout(ie,100):ne()},Q)},s.$idleBlockId=null,s.blockIdle=function(ne){s.$idleBlockId&&clearTimeout(s.$idleBlockId),s.$idleBlocked=!0,s.$idleBlockId=setTimeout(function(){s.$idleBlocked=!1},ne||100)},s.nextFrame=typeof window=="object"&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),s.nextFrame?s.nextFrame=s.nextFrame.bind(window):s.nextFrame=function(ne){setTimeout(ne,17)}})(event$c);function commonjsRequire(s){throw new Error('Could not dynamically require "'+s+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var config$6={exports:{}},net={};/*
 * based on code from:
 *
 * @license RequireJS text 0.25.0 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/requirejs for details
 */var dom$j=dom$k;net.get=function(s,e){var t=new XMLHttpRequest;t.open("GET",s,!0),t.onreadystatechange=function(){t.readyState===4&&e(t.responseText)},t.send(null)};net.loadScript=function(s,e){var t=dom$j.getDocumentHead(),r=document.createElement("script");r.src=s,t.appendChild(r),r.onload=r.onreadystatechange=function(n,l){(l||!r.readyState||r.readyState=="loaded"||r.readyState=="complete")&&(r=r.onload=r.onreadystatechange=null,l||e())}};net.qualifyURL=function(s){var e=document.createElement("a");return e.href=s,e.href};var app_config={},event_emitter={},EventEmitter$g={},stopPropagation=function(){this.propagationStopped=!0},preventDefault=function(){this.defaultPrevented=!0};EventEmitter$g._emit=EventEmitter$g._dispatchEvent=function(s,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var t=this._eventRegistry[s]||[],r=this._defaultHandlers[s];if(!(!t.length&&!r)){(typeof e!="object"||!e)&&(e={}),e.type||(e.type=s),e.stopPropagation||(e.stopPropagation=stopPropagation),e.preventDefault||(e.preventDefault=preventDefault),t=t.slice();for(var n=0;n<t.length&&(t[n](e,this),!e.propagationStopped);n++);if(r&&!e.defaultPrevented)return r(e,this)}};EventEmitter$g._signal=function(s,e){var t=(this._eventRegistry||{})[s];if(t){t=t.slice();for(var r=0;r<t.length;r++)t[r](e,this)}};EventEmitter$g.once=function(s,e){var t=this;if(this.on(s,function r(){t.off(s,r),e.apply(null,arguments)}),!e)return new Promise(function(r){e=r})};EventEmitter$g.setDefaultHandler=function(s,e){var t=this._defaultHandlers;if(t||(t=this._defaultHandlers={_disabled_:{}}),t[s]){var r=t[s],n=t._disabled_[s];n||(t._disabled_[s]=n=[]),n.push(r);var l=n.indexOf(e);l!=-1&&n.splice(l,1)}t[s]=e};EventEmitter$g.removeDefaultHandler=function(s,e){var t=this._defaultHandlers;if(t){var r=t._disabled_[s];if(t[s]==e)r&&this.setDefaultHandler(s,r.pop());else if(r){var n=r.indexOf(e);n!=-1&&r.splice(n,1)}}};EventEmitter$g.on=EventEmitter$g.addEventListener=function(s,e,t){this._eventRegistry=this._eventRegistry||{};var r=this._eventRegistry[s];return r||(r=this._eventRegistry[s]=[]),r.indexOf(e)==-1&&r[t?"unshift":"push"](e),e};EventEmitter$g.off=EventEmitter$g.removeListener=EventEmitter$g.removeEventListener=function(s,e){this._eventRegistry=this._eventRegistry||{};var t=this._eventRegistry[s];if(t){var r=t.indexOf(e);r!==-1&&t.splice(r,1)}};EventEmitter$g.removeAllListeners=function(s){s||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[s]=void 0),this._defaultHandlers&&(this._defaultHandlers[s]=void 0)};event_emitter.EventEmitter=EventEmitter$g;var oop$h=oop$i,EventEmitter$f=event_emitter.EventEmitter,optionsProvider={setOptions:function(s){Object.keys(s).forEach(function(e){this.setOption(e,s[e])},this)},getOptions:function(s){var e={};if(s)Array.isArray(s)||(e=s,s=Object.keys(e));else{var t=this.$options;s=Object.keys(t).filter(function(r){return!t[r].hidden})}return s.forEach(function(r){e[r]=this.getOption(r)},this),e},setOption:function(s,e){if(this["$"+s]!==e){var t=this.$options[s];if(!t)return warn('misspelled option "'+s+'"');if(t.forwardTo)return this[t.forwardTo]&&this[t.forwardTo].setOption(s,e);t.handlesSet||(this["$"+s]=e),t&&t.set&&t.set.call(this,e)}},getOption:function(s){var e=this.$options[s];return e?e.forwardTo?this[e.forwardTo]&&this[e.forwardTo].getOption(s):e&&e.get?e.get.call(this):this["$"+s]:warn('misspelled option "'+s+'"')}};function warn(s){typeof console<"u"&&console.warn&&console.warn.apply(console,arguments)}function reportError(s,e){var t=new Error(s);t.data=e,typeof console=="object"&&console.error&&console.error(t),setTimeout(function(){throw t})}var messages;class AppConfig{constructor(){this.$defaultOptions={}}defineOptions(e,t,r){return e.$options||(this.$defaultOptions[t]=e.$options={}),Object.keys(r).forEach(function(n){var l=r[n];typeof l=="string"&&(l={forwardTo:l}),l.name||(l.name=n),e.$options[l.name]=l,"initialValue"in l&&(e["$"+l.name]=l.initialValue)}),oop$h.implement(e,optionsProvider),this}resetOptions(e){Object.keys(e.$options).forEach(function(t){var r=e.$options[t];"value"in r&&e.setOption(t,r.value)})}setDefaultValue(e,t,r){if(!e){for(e in this.$defaultOptions)if(this.$defaultOptions[e][t])break;if(!this.$defaultOptions[e][t])return!1}var n=this.$defaultOptions[e]||(this.$defaultOptions[e]={});n[t]&&(n.forwardTo?this.setDefaultValue(n.forwardTo,t,r):n[t].value=r)}setDefaultValues(e,t){Object.keys(t).forEach(function(r){this.setDefaultValue(e,r,t[r])},this)}setMessages(e){messages=e}nls(e,t){messages&&!messages[e]&&warn("No message found for '"+e+"' in the provided messages, falling back to default English message.");var r=messages&&messages[e]||e;return t&&(r=r.replace(/\$(\$|[\d]+)/g,function(n,l){return l=="$"?"$":t[l]})),r}}AppConfig.prototype.warn=warn;AppConfig.prototype.reportError=reportError;oop$h.implement(AppConfig.prototype,EventEmitter$f);app_config.AppConfig=AppConfig;var textmate={},textmateCss=`.ace-tm .ace_gutter {
  background: #f0f0f0;
  color: #333;
}

.ace-tm .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-tm .ace_fold {
    background-color: #6B72E6;
}

.ace-tm {
  background-color: #FFFFFF;
  color: black;
}

.ace-tm .ace_cursor {
  color: black;
}
        
.ace-tm .ace_invisible {
  color: rgb(191, 191, 191);
}

.ace-tm .ace_storage,
.ace-tm .ace_keyword {
  color: blue;
}

.ace-tm .ace_constant {
  color: rgb(197, 6, 11);
}

.ace-tm .ace_constant.ace_buildin {
  color: rgb(88, 72, 246);
}

.ace-tm .ace_constant.ace_language {
  color: rgb(88, 92, 246);
}

.ace-tm .ace_constant.ace_library {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_invalid {
  background-color: rgba(255, 0, 0, 0.1);
  color: red;
}

.ace-tm .ace_support.ace_function {
  color: rgb(60, 76, 114);
}

.ace-tm .ace_support.ace_constant {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_support.ace_type,
.ace-tm .ace_support.ace_class {
  color: rgb(109, 121, 222);
}

.ace-tm .ace_keyword.ace_operator {
  color: rgb(104, 118, 135);
}

.ace-tm .ace_string {
  color: rgb(3, 106, 7);
}

.ace-tm .ace_comment {
  color: rgb(76, 136, 107);
}

.ace-tm .ace_comment.ace_doc {
  color: rgb(0, 102, 255);
}

.ace-tm .ace_comment.ace_doc.ace_tag {
  color: rgb(128, 159, 191);
}

.ace-tm .ace_constant.ace_numeric {
  color: rgb(0, 0, 205);
}

.ace-tm .ace_variable {
  color: rgb(49, 132, 149);
}

.ace-tm .ace_xml-pe {
  color: rgb(104, 104, 91);
}

.ace-tm .ace_entity.ace_name.ace_function {
  color: #0000A2;
}


.ace-tm .ace_heading {
  color: rgb(12, 7, 255);
}

.ace-tm .ace_list {
  color:rgb(185, 6, 144);
}

.ace-tm .ace_meta.ace_tag {
  color:rgb(0, 22, 142);
}

.ace-tm .ace_string.ace_regex {
  color: rgb(255, 0, 0)
}

.ace-tm .ace_marker-layer .ace_selection {
  background: rgb(181, 213, 255);
}
.ace-tm.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px white;
}
.ace-tm .ace_marker-layer .ace_step {
  background: rgb(252, 255, 0);
}

.ace-tm .ace_marker-layer .ace_stack {
  background: rgb(164, 229, 101);
}

.ace-tm .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgb(192, 192, 192);
}

.ace-tm .ace_marker-layer .ace_active-line {
  background: rgba(0, 0, 0, 0.07);
}

.ace-tm .ace_gutter-active-line {
    background-color : #dcdcdc;
}

.ace-tm .ace_marker-layer .ace_selected-word {
  background: rgb(250, 250, 255);
  border: 1px solid rgb(200, 200, 250);
}

.ace-tm .ace_indent-guide {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}

.ace-tm .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`;(function(s){s.isDark=!1,s.cssClass="ace-tm",s.cssText=textmateCss,s.$id="ace/theme/textmate";var e=dom$k;e.importCssString(s.cssText,s.cssClass,!1)})(textmate);config$6.exports;(function(s,e){"no use strict";var t=lang$e,r=net,n=dom$k,l=app_config.AppConfig;s.exports=e=new l;var a={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};e.get=function(x){if(!a.hasOwnProperty(x))throw new Error("Unknown config key: "+x);return a[x]},e.set=function(x,N){if(a.hasOwnProperty(x))a[x]=N;else if(this.setDefaultValue("",x,N)==!1)throw new Error("Unknown config key: "+x);x=="useStrictCSP"&&n.useStrictCSP(N)},e.all=function(){return t.copyObject(a)},e.$modes={},e.moduleUrl=function(x,N){if(a.$moduleUrls[x])return a.$moduleUrls[x];var z=x.split("/");N=N||z[z.length-2]||"";var he=N=="snippets"?"/":"-",X=z[z.length-1];if(N=="worker"&&he=="-"){var ne=new RegExp("^"+N+"[\\-_]|[\\-_]"+N+"$","g");X=X.replace(ne,"")}(!X||X==N)&&z.length>1&&(X=z[z.length-2]);var Q=a[N+"Path"];return Q==null?Q=a.basePath:he=="/"&&(N=he=""),Q&&Q.slice(-1)!="/"&&(Q+="/"),Q+N+he+X+this.get("suffix")},e.setModuleUrl=function(x,N){return a.$moduleUrls[x]=N};var p=function(x,N){if(x==="ace/theme/textmate"||x==="./theme/textmate")return N(null,textmate);if($)return $(x,N);console.error("loader is not configured")},$;e.setLoader=function(x){$=x},e.dynamicModules=Object.create(null),e.$loading={},e.$loaded={},e.loadModule=function(x,N){var z,he;Array.isArray(x)&&(he=x[0],x=x[1]);var X=function(ne){if(ne&&!e.$loading[x])return N&&N(ne);if(e.$loading[x]||(e.$loading[x]=[]),e.$loading[x].push(N),!(e.$loading[x].length>1)){var Q=function(){p(x,function(ie,ae){ae&&(e.$loaded[x]=ae),e._emit("load.module",{name:x,module:ae});var ce=e.$loading[x];e.$loading[x]=null,ce.forEach(function(ue){ue&&ue(ae)})})};if(!e.get("packaged"))return Q();r.loadScript(e.moduleUrl(x,he),Q),y()}};if(e.dynamicModules[x])e.dynamicModules[x]().then(function(ne){ne.default?X(ne.default):X(ne)});else{try{z=this.$require(x)}catch{}X(z||e.$loaded[x])}},e.$require=function(x){if(typeof commonjsRequire=="function"){var N="require";return s[N](x)}},e.setModuleLoader=function(x,N){e.dynamicModules[x]=N};var y=function(){!a.basePath&&!a.workerPath&&!a.modePath&&!a.themePath&&!Object.keys(a.$moduleUrls).length&&(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),y=function(){})};e.version="1.23.4"})(config$6,config$6.exports);var configExports=config$6.exports,$cancelT,clipboard$2={lineMode:!1,pasteCancelled:function(){return $cancelT&&$cancelT>Date.now()-50?!0:$cancelT=!1},cancel:function(){$cancelT=Date.now()}},event$b=event$c,nls$4=configExports.nls,useragent$9=useragent$a,dom$i=dom$k,lang$d=lang$e,clipboard$1=clipboard$2,BROKEN_SETDATA=useragent$9.isChrome<18,USE_IE_MIME_TYPE=useragent$9.isIE,HAS_FOCUS_ARGS=useragent$9.isChrome>63,MAX_LINE_LENGTH=400,KEYS=keys$2,MODS=KEYS.KEY_MODS,isIOS=useragent$9.isIOS,valueResetRegex=isIOS?/\s/:/\n/,isMobile=useragent$9.isMobile,TextInput$1=function(s,e){var t=dom$i.createElement("textarea");t.className="ace_text-input",t.setAttribute("wrap","off"),t.setAttribute("autocorrect","off"),t.setAttribute("autocapitalize","off"),t.setAttribute("spellcheck",!1),t.style.opacity="0",s.insertBefore(t,s.firstChild);var r=!1,n=!1,l=!1,a=!1,p="";isMobile||(t.style.fontSize="1px");var $=!1,y=!1,x="",N=0,z=0,he=0;try{var X=document.activeElement===t}catch{}this.setAriaOptions=function(be){be.activeDescendant?(t.setAttribute("aria-haspopup","true"),t.setAttribute("aria-autocomplete",be.inline?"both":"list"),t.setAttribute("aria-activedescendant",be.activeDescendant)):(t.setAttribute("aria-haspopup","false"),t.setAttribute("aria-autocomplete","both"),t.removeAttribute("aria-activedescendant")),be.role&&t.setAttribute("role",be.role)},this.setAriaLabel=function(){if(e.session&&e.renderer.enableKeyboardAccessibility){var be=e.session.selection.cursor.row;t.setAttribute("aria-roledescription",nls$4("editor")),t.setAttribute("aria-label",nls$4("Cursor at row $0",[be+1]))}else t.removeAttribute("aria-roledescription"),t.removeAttribute("aria-label")},this.setAriaOptions({role:"textbox"}),this.setAriaLabel(),event$b.addListener(t,"blur",function(be){y||(e.onBlur(be),X=!1)},e),event$b.addListener(t,"focus",function(be){if(!y){if(X=!0,useragent$9.isEdge)try{if(!document.hasFocus())return}catch{}e.onFocus(be),useragent$9.isEdge?setTimeout(ne):ne()}},e),this.$focusScroll=!1,this.focus=function(){if(this.setAriaLabel(),p||HAS_FOCUS_ARGS||this.$focusScroll=="browser")return t.focus({preventScroll:!0});var be=t.style.top;t.style.position="fixed",t.style.top="0px";try{var Fe=t.getBoundingClientRect().top!=0}catch{return}var Ue=[];if(Fe)for(var dt=t.parentElement;dt&&dt.nodeType==1;)Ue.push(dt),dt.setAttribute("ace_nocontext",!0),!dt.parentElement&&dt.getRootNode?dt=dt.getRootNode().host:dt=dt.parentElement;t.focus({preventScroll:!0}),Fe&&Ue.forEach(function(ct){ct.removeAttribute("ace_nocontext")}),setTimeout(function(){t.style.position="",t.style.top=="0px"&&(t.style.top=be)},0)},this.blur=function(){t.blur()},this.isFocused=function(){return X},e.on("beforeEndOperation",function(){var be=e.curOp,Fe=be&&be.command&&be.command.name;if(Fe!="insertstring"){var Ue=Fe&&(be.docChanged||be.selectionChanged);l&&Ue&&(x=t.value="",Ft()),ne()}});var ne=isIOS?function(be){if(!(!X||r&&!be||a)){be||(be="");var Fe=`
 ab`+be+`cde fg
`;Fe!=t.value&&(t.value=x=Fe);var Ue=4,dt=4+(be.length||(e.selection.isEmpty()?0:1));(N!=Ue||z!=dt)&&t.setSelectionRange(Ue,dt),N=Ue,z=dt}}:function(){if(!(l||a)&&!(!X&&!ce)){l=!0;var be=0,Fe=0,Ue="";if(e.session){var dt=e.selection,ct=dt.getRange(),ht=dt.cursor.row;if(be=ct.start.column,Fe=ct.end.column,Ue=e.session.getLine(ht),ct.start.row!=ht){var Lt=e.session.getLine(ht-1);be=ct.start.row<ht-1?0:be,Fe+=Lt.length+1,Ue=Lt+`
`+Ue}else if(ct.end.row!=ht){var ii=e.session.getLine(ht+1);Fe=ct.end.row>ht+1?ii.length:Fe,Fe+=Ue.length+1,Ue=Ue+`
`+ii}else isMobile&&ht>0&&(Ue=`
`+Ue,Fe+=1,be+=1);Ue.length>MAX_LINE_LENGTH&&(be<MAX_LINE_LENGTH&&Fe<MAX_LINE_LENGTH?Ue=Ue.slice(0,MAX_LINE_LENGTH):(Ue=`
`,be==Fe?be=Fe=0:(be=0,Fe=1)))}var ei=Ue+`

`;if(ei!=x&&(t.value=x=ei,N=z=ei.length),ce&&(N=t.selectionStart,z=t.selectionEnd),z!=Fe||N!=be||t.selectionEnd!=z)try{t.setSelectionRange(be,Fe),N=be,z=Fe}catch{}l=!1}};this.resetSelection=ne,X&&e.onFocus();var Q=function(be){return be.selectionStart===0&&be.selectionEnd>=x.length&&be.value===x&&x&&be.selectionEnd!==z},ie=function(be){l||(r?r=!1:Q(t)?(e.selectAll(),ne()):isMobile&&t.selectionStart!=N&&ne())},ae=null;this.setInputHandler=function(be){ae=be},this.getInputHandler=function(){return ae};var ce=!1,ue=function(be,Fe){if(ce&&(ce=!1),n)return ne(),be&&e.onPaste(be),n=!1,"";for(var Ue=t.selectionStart,dt=t.selectionEnd,ct=N,ht=x.length-z,Lt=be,ii=be.length-Ue,ei=be.length-dt,Nt=0;ct>0&&x[Nt]==be[Nt];)Nt++,ct--;for(Lt=Lt.slice(Nt),Nt=1;ht>0&&x.length-Nt>N-1&&x[x.length-Nt]==be[be.length-Nt];)Nt++,ht--;ii-=Nt-1,ei-=Nt-1;var ti=Lt.length-Nt+1;if(ti<0&&(ct=-ti,ti=0),Lt=Lt.slice(0,ti),!Fe&&!Lt&&!ii&&!ct&&!ht&&!ei)return"";a=!0;var oi=!1;return useragent$9.isAndroid&&Lt==". "&&(Lt="  ",oi=!0),Lt&&!ct&&!ht&&!ii&&!ei||$?e.onTextInput(Lt):e.onTextInput(Lt,{extendLeft:ct,extendRight:ht,restoreStart:ii,restoreEnd:ei}),a=!1,x=be,N=Ue,z=dt,he=ei,oi?`
`:Lt},de=function(be){if(l)return me();if(be&&be.inputType){if(be.inputType=="historyUndo")return e.execCommand("undo");if(be.inputType=="historyRedo")return e.execCommand("redo")}var Fe=t.value,Ue=ue(Fe,!0);(Fe.length>MAX_LINE_LENGTH+100||valueResetRegex.test(Ue)||isMobile&&N<1&&N==z)&&ne()},fe=function(be,Fe,Ue){var dt=be.clipboardData||window.clipboardData;if(!(!dt||BROKEN_SETDATA)){var ct=USE_IE_MIME_TYPE||Ue?"Text":"text/plain";try{return Fe?dt.setData(ct,Fe)!==!1:dt.getData(ct)}catch(ht){if(!Ue)return fe(ht,Fe,!0)}}},Oe=function(be,Fe){var Ue=e.getCopyText();if(!Ue)return event$b.preventDefault(be);fe(be,Ue)?(isIOS&&(ne(Ue),r=Ue,setTimeout(function(){r=!1},10)),Fe?e.onCut():e.onCopy(),event$b.preventDefault(be)):(r=!0,t.value=Ue,t.select(),setTimeout(function(){r=!1,ne(),Fe?e.onCut():e.onCopy()}))},Ne=function(be){Oe(be,!0)},ft=function(be){Oe(be,!1)},Ie=function(be){var Fe=fe(be);clipboard$1.pasteCancelled()||(typeof Fe=="string"?(Fe&&e.onPaste(Fe,be),useragent$9.isIE&&setTimeout(ne),event$b.preventDefault(be)):(t.value="",n=!0))};event$b.addCommandKeyListener(t,e.onCommandKey.bind(e),e),event$b.addListener(t,"select",ie,e),event$b.addListener(t,"input",de,e),event$b.addListener(t,"cut",Ne,e),event$b.addListener(t,"copy",ft,e),event$b.addListener(t,"paste",Ie,e),(!("oncut"in t)||!("oncopy"in t)||!("onpaste"in t))&&event$b.addListener(s,"keydown",function(be){if(!(useragent$9.isMac&&!be.metaKey||!be.ctrlKey))switch(be.keyCode){case 67:ft(be);break;case 86:Ie(be);break;case 88:Ne(be);break}},e);var Be=function(be){if(!(l||!e.onCompositionStart||e.$readOnly)&&(l={},!$)){be.data&&(l.useTextareaForIME=!1),setTimeout(me,0),e._signal("compositionStart"),e.on("mousedown",Ut);var Fe=e.getSelectionRange();Fe.end.row=Fe.start.row,Fe.end.column=Fe.start.column,l.markerRange=Fe,l.selectionStart=N,e.onCompositionStart(l),l.useTextareaForIME?(x=t.value="",N=0,z=0):(t.msGetInputContext&&(l.context=t.msGetInputContext()),t.getInputContext&&(l.context=t.getInputContext()))}},me=function(){if(!(!l||!e.onCompositionUpdate||e.$readOnly)){if($)return Ut();if(l.useTextareaForIME)e.onCompositionUpdate(t.value);else{var be=t.value;ue(be),l.markerRange&&(l.context&&(l.markerRange.start.column=l.selectionStart=l.context.compositionStartOffset),l.markerRange.end.column=l.markerRange.start.column+z-l.selectionStart+he)}}},Ft=function(be){!e.onCompositionEnd||e.$readOnly||(l=!1,e.onCompositionEnd(),e.off("mousedown",Ut),be&&de())};function Ut(){y=!0,t.blur(),t.focus(),y=!1}var St=lang$d.delayedCall(me,50).schedule.bind(null,null);function ri(be){be.keyCode==27&&t.value.length<t.selectionStart&&(l||(x=t.value),N=z=-1,ne()),St()}event$b.addListener(t,"compositionstart",Be,e),event$b.addListener(t,"compositionupdate",me,e),event$b.addListener(t,"keyup",ri,e),event$b.addListener(t,"keydown",St,e),event$b.addListener(t,"compositionend",Ft,e),this.getElement=function(){return t},this.setCommandMode=function(be){$=be,t.readOnly=!1},this.setReadOnly=function(be){$||(t.readOnly=be)},this.setCopyWithEmptySelection=function(be){},this.onContextMenu=function(be){ce=!0,ne(),e._emit("nativecontextmenu",{target:e,domEvent:be}),this.moveToMouse(be,!0)},this.moveToMouse=function(be,Fe){p||(p=t.style.cssText),t.style.cssText=(Fe?"z-index:100000;":"")+(useragent$9.isIE?"opacity:0.1;":"")+"text-indent: -"+(N+z)*e.renderer.characterWidth*.5+"px;";var Ue=e.container.getBoundingClientRect(),dt=dom$i.computedStyle(e.container),ct=Ue.top+(parseInt(dt.borderTopWidth)||0),ht=Ue.left+(parseInt(Ue.borderLeftWidth)||0),Lt=Ue.bottom-ct-t.clientHeight-2,ii=function(ei){dom$i.translate(t,ei.clientX-ht-2,Math.min(ei.clientY-ct-2,Lt))};ii(be),be.type=="mousedown"&&(e.renderer.$isMousePressed=!0,clearTimeout(ni),useragent$9.isWin&&event$b.capture(e.container,ii,si))},this.onContextMenuClose=si;var ni;function si(){clearTimeout(ni),ni=setTimeout(function(){p&&(t.style.cssText=p,p=""),e.renderer.$isMousePressed=!1,e.renderer.$keepTextAreaAtCursor&&e.renderer.$moveTextAreaToCursor()},0)}var At=function(be){e.textInput.onContextMenu(be),si()};event$b.addListener(t,"mouseup",At,e),event$b.addListener(t,"mousedown",function(be){be.preventDefault(),si()},e),event$b.addListener(e.renderer.scroller,"contextmenu",At,e),event$b.addListener(t,"contextmenu",At,e),isIOS&&mt(s,e,t);function mt(be,Fe,Ue){var dt=null,ct=!1;Ue.addEventListener("keydown",function(Lt){dt&&clearTimeout(dt),ct=!0},!0),Ue.addEventListener("keyup",function(Lt){dt=setTimeout(function(){ct=!1},100)},!0);var ht=function(Lt){if(document.activeElement===Ue&&!(ct||l||Fe.$mouseHandler.isMousePressed)&&!r){var ii=Ue.selectionStart,ei=Ue.selectionEnd,Nt=null,ti=0;if(ii==0?Nt=KEYS.up:ii==1?Nt=KEYS.home:ei>z&&x[ei]==`
`?Nt=KEYS.end:ii<N&&x[ii-1]==" "?(Nt=KEYS.left,ti=MODS.option):ii<N||ii==N&&z!=N&&ii==ei?Nt=KEYS.left:ei>z&&x.slice(0,ei).split(`
`).length>2?Nt=KEYS.down:ei>z&&x[ei-1]==" "?(Nt=KEYS.right,ti=MODS.option):(ei>z||ei==z&&z!=N&&ii==ei)&&(Nt=KEYS.right),ii!==ei&&(ti|=MODS.shift),Nt){var oi=Fe.onCommandKey({},ti,Nt);if(!oi&&Fe.commands){Nt=KEYS.keyCodeToString(Nt);var li=Fe.commands.findKeyCommand(ti,Nt);li&&Fe.execCommand(li)}N=ii,z=ei,ne("")}}};document.addEventListener("selectionchange",ht),Fe.on("destroy",function(){document.removeEventListener("selectionchange",ht)})}this.destroy=function(){t.parentElement&&t.parentElement.removeChild(t)}};textinput.TextInput=TextInput$1;textinput.$setUserAgentForTests=function(s,e){isMobile=s,isIOS=e};var mouse_handler={},default_handlers={},useragent$8=useragent$a,DRAG_OFFSET=0,SCROLL_COOLDOWN_T=550;let DefaultHandlers$1=class{constructor(e){e.$clickSelection=null;var t=e.editor;t.setDefaultHandler("mousedown",this.onMouseDown.bind(e)),t.setDefaultHandler("dblclick",this.onDoubleClick.bind(e)),t.setDefaultHandler("tripleclick",this.onTripleClick.bind(e)),t.setDefaultHandler("quadclick",this.onQuadClick.bind(e)),t.setDefaultHandler("mousewheel",this.onMouseWheel.bind(e));var r=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];r.forEach(function(n){e[n]=this[n]},this),e.selectByLines=this.extendSelectionBy.bind(e,"getLineRange"),e.selectByWords=this.extendSelectionBy.bind(e,"getWordRange")}onMouseDown(e){var t=e.inSelection(),r=e.getDocumentPosition();this.mousedownEvent=e;var n=this.editor,l=e.getButton();if(l!==0){var a=n.getSelectionRange(),p=a.isEmpty();(p||l==1)&&n.selection.moveToPosition(r),l==2&&(n.textInput.onContextMenu(e.domEvent),useragent$8.isMozilla||e.preventDefault());return}if(this.mousedownEvent.time=Date.now(),t&&!n.isFocused()&&(n.focus(),this.$focusTimeout&&!this.$clickSelection&&!n.inMultiSelectMode)){this.setState("focusWait"),this.captureMouse(e);return}return this.captureMouse(e),this.startSelect(r,e.domEvent._clicks>1),e.preventDefault()}startSelect(e,t){e=e||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var r=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?r.selection.selectToPosition(e):t||r.selection.moveToPosition(e),t||this.select(),r.setStyle("ace_selecting"),this.setState("select"))}select(){var e,t=this.editor,r=t.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var n=this.$clickSelection.comparePoint(r);if(n==-1)e=this.$clickSelection.end;else if(n==1)e=this.$clickSelection.start;else{var l=calcRangeOrientation(this.$clickSelection,r);r=l.cursor,e=l.anchor}t.selection.setSelectionAnchor(e.row,e.column)}t.selection.selectToPosition(r),t.renderer.scrollCursorIntoView()}extendSelectionBy(e){var t,r=this.editor,n=r.renderer.screenToTextCoordinates(this.x,this.y),l=r.selection[e](n.row,n.column);if(this.$clickSelection){var a=this.$clickSelection.comparePoint(l.start),p=this.$clickSelection.comparePoint(l.end);if(a==-1&&p<=0)t=this.$clickSelection.end,(l.end.row!=n.row||l.end.column!=n.column)&&(n=l.start);else if(p==1&&a>=0)t=this.$clickSelection.start,(l.start.row!=n.row||l.start.column!=n.column)&&(n=l.end);else if(a==-1&&p==1)n=l.end,t=l.start;else{var $=calcRangeOrientation(this.$clickSelection,n);n=$.cursor,t=$.anchor}r.selection.setSelectionAnchor(t.row,t.column)}r.selection.selectToPosition(n),r.renderer.scrollCursorIntoView()}selectByLinesEnd(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting")}focusWait(){var e=calcDistance$1(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),t=Date.now();(e>DRAG_OFFSET||t-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())}onDoubleClick(e){var t=e.getDocumentPosition(),r=this.editor,n=r.session,l=n.getBracketRange(t);l?(l.isEmpty()&&(l.start.column--,l.end.column++),this.setState("select")):(l=r.selection.getWordRange(t.row,t.column),this.setState("selectByWords")),this.$clickSelection=l,this.select()}onTripleClick(e){var t=e.getDocumentPosition(),r=this.editor;this.setState("selectByLines");var n=r.getSelectionRange();n.isMultiLine()&&n.contains(t.row,t.column)?(this.$clickSelection=r.selection.getLineRange(n.start.row),this.$clickSelection.end=r.selection.getLineRange(n.end.row).end):this.$clickSelection=r.selection.getLineRange(t.row),this.select()}onQuadClick(e){var t=this.editor;t.selectAll(),this.$clickSelection=t.getSelectionRange(),this.setState("selectAll")}onMouseWheel(e){if(!e.getAccelKey()){e.getShiftKey()&&e.wheelY&&!e.wheelX&&(e.wheelX=e.wheelY,e.wheelY=0);var t=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var r=this.$lastScroll,n=e.domEvent.timeStamp,l=n-r.t,a=l?e.wheelX/l:r.vx,p=l?e.wheelY/l:r.vy;l<SCROLL_COOLDOWN_T&&(a=(a+r.vx)/2,p=(p+r.vy)/2);var $=Math.abs(a/p),y=!1;if($>=1&&t.renderer.isScrollableBy(e.wheelX*e.speed,0)&&(y=!0),$<=1&&t.renderer.isScrollableBy(0,e.wheelY*e.speed)&&(y=!0),y)r.allowed=n;else if(n-r.allowed<SCROLL_COOLDOWN_T){var x=Math.abs(a)<=1.5*Math.abs(r.vx)&&Math.abs(p)<=1.5*Math.abs(r.vy);x?(y=!0,r.allowed=n):r.allowed=0}if(r.t=n,r.vx=a,r.vy=p,y)return t.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()}}};DefaultHandlers$1.prototype.selectEnd=DefaultHandlers$1.prototype.selectByLinesEnd;DefaultHandlers$1.prototype.selectAllEnd=DefaultHandlers$1.prototype.selectByLinesEnd;DefaultHandlers$1.prototype.selectByWordsEnd=DefaultHandlers$1.prototype.selectByLinesEnd;default_handlers.DefaultHandlers=DefaultHandlers$1;function calcDistance$1(s,e,t,r){return Math.sqrt(Math.pow(t-s,2)+Math.pow(r-e,2))}function calcRangeOrientation(s,e){if(s.start.row==s.end.row)var t=2*e.column-s.start.column-s.end.column;else if(s.start.row==s.end.row-1&&!s.start.column&&!s.end.column)var t=e.column-4;else var t=2*e.row-s.start.row-s.end.row;return t<0?{cursor:s.start,anchor:s.end}:{cursor:s.end,anchor:s.start}}var default_gutter_handler={},tooltip={},dom$h=dom$k,Range$d=range.Range,CLASSNAME="ace_tooltip";let Tooltip$1=class{constructor(e){this.isOpen=!1,this.$element=null,this.$parentNode=e}$init(){return this.$element=dom$h.createElement("div"),this.$element.className=CLASSNAME,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element}getElement(){return this.$element||this.$init()}setText(e){this.getElement().textContent=e}setHtml(e){this.getElement().innerHTML=e}setPosition(e,t){this.getElement().style.left=e+"px",this.getElement().style.top=t+"px"}setClassName(e){dom$h.addCssClass(this.getElement(),e)}setTheme(e){this.$element.className=CLASSNAME+" "+(e.isDark?"ace_dark ":"")+(e.cssClass||"")}show(e,t,r){e!=null&&this.setText(e),t!=null&&r!=null&&this.setPosition(t,r),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)}hide(){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=CLASSNAME,this.isOpen=!1)}getHeight(){return this.getElement().offsetHeight}getWidth(){return this.getElement().offsetWidth}destroy(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)}};class PopupManager{constructor(){this.popups=[]}addPopup(e){this.popups.push(e),this.updatePopups()}removePopup(e){const t=this.popups.indexOf(e);t!==-1&&(this.popups.splice(t,1),this.updatePopups())}updatePopups(){this.popups.sort((t,r)=>r.priority-t.priority);let e=[];for(let t of this.popups){let r=!0;for(let n of e)if(this.doPopupsOverlap(n,t)){r=!1;break}r?e.push(t):t.hide()}}doPopupsOverlap(e,t){const r=e.getElement().getBoundingClientRect(),n=t.getElement().getBoundingClientRect();return r.left<n.right&&r.right>n.left&&r.top<n.bottom&&r.bottom>n.top}}var popupManager=new PopupManager;tooltip.popupManager=popupManager;tooltip.Tooltip=Tooltip$1;class HoverTooltip extends Tooltip$1{constructor(e=document.body){super(e),this.timeout=void 0,this.lastT=0,this.idleTime=350,this.lastEvent=void 0,this.onMouseOut=this.onMouseOut.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.waitForHover=this.waitForHover.bind(this),this.hide=this.hide.bind(this);var t=this.getElement();t.style.whiteSpace="pre-wrap",t.style.pointerEvents="auto",t.addEventListener("mouseout",this.onMouseOut),t.tabIndex=-1,t.addEventListener("blur",function(){t.contains(document.activeElement)||this.hide()}.bind(this))}addToEditor(e){e.on("mousemove",this.onMouseMove),e.on("mousedown",this.hide),e.renderer.getMouseEventTarget().addEventListener("mouseout",this.onMouseOut,!0)}removeFromEditor(e){e.off("mousemove",this.onMouseMove),e.off("mousedown",this.hide),e.renderer.getMouseEventTarget().removeEventListener("mouseout",this.onMouseOut,!0),this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}onMouseMove(e,t){this.lastEvent=e,this.lastT=Date.now();var r=t.$mouseHandler.isMousePressed;if(this.isOpen){var n=this.lastEvent&&this.lastEvent.getDocumentPosition();(!this.range||!this.range.contains(n.row,n.column)||r||this.isOutsideOfText(this.lastEvent))&&this.hide()}this.timeout||r||(this.lastEvent=e,this.timeout=setTimeout(this.waitForHover,this.idleTime))}waitForHover(){this.timeout&&clearTimeout(this.timeout);var e=Date.now()-this.lastT;if(this.idleTime-e>10){this.timeout=setTimeout(this.waitForHover,this.idleTime-e);return}this.timeout=null,this.lastEvent&&!this.isOutsideOfText(this.lastEvent)&&this.$gatherData(this.lastEvent,this.lastEvent.editor)}isOutsideOfText(e){var t=e.editor,r=e.getDocumentPosition(),n=t.session.getLine(r.row);if(r.column==n.length){var l=t.renderer.pixelToScreenCoordinates(e.clientX,e.clientY),a=t.session.documentToScreenPosition(r.row,r.column);if(a.column!=l.column||a.row!=l.row)return!0}return!1}setDataProvider(e){this.$gatherData=e}showForRange(e,t,r,n){if(!(n&&n!=this.lastEvent)&&!(this.isOpen&&document.activeElement==this.getElement())){var l=e.renderer;this.isOpen||(popupManager.addPopup(this),this.$registerCloseEvents(),this.setTheme(l.theme)),this.isOpen=!0,this.addMarker(t,e.session),this.range=Range$d.fromPoints(t.start,t.end);var a=this.getElement();a.innerHTML="",a.appendChild(r),a.style.display="block";var p=l.textToScreenCoordinates(t.start.row,t.start.column),$=e.getCursorPosition(),y=a.clientHeight,x=l.scroller.getBoundingClientRect(),N=!0;this.row>$.row?N=!0:this.row<$.row&&(N=!1),p.pageY-y+l.lineHeight<x.top?N=!0:p.pageY+y>x.bottom&&(N=!1),N?p.pageY+=l.lineHeight:p.pageY-=y,a.style.maxWidth=x.width-(p.pageX-x.left)+"px",this.setPosition(p.pageX,p.pageY)}}addMarker(e,t){this.marker&&this.$markerSession.removeMarker(this.marker),this.$markerSession=t,this.marker=t&&t.addMarker(e,"ace_highlight-marker","text")}hide(e){!e&&document.activeElement==this.getElement()||e&&e.target&&(e.type!="keydown"||e.ctrlKey||e.metaKey)&&this.$element.contains(e.target)||(this.lastEvent=null,this.timeout&&clearTimeout(this.timeout),this.timeout=null,this.addMarker(null),this.isOpen&&(this.$removeCloseEvents(),this.getElement().style.display="none",this.isOpen=!1,popupManager.removePopup(this)))}$registerCloseEvents(){window.addEventListener("keydown",this.hide,!0),window.addEventListener("mousewheel",this.hide,!0),window.addEventListener("mousedown",this.hide,!0)}$removeCloseEvents(){window.removeEventListener("keydown",this.hide,!0),window.removeEventListener("mousewheel",this.hide,!0),window.removeEventListener("mousedown",this.hide,!0)}onMouseOut(e){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.lastEvent=null,this.isOpen&&(!e.relatedTarget||e.relatedTarget==this.getElement()||e&&e.currentTarget.contains(e.relatedTarget)||e.relatedTarget.classList.contains("ace_content")||this.hide())}}tooltip.HoverTooltip=HoverTooltip;var dom$g=dom$k,event$a=event$c,Tooltip=tooltip.Tooltip,nls$3=configExports.nls;function GutterHandler(s){var e=s.editor,t=e.renderer.$gutterLayer,r=new GutterTooltip$1(e);s.editor.setDefaultHandler("guttermousedown",function(y){if(!(!e.isFocused()||y.getButton()!=0)){var x=t.getRegion(y);if(x!="foldWidgets"){var N=y.getDocumentPosition().row,z=e.session.selection;if(y.getShiftKey())z.selectTo(N,0);else{if(y.domEvent.detail==2)return e.selectAll(),y.preventDefault();s.$clickSelection=e.selection.getLineRange(N)}return s.setState("selectByLines"),s.captureMouse(y),y.preventDefault()}}});var n,l;function a(){var y=l.getDocumentPosition().row,x=e.session.getLength();if(y==x){var N=e.renderer.pixelToScreenCoordinates(0,l.y).row,z=l.$pos;if(N>e.session.documentToScreenRow(z.row,z.column))return p()}if(r.showTooltip(y),!!r.isOpen)if(e.on("mousewheel",p),s.$tooltipFollowsMouse)$(l);else{var he=l.getGutterRow(),X=t.$lines.get(he);if(X){var ne=X.element.querySelector(".ace_gutter_annotation"),Q=ne.getBoundingClientRect(),ie=r.getElement().style;ie.left=Q.right+"px",ie.top=Q.bottom+"px"}else $(l)}}function p(){n&&(n=clearTimeout(n)),r.isOpen&&(r.hideTooltip(),e.off("mousewheel",p))}function $(y){r.setPosition(y.x,y.y)}s.editor.setDefaultHandler("guttermousemove",function(y){var x=y.domEvent.target||y.domEvent.srcElement;if(dom$g.hasCssClass(x,"ace_fold-widget"))return p();r.isOpen&&s.$tooltipFollowsMouse&&$(y),l=y,!n&&(n=setTimeout(function(){n=null,l&&!s.isMousePressed?a():p()},50))}),event$a.addListener(e.renderer.$gutter,"mouseout",function(y){l=null,!(!r.isOpen||n)&&(n=setTimeout(function(){n=null,p()},50))},e),e.on("changeSession",p),e.on("input",p)}default_gutter_handler.GutterHandler=GutterHandler;let GutterTooltip$1=class hi extends Tooltip{constructor(e){super(e.container),this.editor=e}setPosition(e,t){var r=window.innerWidth||document.documentElement.clientWidth,n=window.innerHeight||document.documentElement.clientHeight,l=this.getWidth(),a=this.getHeight();e+=15,t+=15,e+l>r&&(e-=e+l-r),t+a>n&&(t-=20+a),Tooltip.prototype.setPosition.call(this,e,t)}static get annotationLabels(){return{error:{singular:nls$3("error"),plural:nls$3("errors")},warning:{singular:nls$3("warning"),plural:nls$3("warnings")},info:{singular:nls$3("information message"),plural:nls$3("information messages")}}}showTooltip(e){var t=this.editor.renderer.$gutterLayer,r=t.$annotations[e],n;r?n={text:Array.from(r.text),type:Array.from(r.type)}:n={text:[],type:[]};var l=t.session.getFoldLine(e);if(l&&t.$showFoldedAnnotations){for(var a={error:[],warning:[],info:[]},p,$=e+1;$<=l.end.row;$++)if(t.$annotations[$])for(var y=0;y<t.$annotations[$].text.length;y++){var x=t.$annotations[$].type[y];if(a[x].push(t.$annotations[$].text[y]),x==="error"){p="error_fold";continue}if(x==="warning"){p="warning_fold";continue}}if(p==="error_fold"||p==="warning_fold"){var N=`${hi.annotationsToSummaryString(a)} in folded code.`;n.text.push(N),n.type.push(p)}}if(n.text.length===0)return this.hide();for(var z={error:[],warning:[],info:[]},he=t.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",$=0;$<n.text.length;$++){var X=`<span class='ace_${n.type[$]} ${he}' aria-label='${hi.annotationLabels[n.type[$].replace("_fold","")].singular}' role=img> </span> ${n.text[$]}`;z[n.type[$].replace("_fold","")].push(X)}var ne=[].concat(z.error,z.warning,z.info).join("<br>");this.setHtml(ne),this.$element.setAttribute("aria-live","polite"),this.isOpen||(this.setTheme(this.editor.renderer.theme),this.setClassName("ace_gutter-tooltip")),this.show(),this.editor._signal("showGutterTooltip",this)}hideTooltip(){this.$element.removeAttribute("aria-live"),this.hide(),this.editor._signal("hideGutterTooltip",this)}static annotationsToSummaryString(e){const t=[],r=["error","warning","info"];for(const n of r){if(!e[n].length)continue;const l=e[n].length===1?hi.annotationLabels[n].singular:hi.annotationLabels[n].plural;t.push(`${e[n].length} ${l}`)}return t.join(", ")}};default_gutter_handler.GutterTooltip=GutterTooltip$1;var mouse_event={},event$9=event$c,useragent$7=useragent$a;let MouseEvent$2=class{constructor(e,t){this.domEvent=e,this.editor=t,this.x=this.clientX=e.clientX,this.y=this.clientY=e.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1}stopPropagation(){event$9.stopPropagation(this.domEvent),this.propagationStopped=!0}preventDefault(){event$9.preventDefault(this.domEvent),this.defaultPrevented=!0}stop(){this.stopPropagation(),this.preventDefault()}getDocumentPosition(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)}getGutterRow(){var e=this.getDocumentPosition().row,t=this.editor.session.documentToScreenRow(e,0),r=this.editor.session.documentToScreenRow(this.editor.renderer.$gutterLayer.$lines.get(0).row,0);return t-r}inSelection(){if(this.$inSelection!==null)return this.$inSelection;var e=this.editor,t=e.getSelectionRange();if(t.isEmpty())this.$inSelection=!1;else{var r=this.getDocumentPosition();this.$inSelection=t.contains(r.row,r.column)}return this.$inSelection}getButton(){return event$9.getButton(this.domEvent)}getShiftKey(){return this.domEvent.shiftKey}getAccelKey(){return useragent$7.isMac?this.domEvent.metaKey:this.domEvent.ctrlKey}};mouse_event.MouseEvent=MouseEvent$2;var dragdrop_handler={},dom$f=dom$k,event$8=event$c,useragent$6=useragent$a,AUTOSCROLL_DELAY=200,SCROLL_CURSOR_DELAY=200,SCROLL_CURSOR_HYSTERESIS=5;function DragdropHandler$1(s){var e=s.editor,t=dom$f.createElement("div");t.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",t.textContent="";var r=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];r.forEach(function(Ie){s[Ie]=this[Ie]},this),e.on("mousedown",this.onMouseDown.bind(s));var n=e.container,l,a,p,$,y,x,N=0,z,he,X,ne,Q;this.onDragStart=function(Ie){if(this.cancelDrag||!n.draggable){var Be=this;return setTimeout(function(){Be.startSelect(),Be.captureMouse(Ie)},0),Ie.preventDefault()}y=e.getSelectionRange();var me=Ie.dataTransfer;me.effectAllowed=e.getReadOnly()?"copy":"copyMove",e.container.appendChild(t),me.setDragImage&&me.setDragImage(t,0,0),setTimeout(function(){e.container.removeChild(t)}),me.clearData(),me.setData("Text",e.session.getTextRange()),he=!0,this.setState("drag")},this.onDragEnd=function(Ie){if(n.draggable=!1,he=!1,this.setState(null),!e.getReadOnly()){var Be=Ie.dataTransfer.dropEffect;!z&&Be=="move"&&e.session.remove(e.getSelectionRange()),e.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(Ie){if(!(e.getReadOnly()||!Ne(Ie.dataTransfer)))return a=Ie.clientX,p=Ie.clientY,l||ue(),N++,Ie.dataTransfer.dropEffect=z=ft(Ie),event$8.preventDefault(Ie)},this.onDragOver=function(Ie){if(!(e.getReadOnly()||!Ne(Ie.dataTransfer)))return a=Ie.clientX,p=Ie.clientY,l||(ue(),N++),fe!==null&&(fe=null),Ie.dataTransfer.dropEffect=z=ft(Ie),event$8.preventDefault(Ie)},this.onDragLeave=function(Ie){if(N--,N<=0&&l)return de(),z=null,event$8.preventDefault(Ie)},this.onDrop=function(Ie){if(x){var Be=Ie.dataTransfer;if(he)switch(z){case"move":y.contains(x.row,x.column)?y={start:x,end:x}:y=e.moveText(y,x);break;case"copy":y=e.moveText(y,x,!0);break}else{var me=Be.getData("Text");y={start:x,end:e.session.insert(x,me)},e.focus(),z=null}return de(),event$8.preventDefault(Ie)}},event$8.addListener(n,"dragstart",this.onDragStart.bind(s),e),event$8.addListener(n,"dragend",this.onDragEnd.bind(s),e),event$8.addListener(n,"dragenter",this.onDragEnter.bind(s),e),event$8.addListener(n,"dragover",this.onDragOver.bind(s),e),event$8.addListener(n,"dragleave",this.onDragLeave.bind(s),e),event$8.addListener(n,"drop",this.onDrop.bind(s),e);function ie(Ie,Be){var me=Date.now(),Ft=!Be||Ie.row!=Be.row,Ut=!Be||Ie.column!=Be.column;if(!ne||Ft||Ut)e.moveCursorToPosition(Ie),ne=me,Q={x:a,y:p};else{var St=calcDistance(Q.x,Q.y,a,p);St>SCROLL_CURSOR_HYSTERESIS?ne=null:me-ne>=SCROLL_CURSOR_DELAY&&(e.renderer.scrollCursorIntoView(),ne=null)}}function ae(Ie,Be){var me=Date.now(),Ft=e.renderer.layerConfig.lineHeight,Ut=e.renderer.layerConfig.characterWidth,St=e.renderer.scroller.getBoundingClientRect(),ri={x:{left:a-St.left,right:St.right-a},y:{top:p-St.top,bottom:St.bottom-p}},ni=Math.min(ri.x.left,ri.x.right),si=Math.min(ri.y.top,ri.y.bottom),At={row:Ie.row,column:Ie.column};ni/Ut<=2&&(At.column+=ri.x.left<ri.x.right?-3:2),si/Ft<=1&&(At.row+=ri.y.top<ri.y.bottom?-1:1);var mt=Ie.row!=At.row,be=Ie.column!=At.column,Fe=!Be||Ie.row!=Be.row;mt||be&&!Fe?X?me-X>=AUTOSCROLL_DELAY&&e.renderer.scrollCursorIntoView(At):X=me:X=null}function ce(){var Ie=x;x=e.renderer.screenToTextCoordinates(a,p),ie(x,Ie),ae(x,Ie)}function ue(){y=e.selection.toOrientedRange(),l=e.session.addMarker(y,"ace_selection",e.getSelectionStyle()),e.clearSelection(),e.isFocused()&&e.renderer.$cursorLayer.setBlinking(!1),clearInterval($),ce(),$=setInterval(ce,20),N=0,event$8.addListener(document,"mousemove",Oe)}function de(){clearInterval($),e.session.removeMarker(l),l=null,e.selection.fromOrientedRange(y),e.isFocused()&&!he&&e.$resetCursorStyle(),y=null,x=null,N=0,X=null,ne=null,event$8.removeListener(document,"mousemove",Oe)}var fe=null;function Oe(){fe==null&&(fe=setTimeout(function(){fe!=null&&l&&de()},20))}function Ne(Ie){var Be=Ie.types;return!Be||Array.prototype.some.call(Be,function(me){return me=="text/plain"||me=="Text"})}function ft(Ie){var Be=["copy","copymove","all","uninitialized"],me=["move","copymove","linkmove","all","uninitialized"],Ft=useragent$6.isMac?Ie.altKey:Ie.ctrlKey,Ut="uninitialized";try{Ut=Ie.dataTransfer.effectAllowed.toLowerCase()}catch{}var St="none";return Ft&&Be.indexOf(Ut)>=0?St="copy":me.indexOf(Ut)>=0?St="move":Be.indexOf(Ut)>=0&&(St="copy"),St}}(function(){this.dragWait=function(){var s=Date.now()-this.mousedownEvent.time;s>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var s=this.editor.container;s.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(s){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var s=this.editor,e=s.container;e.draggable=!0,s.renderer.$cursorLayer.setBlinking(!1),s.setStyle("ace_dragging");var t=useragent$6.isWin?"default":"move";s.renderer.setCursorStyle(t),this.setState("dragReady")},this.onMouseDrag=function(s){var e=this.editor.container;if(useragent$6.isIE&&this.state=="dragReady"){var t=calcDistance(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);t>3&&e.dragDrop()}if(this.state==="dragWait"){var t=calcDistance(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);t>0&&(e.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(s){if(this.$dragEnabled){this.mousedownEvent=s;var e=this.editor,t=s.inSelection(),r=s.getButton(),n=s.domEvent.detail||1;if(n===1&&r===0&&t){if(s.editor.inMultiSelectMode&&(s.getAccelKey()||s.getShiftKey()))return;this.mousedownEvent.time=Date.now();var l=s.domEvent.target||s.domEvent.srcElement;if("unselectable"in l&&(l.unselectable="on"),e.getDragDelay()){if(useragent$6.isWebKit){this.cancelDrag=!0;var a=e.container;a.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(s,this.onMouseDrag.bind(this)),s.defaultPrevented=!0}}}}).call(DragdropHandler$1.prototype);function calcDistance(s,e,t,r){return Math.sqrt(Math.pow(t-s,2)+Math.pow(r-e,2))}dragdrop_handler.DragdropHandler=DragdropHandler$1;var touch_handler={},MouseEvent$1=mouse_event.MouseEvent,event$7=event$c,dom$e=dom$k;touch_handler.addTouchListeners=function(s,e){var t="scroll",r,n,l,a,p,$,y=0,x,N=0,z=0,he=0,X,ne;function Q(){var fe=window.navigator&&window.navigator.clipboard,Oe=!1,Ne=function(){var Ie=e.getCopyText(),Be=e.session.getUndoManager().hasUndo();ne.replaceChild(dom$e.buildDom(Oe?["span",!Ie&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],Ie&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],Ie&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],fe&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],Be&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],["span",{class:"ace_mobile-button",action:"find"},"Find"],["span",{class:"ace_mobile-button",action:"openCommandPallete"},"Palette"]]:["span"]),ne.firstChild)},ft=function(Ie){var Be=Ie.target.getAttribute("action");if(Be=="more"||!Oe)return Oe=!Oe,Ne();Be=="paste"?fe.readText().then(function(me){e.execCommand(Be,me)}):Be&&((Be=="cut"||Be=="copy")&&(fe?fe.writeText(e.getCopyText()):document.execCommand("copy")),e.execCommand(Be)),ne.firstChild.style.display="none",Oe=!1,Be!="openCommandPallete"&&e.focus()};ne=dom$e.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(Ie){t="menu",Ie.stopPropagation(),Ie.preventDefault(),e.textInput.focus()},ontouchend:function(Ie){Ie.stopPropagation(),Ie.preventDefault(),ft(Ie)},onclick:ft},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],e.container)}function ie(){ne||Q();var fe=e.selection.cursor,Oe=e.renderer.textToScreenCoordinates(fe.row,fe.column),Ne=e.renderer.textToScreenCoordinates(0,0).pageX,ft=e.renderer.scrollLeft,Ie=e.container.getBoundingClientRect();ne.style.top=Oe.pageY-Ie.top-3+"px",Oe.pageX-Ie.left<Ie.width-70?(ne.style.left="",ne.style.right="10px"):(ne.style.right="",ne.style.left=Ne+ft-Ie.left+"px"),ne.style.display="",ne.firstChild.style.display="none",e.on("input",ae)}function ae(fe){ne&&(ne.style.display="none"),e.off("input",ae)}function ce(){p=null,clearTimeout(p);var fe=e.selection.getRange(),Oe=fe.contains(x.row,x.column);(fe.isEmpty()||!Oe)&&(e.selection.moveToPosition(x),e.selection.selectWord()),t="wait",ie()}function ue(){p=null,clearTimeout(p),e.selection.moveToPosition(x);var fe=N>=2?e.selection.getLineRange(x.row):e.session.getBracketRange(x);fe&&!fe.isEmpty()?e.selection.setRange(fe):e.selection.selectWord(),t="wait"}event$7.addListener(s,"contextmenu",function(fe){if(X){var Oe=e.textInput.getElement();Oe.focus()}},e),event$7.addListener(s,"touchstart",function(fe){var Oe=fe.touches;if(p||Oe.length>1){clearTimeout(p),p=null,l=-1,t="zoom";return}X=e.$mouseHandler.isMousePressed=!0;var Ne=e.renderer.layerConfig.lineHeight,ft=e.renderer.layerConfig.lineHeight,Ie=fe.timeStamp;a=Ie;var Be=Oe[0],me=Be.clientX,Ft=Be.clientY;Math.abs(r-me)+Math.abs(n-Ft)>Ne&&(l=-1),r=fe.clientX=me,n=fe.clientY=Ft,z=he=0;var Ut=new MouseEvent$1(fe,e);if(x=Ut.getDocumentPosition(),Ie-l<500&&Oe.length==1&&!y)N++,fe.preventDefault(),fe.button=0,ue();else{N=0;var St=e.selection.cursor,ri=e.selection.isEmpty()?St:e.selection.anchor,ni=e.renderer.$cursorLayer.getPixelPosition(St,!0),si=e.renderer.$cursorLayer.getPixelPosition(ri,!0),At=e.renderer.scroller.getBoundingClientRect(),mt=e.renderer.layerConfig.offset,be=e.renderer.scrollLeft,Fe=function(ct,ht){return ct=ct/ft,ht=ht/Ne-.75,ct*ct+ht*ht};if(fe.clientX<At.left){t="zoom";return}var Ue=Fe(fe.clientX-At.left-ni.left+be,fe.clientY-At.top-ni.top+mt),dt=Fe(fe.clientX-At.left-si.left+be,fe.clientY-At.top-si.top+mt);Ue<3.5&&dt<3.5&&(t=Ue>dt?"cursor":"anchor"),dt<3.5?t="anchor":Ue<3.5?t="cursor":t="scroll",p=setTimeout(ce,450)}l=Ie},e),event$7.addListener(s,"touchend",function(fe){X=e.$mouseHandler.isMousePressed=!1,$&&clearInterval($),t=="zoom"?(t="",y=0):p?(e.selection.moveToPosition(x),y=0,ie()):t=="scroll"?(de(),ae()):ie(),clearTimeout(p),p=null},e),event$7.addListener(s,"touchmove",function(fe){p&&(clearTimeout(p),p=null);var Oe=fe.touches;if(!(Oe.length>1||t=="zoom")){var Ne=Oe[0],ft=r-Ne.clientX,Ie=n-Ne.clientY;if(t=="wait")if(ft*ft+Ie*Ie>4)t="cursor";else return fe.preventDefault();r=Ne.clientX,n=Ne.clientY,fe.clientX=Ne.clientX,fe.clientY=Ne.clientY;var Be=fe.timeStamp,me=Be-a;if(a=Be,t=="scroll"){var Ft=new MouseEvent$1(fe,e);Ft.speed=1,Ft.wheelX=ft,Ft.wheelY=Ie,10*Math.abs(ft)<Math.abs(Ie)&&(ft=0),10*Math.abs(Ie)<Math.abs(ft)&&(Ie=0),me!=0&&(z=ft/me,he=Ie/me),e._emit("mousewheel",Ft),Ft.propagationStopped||(z=he=0)}else{var Ut=new MouseEvent$1(fe,e),St=Ut.getDocumentPosition();t=="cursor"?e.selection.moveCursorToPosition(St):t=="anchor"&&e.selection.setSelectionAnchor(St.row,St.column),e.renderer.scrollCursorIntoView(St),fe.preventDefault()}}},e);function de(){y+=60,$=setInterval(function(){y--<=0&&(clearInterval($),$=null),Math.abs(z)<.01&&(z=0),Math.abs(he)<.01&&(he=0),y<20&&(z=.9*z),y<20&&(he=.9*he);var fe=e.session.getScrollTop();e.renderer.scrollBy(10*z,10*he),fe==e.session.getScrollTop()&&(y=0)},10)}};var event$6=event$c,useragent$5=useragent$a,DefaultHandlers=default_handlers.DefaultHandlers,DefaultGutterHandler=default_gutter_handler.GutterHandler,MouseEvent=mouse_event.MouseEvent,DragdropHandler=dragdrop_handler.DragdropHandler,addTouchListeners=touch_handler.addTouchListeners,config$5=configExports;let MouseHandler$1=class{constructor(e){var t=this;this.editor=e,new DefaultHandlers(this),new DefaultGutterHandler(this),new DragdropHandler(this);var r=function(a){var p=!document.hasFocus||!document.hasFocus()||!e.isFocused()&&document.activeElement==(e.textInput&&e.textInput.getElement());p&&window.focus(),e.focus(),setTimeout(function(){e.isFocused()||e.focus()})},n=e.renderer.getMouseEventTarget();event$6.addListener(n,"click",this.onMouseEvent.bind(this,"click"),e),event$6.addListener(n,"mousemove",this.onMouseMove.bind(this,"mousemove"),e),event$6.addMultiMouseDownListener([n,e.renderer.scrollBarV&&e.renderer.scrollBarV.inner,e.renderer.scrollBarH&&e.renderer.scrollBarH.inner,e.textInput&&e.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",e),event$6.addMouseWheelListener(e.container,this.onMouseWheel.bind(this,"mousewheel"),e),addTouchListeners(e.container,e);var l=e.renderer.$gutter;event$6.addListener(l,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),e),event$6.addListener(l,"click",this.onMouseEvent.bind(this,"gutterclick"),e),event$6.addListener(l,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),e),event$6.addListener(l,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),e),event$6.addListener(n,"mousedown",r,e),event$6.addListener(l,"mousedown",r,e),useragent$5.isIE&&e.renderer.scrollBarV&&(event$6.addListener(e.renderer.scrollBarV.element,"mousedown",r,e),event$6.addListener(e.renderer.scrollBarH.element,"mousedown",r,e)),e.on("mousemove",function(a){if(!(t.state||t.$dragDelay||!t.$dragEnabled)){var p=e.renderer.screenToTextCoordinates(a.x,a.y),$=e.session.selection.getRange(),y=e.renderer;!$.isEmpty()&&$.insideStart(p.row,p.column)?y.setCursorStyle("default"):y.setCursorStyle("")}},e)}onMouseEvent(e,t){this.editor.session&&this.editor._emit(e,new MouseEvent(t,this.editor))}onMouseMove(e,t){var r=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;!r||!r.length||this.editor._emit(e,new MouseEvent(t,this.editor))}onMouseWheel(e,t){var r=new MouseEvent(t,this.editor);r.speed=this.$scrollSpeed*2,r.wheelX=t.wheelX,r.wheelY=t.wheelY,this.editor._emit(e,r)}setState(e){this.state=e}captureMouse(e,t){this.x=e.x,this.y=e.y,this.isMousePressed=!0;var r=this.editor,n=this.editor.renderer;n.$isMousePressed=!0;var l=this,a=function(N){if(N){if(useragent$5.isWebKit&&!N.which&&l.releaseMouse)return l.releaseMouse();l.x=N.clientX,l.y=N.clientY,t&&t(N),l.mouseEvent=new MouseEvent(N,l.editor),l.$mouseMoved=!0}},p=function(N){r.off("beforeEndOperation",y),clearInterval(x),r.session&&$(),l[l.state+"End"]&&l[l.state+"End"](N),l.state="",l.isMousePressed=n.$isMousePressed=!1,n.$keepTextAreaAtCursor&&n.$moveTextAreaToCursor(),l.$onCaptureMouseMove=l.releaseMouse=null,N&&l.onMouseEvent("mouseup",N),r.endOperation()},$=function(){l[l.state]&&l[l.state](),l.$mouseMoved=!1};if(useragent$5.isOldIE&&e.domEvent.type=="dblclick")return setTimeout(function(){p(e)});var y=function(N){l.releaseMouse&&r.curOp.command.name&&r.curOp.selectionChanged&&(l[l.state+"End"]&&l[l.state+"End"](),l.state="",l.releaseMouse())};r.on("beforeEndOperation",y),r.startOperation({command:{name:"mouse"}}),l.$onCaptureMouseMove=a,l.releaseMouse=event$6.capture(this.editor.container,a,p);var x=setInterval($,20)}cancelContextMenu(){var e=function(t){t&&t.domEvent&&t.domEvent.type!="contextmenu"||(this.editor.off("nativecontextmenu",e),t&&t.domEvent&&event$6.stopEvent(t.domEvent))}.bind(this);setTimeout(e,10),this.editor.on("nativecontextmenu",e)}destroy(){this.releaseMouse&&this.releaseMouse()}};MouseHandler$1.prototype.releaseMouse=null;config$5.defineOptions(MouseHandler$1.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:useragent$5.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}});mouse_handler.MouseHandler=MouseHandler$1;var fold_handler={},dom$d=dom$k;let FoldHandler$1=class{constructor(e){e.on("click",function(t){var r=t.getDocumentPosition(),n=e.session,l=n.getFoldAt(r.row,r.column,1);l&&(t.getAccelKey()?n.removeFold(l):n.expandFold(l),t.stop());var a=t.domEvent&&t.domEvent.target;a&&dom$d.hasCssClass(a,"ace_inline_button")&&dom$d.hasCssClass(a,"ace_toggle_wrap")&&(n.setOption("wrap",!n.getUseWrapMode()),e.renderer.scrollCursorIntoView())}),e.on("gutterclick",function(t){var r=e.renderer.$gutterLayer.getRegion(t);if(r=="foldWidgets"){var n=t.getDocumentPosition().row,l=e.session;l.foldWidgets&&l.foldWidgets[n]&&e.session.onFoldWidgetClick(n,t),e.isFocused()||e.focus(),t.stop()}}),e.on("gutterdblclick",function(t){var r=e.renderer.$gutterLayer.getRegion(t);if(r=="foldWidgets"){var n=t.getDocumentPosition().row,l=e.session,a=l.getParentFoldRangeData(n,!0),p=a.range||a.firstRange;if(p){n=p.start.row;var $=l.getFoldAt(n,l.getLine(n).length,1);$?l.removeFold($):(l.addFold("...",p),e.renderer.scrollCursorIntoView({row:p.start.row,column:0}))}t.stop()}})}};fold_handler.FoldHandler=FoldHandler$1;var keybinding={},keyUtil$1=keys$2,event$5=event$c;let KeyBinding$1=class{constructor(e){this.$editor=e,this.$data={editor:e},this.$handlers=[],this.setDefaultHandler(e.commands)}setDefaultHandler(e){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=e,this.addKeyboardHandler(e,0)}setKeyboardHandler(e){var t=this.$handlers;if(t[t.length-1]!=e){for(;t[t.length-1]&&t[t.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(t[t.length-1]);this.addKeyboardHandler(e,1)}}addKeyboardHandler(e,t){if(e){typeof e=="function"&&!e.handleKeyboard&&(e.handleKeyboard=e);var r=this.$handlers.indexOf(e);r!=-1&&this.$handlers.splice(r,1),t==null?this.$handlers.push(e):this.$handlers.splice(t,0,e),r==-1&&e.attach&&e.attach(this.$editor)}}removeKeyboardHandler(e){var t=this.$handlers.indexOf(e);return t==-1?!1:(this.$handlers.splice(t,1),e.detach&&e.detach(this.$editor),!0)}getKeyboardHandler(){return this.$handlers[this.$handlers.length-1]}getStatusText(){var e=this.$data,t=e.editor;return this.$handlers.map(function(r){return r.getStatusText&&r.getStatusText(t,e)||""}).filter(Boolean).join(" ")}$callKeyboardHandlers(e,t,r,n){for(var l,a=!1,p=this.$editor.commands,$=this.$handlers.length;$--&&(l=this.$handlers[$].handleKeyboard(this.$data,e,t,r,n),!(!(!l||!l.command)&&(l.command=="null"?a=!0:a=p.exec(l.command,this.$editor,l.args,n),a&&n&&e!=-1&&l.passEvent!=!0&&l.command.passEvent!=!0&&event$5.stopEvent(n),a))););return!a&&e==-1&&(l={command:"insertstring"},a=p.exec("insertstring",this.$editor,t)),a&&this.$editor._signal&&this.$editor._signal("keyboardActivity",l),a}onCommandKey(e,t,r){var n=keyUtil$1.keyCodeToString(r);return this.$callKeyboardHandlers(t,n,r,e)}onTextInput(e){return this.$callKeyboardHandlers(-1,e)}};keybinding.KeyBinding=KeyBinding$1;var edit_session={},bidihandler={},bidiutil={};(function(s){var e=0,t=0,r=!1,n=!1,l=!1,a=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],$=0,y=1,x=0,N=1,z=2,he=3,X=4,ne=5,Q=6,ie=7,ae=8,ce=9,ue=10,de=11,fe=12,Oe=13,Ne=14,ft=15,Ie=16,Be=17,me=18,Ft=[me,me,me,me,me,me,me,me,me,Q,ne,Q,ae,ne,me,me,me,me,me,me,me,me,me,me,me,me,me,me,ne,ne,ne,Q,ae,X,X,de,de,de,X,X,X,X,X,ue,ce,ue,ce,ce,z,z,z,z,z,z,z,z,z,z,ce,X,X,X,X,X,X,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,X,X,X,X,X,X,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,X,X,X,X,me,me,me,me,me,me,ne,me,me,me,me,me,me,me,me,me,me,me,me,me,me,me,me,me,me,me,me,me,me,me,me,me,me,ce,X,de,de,de,de,X,X,X,X,x,X,X,me,X,X,de,de,z,z,X,x,X,X,X,z,x,X,X,X,X,X],Ut=[ae,ae,ae,ae,ae,ae,ae,ae,ae,ae,ae,me,me,me,x,N,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,ae,ne,Oe,Ne,ft,Ie,Be,ce,de,de,de,de,de,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,ce,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,ae];function St(At,mt,be,Fe){var Ue=e?p:a,dt=null,ct=null,ht=null,Lt=0,ii=null,ei=null,Nt=-1,ti=null,oi=null,li=[];if(!Fe)for(ti=0,Fe=[];ti<be;ti++)Fe[ti]=si(At[ti]);for(t=e,r=!1,n=!1,l=!1,oi=0;oi<be;oi++){if(dt=Lt,li[oi]=ct=ni(At,Fe,li,oi),Lt=Ue[dt][ct],ii=Lt&240,Lt&=15,mt[oi]=ht=Ue[Lt][5],ii>0)if(ii==16){for(ti=Nt;ti<oi;ti++)mt[ti]=1;Nt=-1}else Nt=-1;if(ei=Ue[Lt][6],ei)Nt==-1&&(Nt=oi);else if(Nt>-1){for(ti=Nt;ti<oi;ti++)mt[ti]=ht;Nt=-1}Fe[oi]==ne&&(mt[oi]=0),t|=ht}if(l){for(ti=0;ti<be;ti++)if(Fe[ti]==Q){mt[ti]=e;for(var ci=ti-1;ci>=0&&Fe[ci]==ae;ci--)mt[ci]=e}}}function ri(At,mt,be){if(!(t<At)){if(At==1&&e==y&&!n){be.reverse();return}for(var Fe=be.length,Ue=0,dt,ct,ht,Lt;Ue<Fe;){if(mt[Ue]>=At){for(dt=Ue+1;dt<Fe&&mt[dt]>=At;)dt++;for(ct=Ue,ht=dt-1;ct<ht;ct++,ht--)Lt=be[ct],be[ct]=be[ht],be[ht]=Lt;Ue=dt}Ue++}}}function ni(At,mt,be,Fe){var Ue=mt[Fe],dt,ct,ht,Lt;switch(Ue){case x:case N:r=!1;case X:case he:return Ue;case z:return r?he:z;case ie:return r=!0,N;case ae:return X;case ce:return Fe<1||Fe+1>=mt.length||(dt=be[Fe-1])!=z&&dt!=he||(ct=mt[Fe+1])!=z&&ct!=he?X:(r&&(ct=he),ct==dt?ct:X);case ue:return dt=Fe>0?be[Fe-1]:ne,dt==z&&Fe+1<mt.length&&mt[Fe+1]==z?z:X;case de:if(Fe>0&&be[Fe-1]==z)return z;if(r)return X;for(Lt=Fe+1,ht=mt.length;Lt<ht&&mt[Lt]==de;)Lt++;return Lt<ht&&mt[Lt]==z?z:X;case fe:for(ht=mt.length,Lt=Fe+1;Lt<ht&&mt[Lt]==fe;)Lt++;if(Lt<ht){var ii=At[Fe],ei=ii>=1425&&ii<=2303||ii==64286;if(dt=mt[Lt],ei&&(dt==N||dt==ie))return N}return Fe<1||(dt=mt[Fe-1])==ne?X:be[Fe-1];case ne:return r=!1,n=!0,e;case Q:return l=!0,X;case Oe:case Ne:case Ie:case Be:case ft:r=!1;case me:return X}}function si(At){var mt=At.charCodeAt(0),be=mt>>8;return be==0?mt>191?x:Ft[mt]:be==5?/[\u0591-\u05f4]/.test(At)?N:x:be==6?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(At)?fe:/[\u0660-\u0669\u066b-\u066c]/.test(At)?he:mt==1642?de:/[\u06f0-\u06f9]/.test(At)?z:ie:be==32&&mt<=8287?Ut[mt&255]:be==254&&mt>=65136?ie:X}s.L=x,s.R=N,s.EN=z,s.ON_R=3,s.AN=4,s.R_H=5,s.B=6,s.RLE=7,s.DOT="",s.doBidiReorder=function(At,mt,be){if(At.length<2)return{};var Fe=At.split(""),Ue=new Array(Fe.length),dt=new Array(Fe.length),ct=[];e=be?y:$,St(Fe,ct,Fe.length,mt);for(var ht=0;ht<Ue.length;Ue[ht]=ht,ht++);ri(2,ct,Ue),ri(1,ct,Ue);for(var ht=0;ht<Ue.length-1;ht++)mt[ht]===he?ct[ht]=s.AN:ct[ht]===N&&(mt[ht]>ie&&mt[ht]<Oe||mt[ht]===X||mt[ht]===me)?ct[ht]=s.ON_R:ht>0&&Fe[ht-1]===""&&/\u0622|\u0623|\u0625|\u0627/.test(Fe[ht])&&(ct[ht-1]=ct[ht]=s.R_H,ht++);Fe[Fe.length-1]===s.DOT&&(ct[Fe.length-1]=s.B),Fe[0]===""&&(ct[0]=s.RLE);for(var ht=0;ht<Ue.length;ht++)dt[ht]=ct[Ue[ht]];return{logicalFromVisual:Ue,bidiLevels:dt}},s.hasBidiCharacters=function(At,mt){for(var be=!1,Fe=0;Fe<At.length;Fe++)mt[Fe]=si(At.charAt(Fe)),!be&&(mt[Fe]==N||mt[Fe]==ie||mt[Fe]==he)&&(be=!0);return be},s.getVisualFromLogicalIdx=function(At,mt){for(var be=0;be<mt.logicalFromVisual.length;be++)if(mt.logicalFromVisual[be]==At)return be;return 0}})(bidiutil);var bidiUtil=bidiutil,lang$c=lang$e,bidiRE=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/;let BidiHandler$1=class{constructor(e){this.session=e,this.bidiMap={},this.currentRow=null,this.bidiUtil=bidiUtil,this.charWidths=[],this.EOL="",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="",this.RLE="",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=bidiRE.test(e.getValue())}isBidiRow(e,t,r){return this.seenBidi?(e!==this.currentRow&&(this.currentRow=e,this.updateRowLine(t,r),this.updateBidiMap()),this.bidiMap.bidiLevels):!1}onChange(e){this.seenBidi?this.currentRow=null:e.action=="insert"&&bidiRE.test(e.lines.join(`
`))&&(this.seenBidi=!0,this.currentRow=null)}getDocumentRow(){var e=0,t=this.session.$screenRowCache;if(t.length){var r=this.session.$getRowCacheIndex(t,this.currentRow);r>=0&&(e=this.session.$docRowCache[r])}return e}getSplitIndex(){var e=0,t=this.session.$screenRowCache;if(t.length)for(var r,n=this.session.$getRowCacheIndex(t,this.currentRow);this.currentRow-e>0&&(r=this.session.$getRowCacheIndex(t,this.currentRow-e-1),r===n);)n=r,e++;else e=this.currentRow;return e}updateRowLine(e,t){e===void 0&&(e=this.getDocumentRow());var r=e===this.session.getLength()-1,n=r?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(e),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var l=this.session.$wrapData[e];l&&(t===void 0&&(t=this.getSplitIndex()),t>0&&l.length?(this.wrapIndent=l.indent,this.wrapOffset=this.wrapIndent*this.charWidths[bidiUtil.L],this.line=t<l.length?this.line.substring(l[t-1],l[t]):this.line.substring(l[l.length-1])):this.line=this.line.substring(0,l[t]),t==l.length&&(this.line+=this.showInvisibles?n:bidiUtil.DOT))}else this.line+=this.showInvisibles?n:bidiUtil.DOT;var a=this.session,p=0,$;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(y,x){return y==="	"||a.isFullWidth(y.charCodeAt(0))?($=y==="	"?a.getScreenTabSize(x+p):2,p+=$-1,lang$c.stringRepeat(bidiUtil.DOT,$)):y}),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==bidiUtil.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)}updateBidiMap(){var e=[];bidiUtil.hasBidiCharacters(this.line,e)||this.isRtlDir?this.bidiMap=bidiUtil.doBidiReorder(this.line,e,this.isRtlDir):this.bidiMap={}}markAsDirty(){this.currentRow=null}updateCharacterWidths(e){if(this.characterWidth!==e.$characterSize.width){this.fontMetrics=e;var t=this.characterWidth=e.$characterSize.width,r=e.$measureCharWidth("");this.charWidths[bidiUtil.L]=this.charWidths[bidiUtil.EN]=this.charWidths[bidiUtil.ON_R]=t,this.charWidths[bidiUtil.R]=this.charWidths[bidiUtil.AN]=r,this.charWidths[bidiUtil.R_H]=r*.45,this.charWidths[bidiUtil.B]=this.charWidths[bidiUtil.RLE]=0,this.currentRow=null}}setShowInvisibles(e){this.showInvisibles=e,this.currentRow=null}setEolChar(e){this.EOL=e}setContentWidth(e){this.contentWidth=e}isRtlLine(e){return this.$isRtl?!0:e!=null?this.session.getLine(e).charAt(0)==this.RLE:this.isRtlDir}setRtlDirection(e,t){for(var r=e.getCursorPosition(),n=e.selection.getSelectionAnchor().row;n<=r.row;n++)!t&&e.session.getLine(n).charAt(0)===e.session.$bidiHandler.RLE?e.session.doc.removeInLine(n,0,1):t&&e.session.getLine(n).charAt(0)!==e.session.$bidiHandler.RLE&&e.session.doc.insert({column:0,row:n},e.session.$bidiHandler.RLE)}getPosLeft(e){e-=this.wrapIndent;var t=this.line.charAt(0)===this.RLE?1:0,r=e>t?this.session.getOverwrite()?e:e-1:t,n=bidiUtil.getVisualFromLogicalIdx(r,this.bidiMap),l=this.bidiMap.bidiLevels,a=0;!this.session.getOverwrite()&&e<=t&&l[n]%2!==0&&n++;for(var p=0;p<n;p++)a+=this.charWidths[l[p]];return!this.session.getOverwrite()&&e>t&&l[n]%2===0&&(a+=this.charWidths[l[n]]),this.wrapIndent&&(a+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(a+=this.rtlLineOffset),a}getSelections(e,t){var r=this.bidiMap,n=r.bidiLevels,l,a=[],p=0,$=Math.min(e,t)-this.wrapIndent,y=Math.max(e,t)-this.wrapIndent,x=!1,N=!1,z=0;this.wrapIndent&&(p+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var he,X=0;X<n.length;X++)he=r.logicalFromVisual[X],l=n[X],x=he>=$&&he<y,x&&!N?z=p:!x&&N&&a.push({left:z,width:p-z}),p+=this.charWidths[l],N=x;if(x&&X===n.length&&a.push({left:z,width:p-z}),this.isRtlDir)for(var ne=0;ne<a.length;ne++)a[ne].left+=this.rtlLineOffset;return a}offsetToCol(r){this.isRtlDir&&(r-=this.rtlLineOffset);var t=0,r=Math.max(r,0),n=0,l=0,a=this.bidiMap.bidiLevels,p=this.charWidths[a[l]];for(this.wrapIndent&&(r-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);r>n+p/2;){if(n+=p,l===a.length-1){p=0;break}p=this.charWidths[a[++l]]}return l>0&&a[l-1]%2!==0&&a[l]%2===0?(r<n&&l--,t=this.bidiMap.logicalFromVisual[l]):l>0&&a[l-1]%2===0&&a[l]%2!==0?t=1+(r>n?this.bidiMap.logicalFromVisual[l]:this.bidiMap.logicalFromVisual[l-1]):this.isRtlDir&&l===a.length-1&&p===0&&a[l-1]%2===0||!this.isRtlDir&&l===0&&a[l]%2!==0?t=1+this.bidiMap.logicalFromVisual[l]:(l>0&&a[l-1]%2!==0&&p!==0&&l--,t=this.bidiMap.logicalFromVisual[l]),t===0&&this.isRtlDir&&t++,t+this.wrapIndent}};bidihandler.BidiHandler=BidiHandler$1;var selection={},oop$g=oop$i,lang$b=lang$e,EventEmitter$e=event_emitter.EventEmitter,Range$c=range.Range,Selection$1=function(s){this.session=s,this.doc=s.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var e=this;this.cursor.on("change",function(t){e.$cursorChanged=!0,e.$silent||e._emit("changeCursor"),!e.$isEmpty&&!e.$silent&&e._emit("changeSelection"),!e.$keepDesiredColumnOnChange&&t.old.column!=t.value.column&&(e.$desiredColumn=null)}),this.anchor.on("change",function(){e.$anchorChanged=!0,!e.$isEmpty&&!e.$silent&&e._emit("changeSelection")})};(function(){oop$g.implement(this,EventEmitter$e),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},this.getCursor=function(){return this.lead.getPosition()},this.setAnchor=function(s,e){this.$isEmpty=!1,this.anchor.setPosition(s,e)},this.setSelectionAnchor=this.setAnchor,this.getAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionAnchor=this.getAnchor,this.getSelectionLead=function(){return this.lead.getPosition()},this.isBackwards=function(){var s=this.anchor,e=this.lead;return s.row>e.row||s.row==e.row&&s.column>e.column},this.getRange=function(){var s=this.anchor,e=this.lead;return this.$isEmpty?Range$c.fromPoints(e,e):this.isBackwards()?Range$c.fromPoints(e,s):Range$c.fromPoints(s,e)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},this.setRange=this.setSelectionRange=function(s,e){var t=e?s.end:s.start,r=e?s.start:s.end;this.$setSelection(t.row,t.column,r.row,r.column)},this.$setSelection=function(s,e,t,r){if(!this.$silent){var n=this.$isEmpty,l=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(s,e),this.cursor.setPosition(t,r),this.$isEmpty=!Range$c.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||n!=this.$isEmpty||l)&&this._emit("changeSelection")}},this.$moveSelection=function(s){var e=this.lead;this.$isEmpty&&this.setSelectionAnchor(e.row,e.column),s.call(this)},this.selectTo=function(s,e){this.$moveSelection(function(){this.moveCursorTo(s,e)})},this.selectToPosition=function(s){this.$moveSelection(function(){this.moveCursorToPosition(s)})},this.moveTo=function(s,e){this.clearSelection(),this.moveCursorTo(s,e)},this.moveToPosition=function(s){this.clearSelection(),this.moveCursorToPosition(s)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(s,e){if(typeof e>"u"){var t=s||this.lead;s=t.row,e=t.column}return this.session.getWordRange(s,e)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var s=this.getCursor(),e=this.session.getAWordRange(s.row,s.column);this.setSelectionRange(e)},this.getLineRange=function(s,e){var t=typeof s=="number"?s:this.lead.row,r,n=this.session.getFoldLine(t);return n?(t=n.start.row,r=n.end.row):r=t,e===!0?new Range$c(t,0,r,this.session.getLine(r).length):new Range$c(t,0,r+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.wouldMoveIntoSoftTab=function(s,e,t){var r=s.column,n=s.column+e;return t<0&&(r=s.column-e,n=s.column),this.session.isTabStop(s)&&this.doc.getLine(s.row).slice(r,n).split(" ").length-1==e},this.moveCursorLeft=function(){var s=this.lead.getPosition(),e;if(e=this.session.getFoldAt(s.row,s.column,-1))this.moveCursorTo(e.start.row,e.start.column);else if(s.column===0)s.row>0&&this.moveCursorTo(s.row-1,this.doc.getLine(s.row-1).length);else{var t=this.session.getTabSize();this.wouldMoveIntoSoftTab(s,t,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-t):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var s=this.lead.getPosition(),e;if(e=this.session.getFoldAt(s.row,s.column,1))this.moveCursorTo(e.end.row,e.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var t=this.session.getTabSize(),s=this.lead;this.wouldMoveIntoSoftTab(s,t,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,t):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var s=this.lead.row,e=this.lead.column,t=this.session.documentToScreenRow(s,e),r=this.session.screenToDocumentPosition(t,0),n=this.session.getDisplayLine(s,null,r.row,r.column),l=n.match(/^\s*/);l[0].length!=e&&!this.session.$useEmacsStyleLineStart&&(r.column+=l[0].length),this.moveCursorToPosition(r)},this.moveCursorLineEnd=function(){var s=this.lead,e=this.session.getDocumentLastRowColumnPosition(s.row,s.column);if(this.lead.column==e.column){var t=this.session.getLine(e.row);if(e.column==t.length){var r=t.search(/\s+$/);r>0&&(e.column=r)}}this.moveCursorTo(e.row,e.column)},this.moveCursorFileEnd=function(){var s=this.doc.getLength()-1,e=this.doc.getLine(s).length;this.moveCursorTo(s,e)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var s=this.lead.row,e=this.lead.column,t=this.doc.getLine(s),r=t.substring(e);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var n=this.session.getFoldAt(s,e,1);if(n){this.moveCursorTo(n.end.row,n.end.column);return}if(this.session.nonTokenRe.exec(r)&&(e+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,r=t.substring(e)),e>=t.length){this.moveCursorTo(s,t.length),this.moveCursorRight(),s<this.doc.getLength()-1&&this.moveCursorWordRight();return}this.session.tokenRe.exec(r)&&(e+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(s,e)},this.moveCursorLongWordLeft=function(){var s=this.lead.row,e=this.lead.column,t;if(t=this.session.getFoldAt(s,e,-1)){this.moveCursorTo(t.start.row,t.start.column);return}var r=this.session.getFoldStringAt(s,e,-1);r==null&&(r=this.doc.getLine(s).substring(0,e));var n=lang$b.stringReverse(r);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(n)&&(e-=this.session.nonTokenRe.lastIndex,n=n.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),e<=0){this.moveCursorTo(s,0),this.moveCursorLeft(),s>0&&this.moveCursorWordLeft();return}this.session.tokenRe.exec(n)&&(e-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(s,e)},this.$shortWordEndIndex=function(s){var e=0,t,r=/\s/,n=this.session.tokenRe;if(n.lastIndex=0,this.session.tokenRe.exec(s))e=this.session.tokenRe.lastIndex;else{for(;(t=s[e])&&r.test(t);)e++;if(e<1){for(n.lastIndex=0;(t=s[e])&&!n.test(t);)if(n.lastIndex=0,e++,r.test(t))if(e>2){e--;break}else{for(;(t=s[e])&&r.test(t);)e++;if(e>2)break}}}return n.lastIndex=0,e},this.moveCursorShortWordRight=function(){var s=this.lead.row,e=this.lead.column,t=this.doc.getLine(s),r=t.substring(e),n=this.session.getFoldAt(s,e,1);if(n)return this.moveCursorTo(n.end.row,n.end.column);if(e==t.length){var l=this.doc.getLength();do s++,r=this.doc.getLine(s);while(s<l&&/^\s*$/.test(r));/^\s+/.test(r)||(r=""),e=0}var a=this.$shortWordEndIndex(r);this.moveCursorTo(s,e+a)},this.moveCursorShortWordLeft=function(){var s=this.lead.row,e=this.lead.column,t;if(t=this.session.getFoldAt(s,e,-1))return this.moveCursorTo(t.start.row,t.start.column);var r=this.session.getLine(s).substring(0,e);if(e===0){do s--,r=this.doc.getLine(s);while(s>0&&/^\s*$/.test(r));e=r.length,/\s+$/.test(r)||(r="")}var n=lang$b.stringReverse(r),l=this.$shortWordEndIndex(n);return this.moveCursorTo(s,e-l)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(s,e){var t=this.session.documentToScreenPosition(this.lead.row,this.lead.column),r;if(e===0&&(s!==0&&(this.session.$bidiHandler.isBidiRow(t.row,this.lead.row)?(r=this.session.$bidiHandler.getPosLeft(t.column),t.column=Math.round(r/this.session.$bidiHandler.charWidths[0])):r=t.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?t.column=this.$desiredColumn:this.$desiredColumn=t.column),s!=0&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var n=this.session.lineWidgets[this.lead.row];s<0?s-=n.rowsAbove||0:s>0&&(s+=n.rowCount-(n.rowsAbove||0))}var l=this.session.screenToDocumentPosition(t.row+s,t.column,r);s!==0&&e===0&&l.row===this.lead.row&&(l.column,this.lead.column),this.moveCursorTo(l.row,l.column+e,e===0)},this.moveCursorToPosition=function(s){this.moveCursorTo(s.row,s.column)},this.moveCursorTo=function(s,e,t){var r=this.session.getFoldAt(s,e,1);r&&(s=r.start.row,e=r.start.column),this.$keepDesiredColumnOnChange=!0;var n=this.session.getLine(s);/[\uDC00-\uDFFF]/.test(n.charAt(e))&&n.charAt(e-1)&&(this.lead.row==s&&this.lead.column==e+1?e=e-1:e=e+1),this.lead.setPosition(s,e),this.$keepDesiredColumnOnChange=!1,t||(this.$desiredColumn=null)},this.moveCursorToScreen=function(s,e,t){var r=this.session.screenToDocumentPosition(s,e);this.moveCursorTo(r.row,r.column,t)},this.detach=function(){this.lead.detach(),this.anchor.detach()},this.fromOrientedRange=function(s){this.setSelectionRange(s,s.cursor==s.start),this.$desiredColumn=s.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(s){var e=this.getRange();return s?(s.start.column=e.start.column,s.start.row=e.start.row,s.end.column=e.end.column,s.end.row=e.end.row):s=e,s.cursor=this.isBackwards()?s.start:s.end,s.desiredColumn=this.$desiredColumn,s},this.getRangeOfMovements=function(s){var e=this.getCursor();try{s(this);var t=this.getCursor();return Range$c.fromPoints(e,t)}catch{return Range$c.fromPoints(e,e)}finally{this.moveCursorToPosition(e)}},this.toJSON=function(){if(this.rangeCount)var s=this.ranges.map(function(e){var t=e.clone();return t.isBackwards=e.cursor==e.start,t});else{var s=this.getRange();s.isBackwards=this.isBackwards()}return s},this.fromJSON=function(s){if(s.start==null)if(this.rangeList&&s.length>1){this.toSingleRange(s[0]);for(var e=s.length;e--;){var t=Range$c.fromPoints(s[e].start,s[e].end);s[e].isBackwards&&(t.cursor=t.start),this.addRange(t,!0)}return}else s=s[0];this.rangeList&&this.toSingleRange(s),this.setSelectionRange(s,s.isBackwards)},this.isEqual=function(s){if((s.length||this.rangeCount)&&s.length!=this.rangeCount)return!1;if(!s.length||!this.ranges)return this.getRange().isEqual(s);for(var e=this.ranges.length;e--;)if(!this.ranges[e].isEqual(s[e]))return!1;return!0}}).call(Selection$1.prototype);selection.Selection=Selection$1;var text$1={},tokenizer={},config$4=configExports,MAX_TOKEN_COUNT=2e3;let Tokenizer$1=class{constructor(e){this.states=e,this.regExps={},this.matchMappings={};for(var t in this.states){for(var r=this.states[t],n=[],l=0,a=this.matchMappings[t]={defaultToken:"text"},p="g",$=[],y=0;y<r.length;y++){var x=r[y];if(x.defaultToken&&(a.defaultToken=x.defaultToken),x.caseInsensitive&&p.indexOf("i")===-1&&(p+="i"),x.unicode&&p.indexOf("u")===-1&&(p+="u"),x.regex!=null){x.regex instanceof RegExp&&(x.regex=x.regex.toString().slice(1,-1));var N=x.regex,z=new RegExp("(?:("+N+")|(.))").exec("a").length-2;Array.isArray(x.token)?x.token.length==1||z==1?x.token=x.token[0]:z-1!=x.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:x,groupCount:z-1}),x.token=x.token[0]):(x.tokenArray=x.token,x.token=null,x.onMatch=this.$arrayTokens):typeof x.token=="function"&&!x.onMatch&&(z>1?x.onMatch=this.$applyToken:x.onMatch=x.token),z>1&&(/\\\d/.test(x.regex)?N=x.regex.replace(/\\([0-9]+)/g,function(he,X){return"\\"+(parseInt(X,10)+l+1)}):(z=1,N=this.removeCapturingGroups(x.regex)),!x.splitRegex&&typeof x.token!="string"&&$.push(x)),a[l]=y,l+=z,n.push(N),x.onMatch||(x.onMatch=null)}}n.length||(a[0]=0,n.push("$")),$.forEach(function(he){he.splitRegex=this.createSplitterRegexp(he.regex,p)},this),this.regExps[t]=new RegExp("("+n.join(")|(")+")|($)",p)}}$setMaxTokenCount(e){MAX_TOKEN_COUNT=e|0}$applyToken(e){var t=this.splitRegex.exec(e).slice(1),r=this.token.apply(this,t);if(typeof r=="string")return[{type:r,value:e}];for(var n=[],l=0,a=r.length;l<a;l++)t[l]&&(n[n.length]={type:r[l],value:t[l]});return n}$arrayTokens(e){if(!e)return[];var t=this.splitRegex.exec(e);if(!t)return"text";for(var r=[],n=this.tokenArray,l=0,a=n.length;l<a;l++)t[l+1]&&(r[r.length]={type:n[l],value:t[l+1]});return r}removeCapturingGroups(e){var t=e.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,function(r,n){return n?"(?:":r});return t}createSplitterRegexp(e,t){if(e.indexOf("(?=")!=-1){var r=0,n=!1,l={};e.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(a,p,$,y,x,N){return n?n=x!="]":x?n=!0:y?(r==l.stack&&(l.end=N+1,l.stack=-1),r--):$&&(r++,$.length!=1&&(l.stack=r,l.start=N)),a}),l.end!=null&&/^\)*$/.test(e.substr(l.end))&&(e=e.substring(0,l.start)+e.substr(l.end))}return e.charAt(0)!="^"&&(e="^"+e),e.charAt(e.length-1)!="$"&&(e+="$"),new RegExp(e,(t||"").replace("g",""))}getLineTokens(e,t){if(t&&typeof t!="string"){var r=t.slice(0);t=r[0],t==="#tmp"&&(r.shift(),t=r.shift())}else var r=[];var n=t||"start",l=this.states[n];l||(n="start",l=this.states[n]);var a=this.matchMappings[n],p=this.regExps[n];p.lastIndex=0;for(var $,y=[],x=0,N=0,z={type:null,value:""};$=p.exec(e);){var he=a.defaultToken,X=null,ne=$[0],Q=p.lastIndex;if(Q-ne.length>x){var ie=e.substring(x,Q-ne.length);z.type==he?z.value+=ie:(z.type&&y.push(z),z={type:he,value:ie})}for(var ae=0;ae<$.length-2;ae++)if($[ae+1]!==void 0){X=l[a[ae]],X.onMatch?he=X.onMatch(ne,n,r,e):he=X.token,X.next&&(typeof X.next=="string"?n=X.next:n=X.next(n,r),l=this.states[n],l||(this.reportError("state doesn't exist",n),n="start",l=this.states[n]),a=this.matchMappings[n],x=Q,p=this.regExps[n],p.lastIndex=Q),X.consumeLineEnd&&(x=Q);break}if(ne){if(typeof he=="string")(!X||X.merge!==!1)&&z.type===he?z.value+=ne:(z.type&&y.push(z),z={type:he,value:ne});else if(he){z.type&&y.push(z),z={type:null,value:""};for(var ae=0;ae<he.length;ae++)y.push(he[ae])}}if(x==e.length)break;if(x=Q,N++>MAX_TOKEN_COUNT){for(N>2*e.length&&this.reportError("infinite loop with in ace tokenizer",{startState:t,line:e});x<e.length;)z.type&&y.push(z),z={value:e.substring(x,x+=500),type:"overflow"};n="start",r=[];break}}return z.type&&y.push(z),r.length>1&&r[0]!==n&&r.unshift("#tmp",n),{tokens:y,state:r.length?r:n}}};Tokenizer$1.prototype.reportError=config$4.reportError;tokenizer.Tokenizer=Tokenizer$1;var text_highlight_rules={},lang$a=lang$e,TextHighlightRules$1=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(t,r){if(!r){for(var n in t)this.$rules[n]=t[n];return}for(var n in t){for(var l=t[n],a=0;a<l.length;a++){var p=l[a];(p.next||p.onMatch)&&(typeof p.next=="string"&&p.next.indexOf(r)!==0&&(p.next=r+p.next),p.nextState&&p.nextState.indexOf(r)!==0&&(p.nextState=r+p.nextState))}this.$rules[r+n]=l}},this.getRules=function(){return this.$rules},this.embedRules=function(t,r,n,l,a){var p=typeof t=="function"?new t().getRules():t;if(l)for(var $=0;$<l.length;$++)l[$]=r+l[$];else{l=[];for(var y in p)l.push(r+y)}if(this.addRules(p,r),n)for(var x=Array.prototype[a?"push":"unshift"],$=0;$<l.length;$++)x.apply(this.$rules[l[$]],lang$a.deepCopy(n));this.$embeds||(this.$embeds=[]),this.$embeds.push(r)},this.getEmbeds=function(){return this.$embeds};var s=function(t,r){return(t!="start"||r.length)&&r.unshift(this.nextState,t),this.nextState},e=function(t,r){return r.shift(),r.shift()||"start"};this.normalizeRules=function(){var t=0,r=this.$rules;function n(l){var a=r[l];a.processed=!0;for(var p=0;p<a.length;p++){var $=a[p],y=null;Array.isArray($)&&(y=$,$={}),!$.regex&&$.start&&($.regex=$.start,$.next||($.next=[]),$.next.push({defaultToken:$.token},{token:$.token+".end",regex:$.end||$.start,next:"pop"}),$.token=$.token+".start",$.push=!0);var x=$.next||$.push;if(x&&Array.isArray(x)){var N=$.stateName;N||(N=$.token,typeof N!="string"&&(N=N[0]||""),r[N]&&(N+=t++)),r[N]=x,$.next=N,n(N)}else x=="pop"&&($.next=e);if($.push&&($.nextState=$.next||$.push,$.next=s,delete $.push),$.rules)for(var z in $.rules)r[z]?r[z].push&&r[z].push.apply(r[z],$.rules[z]):r[z]=$.rules[z];var he=typeof $=="string"?$:$.include;if(he&&(he==="$self"&&(he="start"),Array.isArray(he)?y=he.map(function(ne){return r[ne]}):y=r[he]),y){var X=[p,1].concat(y);$.noEscape&&(X=X.filter(function(ne){return!ne.next})),a.splice.apply(a,X),p--}$.keywordMap&&($.token=this.createKeywordMapper($.keywordMap,$.defaultToken||"text",$.caseInsensitive),delete $.defaultToken)}}Object.keys(r).forEach(n,this)},this.createKeywordMapper=function(t,r,n,l){var a=Object.create(null);return this.$keywordList=[],Object.keys(t).forEach(function(p){for(var $=t[p],y=$.split(l||"|"),x=y.length;x--;){var N=y[x];this.$keywordList.push(N),n&&(N=N.toLowerCase()),a[N]=p}},this),t=null,n?function(p){return a[p.toLowerCase()]||r}:function(p){return a[p]||r}},this.getKeywords=function(){return this.$keywords}}).call(TextHighlightRules$1.prototype);text_highlight_rules.TextHighlightRules=TextHighlightRules$1;var cstyle={},behaviour={},Behaviour$1=function(){this.$behaviours={}};(function(){this.add=function(s,e,t){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[s]:this.$behaviours[s]={}}this.$behaviours[s][e]=t},this.addBehaviours=function(s){for(var e in s)for(var t in s[e])this.add(e,t,s[e][t])},this.remove=function(s){this.$behaviours&&this.$behaviours[s]&&delete this.$behaviours[s]},this.inherit=function(s,e){if(typeof s=="function")var t=new s().getBehaviours(e);else var t=s.getBehaviours(e);this.addBehaviours(t)},this.getBehaviours=function(s){if(s){for(var e={},t=0;t<s.length;t++)this.$behaviours[s[t]]&&(e[s[t]]=this.$behaviours[s[t]]);return e}else return this.$behaviours}}).call(Behaviour$1.prototype);behaviour.Behaviour=Behaviour$1;var token_iterator={},Range$b=range.Range;let TokenIterator$3=class{constructor(e,t,r){this.$session=e,this.$row=t,this.$rowTokens=e.getTokens(t);var n=e.getTokenAt(t,r);this.$tokenIndex=n?n.index:-1}stepBackward(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]}stepForward(){this.$tokenIndex+=1;for(var e;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,e||(e=this.$session.getLength()),this.$row>=e)return this.$row=e-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]}getCurrentToken(){return this.$rowTokens[this.$tokenIndex]}getCurrentTokenRow(){return this.$row}getCurrentTokenColumn(){var e=this.$rowTokens,t=this.$tokenIndex,r=e[t].start;if(r!==void 0)return r;for(r=0;t>0;)t-=1,r+=e[t].value.length;return r}getCurrentTokenPosition(){return{row:this.$row,column:this.getCurrentTokenColumn()}}getCurrentTokenRange(){var e=this.$rowTokens[this.$tokenIndex],t=this.getCurrentTokenColumn();return new Range$b(this.$row,t,this.$row,t+e.value.length)}};token_iterator.TokenIterator=TokenIterator$3;var oop$f=oop$i,Behaviour=behaviour.Behaviour,TokenIterator$2=token_iterator.TokenIterator,lang$9=lang$e,SAFE_INSERT_IN_TOKENS=["text","paren.rparen","rparen","paren","punctuation.operator"],SAFE_INSERT_BEFORE_TOKENS=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],context,contextCache={},defaultQuotes={'"':'"',"'":"'"},initContext=function(s){var e=-1;if(s.multiSelect&&(e=s.selection.index,contextCache.rangeCount!=s.multiSelect.rangeCount&&(contextCache={rangeCount:s.multiSelect.rangeCount})),contextCache[e])return context=contextCache[e];context=contextCache[e]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},getWrapped=function(s,e,t,r){var n=s.end.row-s.start.row;return{text:t+e+r,selection:[0,s.start.column+1,n,s.end.column+(n?0:1)]}},CstyleBehaviour$1=function(s){s=s||{},this.add("braces","insertion",function(e,t,r,n,l){var a=r.getCursorPosition(),p=n.doc.getLine(a.row);if(l=="{"){initContext(r);var $=r.getSelectionRange(),y=n.doc.getTextRange($);if(y!==""&&y!=="{"&&r.getWrapBehavioursEnabled())return getWrapped($,y,"{","}");if(CstyleBehaviour$1.isSaneInsertion(r,n))return/[\]\}\)]/.test(p[a.column])||r.inMultiSelectMode||s.braces?(CstyleBehaviour$1.recordAutoInsert(r,n,"}"),{text:"{}",selection:[1,1]}):(CstyleBehaviour$1.recordMaybeInsert(r,n,"{"),{text:"{",selection:[1,1]})}else if(l=="}"){initContext(r);var x=p.substring(a.column,a.column+1);if(x=="}"){var N=n.$findOpeningBracket("}",{column:a.column+1,row:a.row});if(N!==null&&CstyleBehaviour$1.isAutoInsertedClosing(a,p,l))return CstyleBehaviour$1.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else if(l==`
`||l==`\r
`){initContext(r);var z="";CstyleBehaviour$1.isMaybeInsertedClosing(a,p)&&(z=lang$9.stringRepeat("}",context.maybeInsertedBrackets),CstyleBehaviour$1.clearMaybeInsertedClosing());var x=p.substring(a.column,a.column+1);if(x==="}"){var he=n.findMatchingBracket({row:a.row,column:a.column+1},"}");if(!he)return null;var X=this.$getIndent(n.getLine(he.row))}else if(z)var X=this.$getIndent(p);else{CstyleBehaviour$1.clearMaybeInsertedClosing();return}var ne=X+n.getTabString();return{text:`
`+ne+`
`+X+z,selection:[1,ne.length,1,ne.length]}}else CstyleBehaviour$1.clearMaybeInsertedClosing()}),this.add("braces","deletion",function(e,t,r,n,l){var a=n.doc.getTextRange(l);if(!l.isMultiLine()&&a=="{"){initContext(r);var p=n.doc.getLine(l.start.row),$=p.substring(l.end.column,l.end.column+1);if($=="}")return l.end.column++,l;context.maybeInsertedBrackets--}}),this.add("parens","insertion",function(e,t,r,n,l){if(l=="("){initContext(r);var a=r.getSelectionRange(),p=n.doc.getTextRange(a);if(p!==""&&r.getWrapBehavioursEnabled())return getWrapped(a,p,"(",")");if(CstyleBehaviour$1.isSaneInsertion(r,n))return CstyleBehaviour$1.recordAutoInsert(r,n,")"),{text:"()",selection:[1,1]}}else if(l==")"){initContext(r);var $=r.getCursorPosition(),y=n.doc.getLine($.row),x=y.substring($.column,$.column+1);if(x==")"){var N=n.$findOpeningBracket(")",{column:$.column+1,row:$.row});if(N!==null&&CstyleBehaviour$1.isAutoInsertedClosing($,y,l))return CstyleBehaviour$1.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(e,t,r,n,l){var a=n.doc.getTextRange(l);if(!l.isMultiLine()&&a=="("){initContext(r);var p=n.doc.getLine(l.start.row),$=p.substring(l.start.column+1,l.start.column+2);if($==")")return l.end.column++,l}}),this.add("brackets","insertion",function(e,t,r,n,l){if(l=="["){initContext(r);var a=r.getSelectionRange(),p=n.doc.getTextRange(a);if(p!==""&&r.getWrapBehavioursEnabled())return getWrapped(a,p,"[","]");if(CstyleBehaviour$1.isSaneInsertion(r,n))return CstyleBehaviour$1.recordAutoInsert(r,n,"]"),{text:"[]",selection:[1,1]}}else if(l=="]"){initContext(r);var $=r.getCursorPosition(),y=n.doc.getLine($.row),x=y.substring($.column,$.column+1);if(x=="]"){var N=n.$findOpeningBracket("]",{column:$.column+1,row:$.row});if(N!==null&&CstyleBehaviour$1.isAutoInsertedClosing($,y,l))return CstyleBehaviour$1.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(e,t,r,n,l){var a=n.doc.getTextRange(l);if(!l.isMultiLine()&&a=="["){initContext(r);var p=n.doc.getLine(l.start.row),$=p.substring(l.start.column+1,l.start.column+2);if($=="]")return l.end.column++,l}}),this.add("string_dquotes","insertion",function(e,t,r,n,l){var a=n.$mode.$quotes||defaultQuotes;if(l.length==1&&a[l]){if(this.lineCommentStart&&this.lineCommentStart.indexOf(l)!=-1)return;initContext(r);var p=l,$=r.getSelectionRange(),y=n.doc.getTextRange($);if(y!==""&&(y.length!=1||!a[y])&&r.getWrapBehavioursEnabled())return getWrapped($,y,p,p);if(!y){var x=r.getCursorPosition(),N=n.doc.getLine(x.row),z=N.substring(x.column-1,x.column),he=N.substring(x.column,x.column+1),X=n.getTokenAt(x.row,x.column),ne=n.getTokenAt(x.row,x.column+1);if(z=="\\"&&X&&/escape/.test(X.type))return null;var Q=X&&/string|escape/.test(X.type),ie=!ne||/string|escape/.test(ne.type),ae;if(he==p)ae=Q!==ie,ae&&/string\.end/.test(ne.type)&&(ae=!1);else{if(Q&&!ie||Q&&ie)return null;var ce=n.$mode.tokenRe;ce.lastIndex=0;var ue=ce.test(z);ce.lastIndex=0;var de=ce.test(he),fe=n.$mode.$pairQuotesAfter,Oe=fe&&fe[p]&&fe[p].test(z);if(!Oe&&ue||de||he&&!/[\s;,.})\]\\]/.test(he))return null;var Ne=N[x.column-2];if(z==p&&(Ne==p||ce.test(Ne)))return null;ae=!0}return{text:ae?p+p:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(e,t,r,n,l){var a=n.$mode.$quotes||defaultQuotes,p=n.doc.getTextRange(l);if(!l.isMultiLine()&&a.hasOwnProperty(p)){initContext(r);var $=n.doc.getLine(l.start.row),y=$.substring(l.start.column+1,l.start.column+2);if(y==p)return l.end.column++,l}}),s.closeDocComment!==!1&&this.add("doc comment end","insertion",function(e,t,r,n,l){if(e==="doc-start"&&(l===`
`||l===`\r
`)&&r.selection.isEmpty()){var a=r.getCursorPosition(),p=n.doc.getLine(a.row),$=n.doc.getLine(a.row+1),y=this.$getIndent(p);if(/\s*\*/.test($))return/^\s*\*/.test(p)?{text:l+y+"* ",selection:[1,3+y.length,1,3+y.length]}:{text:l+y+" * ",selection:[1,3+y.length,1,3+y.length]};if(/\/\*\*/.test(p.substring(0,a.column)))return{text:l+y+" * "+l+" "+y+"*/",selection:[1,4+y.length,1,4+y.length]}}})};CstyleBehaviour$1.isSaneInsertion=function(s,e){var t=s.getCursorPosition(),r=new TokenIterator$2(e,t.row,t.column);if(!this.$matchTokenType(r.getCurrentToken()||"text",SAFE_INSERT_IN_TOKENS)){if(/[)}\]]/.test(s.session.getLine(t.row)[t.column]))return!0;var n=new TokenIterator$2(e,t.row,t.column+1);if(!this.$matchTokenType(n.getCurrentToken()||"text",SAFE_INSERT_IN_TOKENS))return!1}return r.stepForward(),r.getCurrentTokenRow()!==t.row||this.$matchTokenType(r.getCurrentToken()||"text",SAFE_INSERT_BEFORE_TOKENS)};CstyleBehaviour$1.$matchTokenType=function(s,e){return e.indexOf(s.type||s)>-1};CstyleBehaviour$1.recordAutoInsert=function(s,e,t){var r=s.getCursorPosition(),n=e.doc.getLine(r.row);this.isAutoInsertedClosing(r,n,context.autoInsertedLineEnd[0])||(context.autoInsertedBrackets=0),context.autoInsertedRow=r.row,context.autoInsertedLineEnd=t+n.substr(r.column),context.autoInsertedBrackets++};CstyleBehaviour$1.recordMaybeInsert=function(s,e,t){var r=s.getCursorPosition(),n=e.doc.getLine(r.row);this.isMaybeInsertedClosing(r,n)||(context.maybeInsertedBrackets=0),context.maybeInsertedRow=r.row,context.maybeInsertedLineStart=n.substr(0,r.column)+t,context.maybeInsertedLineEnd=n.substr(r.column),context.maybeInsertedBrackets++};CstyleBehaviour$1.isAutoInsertedClosing=function(s,e,t){return context.autoInsertedBrackets>0&&s.row===context.autoInsertedRow&&t===context.autoInsertedLineEnd[0]&&e.substr(s.column)===context.autoInsertedLineEnd};CstyleBehaviour$1.isMaybeInsertedClosing=function(s,e){return context.maybeInsertedBrackets>0&&s.row===context.maybeInsertedRow&&e.substr(s.column)===context.maybeInsertedLineEnd&&e.substr(0,s.column)==context.maybeInsertedLineStart};CstyleBehaviour$1.popAutoInsertedClosing=function(){context.autoInsertedLineEnd=context.autoInsertedLineEnd.substr(1),context.autoInsertedBrackets--};CstyleBehaviour$1.clearMaybeInsertedClosing=function(){context&&(context.maybeInsertedBrackets=0,context.maybeInsertedRow=-1)};oop$f.inherits(CstyleBehaviour$1,Behaviour);cstyle.CstyleBehaviour=CstyleBehaviour$1;var unicode$1={},wordChars=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],code=0,str=[];for(var i=0;i<wordChars.length;i+=2)str.push(code+=wordChars[i]),wordChars[i+1]&&str.push(45,code+=wordChars[i+1]);unicode$1.wordChars=String.fromCharCode.apply(null,str);var config$3=configExports,Tokenizer=tokenizer.Tokenizer,TextHighlightRules=text_highlight_rules.TextHighlightRules,CstyleBehaviour=cstyle.CstyleBehaviour,unicode=unicode$1,lang$8=lang$e,TokenIterator$1=token_iterator.TokenIterator,Range$a=range.Range,Mode=function(){this.HighlightRules=TextHighlightRules};(function(){this.$defaultBehaviour=new CstyleBehaviour,this.tokenRe=new RegExp("^["+unicode.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+unicode.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new Tokenizer(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(s,e,t,r){var n=e.doc,l=!0,a=!0,p=1/0,$=e.getTabSize(),y=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var z=this.lineCommentStart.map(lang$8.escapeRegExp).join("|"),x=this.lineCommentStart[0];else var z=lang$8.escapeRegExp(this.lineCommentStart),x=this.lineCommentStart;z=new RegExp("^(\\s*)(?:"+z+") ?"),y=e.getUseSoftTabs();var ne=function(Ne,ft){var Ie=Ne.match(z);if(Ie){var Be=Ie[1].length,me=Ie[0].length;!ae(Ne,Be,me)&&Ie[0][me-1]==" "&&me--,n.removeInLine(ft,Be,me)}},ie=x+" ",X=function(Ne,ft){(!l||/\S/.test(Ne))&&(ae(Ne,p,p)?n.insertInLine({row:ft,column:p},ie):n.insertInLine({row:ft,column:p},x))},Q=function(Ne,ft){return z.test(Ne)},ae=function(Ne,ft,Ie){for(var Be=0;ft--&&Ne.charAt(ft)==" ";)Be++;if(Be%$!=0)return!1;for(var Be=0;Ne.charAt(Ie++)==" ";)Be++;return $>2?Be%$!=$-1:Be%$==0}}else{if(!this.blockComment)return!1;var x=this.blockComment.start,N=this.blockComment.end,z=new RegExp("^(\\s*)(?:"+lang$8.escapeRegExp(x)+")"),he=new RegExp("(?:"+lang$8.escapeRegExp(N)+")\\s*$"),X=function(de,fe){Q(de,fe)||(!l||/\S/.test(de))&&(n.insertInLine({row:fe,column:de.length},N),n.insertInLine({row:fe,column:p},x))},ne=function(de,fe){var Oe;(Oe=de.match(he))&&n.removeInLine(fe,de.length-Oe[0].length,de.length),(Oe=de.match(z))&&n.removeInLine(fe,Oe[1].length,Oe[0].length)},Q=function(de,fe){if(z.test(de))return!0;for(var Oe=e.getTokens(fe),Ne=0;Ne<Oe.length;Ne++)if(Oe[Ne].type==="comment")return!0}}function ce(de){for(var fe=t;fe<=r;fe++)de(n.getLine(fe),fe)}var ue=1/0;ce(function(de,fe){var Oe=de.search(/\S/);Oe!==-1?(Oe<p&&(p=Oe),a&&!Q(de,fe)&&(a=!1)):ue>de.length&&(ue=de.length)}),p==1/0&&(p=ue,l=!1,a=!1),y&&p%$!=0&&(p=Math.floor(p/$)*$),ce(a?ne:X)},this.toggleBlockComment=function(s,e,t,r){var n=this.blockComment;if(n){!n.start&&n[0]&&(n=n[0]);var l=new TokenIterator$1(e,r.row,r.column),a=l.getCurrentToken();e.selection;var p=e.selection.toOrientedRange(),$,y;if(a&&/comment/.test(a.type)){for(var x,N;a&&/comment/.test(a.type);){var z=a.value.indexOf(n.start);if(z!=-1){var he=l.getCurrentTokenRow(),X=l.getCurrentTokenColumn()+z;x=new Range$a(he,X,he,X+n.start.length);break}a=l.stepBackward()}for(var l=new TokenIterator$1(e,r.row,r.column),a=l.getCurrentToken();a&&/comment/.test(a.type);){var z=a.value.indexOf(n.end);if(z!=-1){var he=l.getCurrentTokenRow(),X=l.getCurrentTokenColumn()+z;N=new Range$a(he,X,he,X+n.end.length);break}a=l.stepForward()}N&&e.remove(N),x&&(e.remove(x),$=x.start.row,y=-n.start.length)}else y=n.start.length,$=t.start.row,e.insert(t.end,n.end),e.insert(t.start,n.start);p.start.row==$&&(p.start.column+=y),p.end.row==$&&(p.end.column+=y),e.selection.fromOrientedRange(p)}},this.getNextLineIndent=function(s,e,t){return this.$getIndent(e)},this.checkOutdent=function(s,e,t){return!1},this.autoOutdent=function(s,e,t){},this.$getIndent=function(s){return s.match(/^\s*/)[0]},this.createWorker=function(s){return null},this.createModeDelegates=function(s){this.$embeds=[],this.$modes={};for(var e in s)if(s[e]){var t=s[e],r=t.prototype.$id,n=config$3.$modes[r];n||(config$3.$modes[r]=n=new t),config$3.$modes[e]||(config$3.$modes[e]=n),this.$embeds.push(e),this.$modes[e]=n}for(var l=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],e=0;e<l.length;e++)(function(p){var $=l[e],y=p[$];p[l[e]]=function(){return this.$delegator($,arguments,y)}})(this)},this.$delegator=function(s,e,t){var r=e[0]||"start";if(typeof r!="string"){if(Array.isArray(r[2])){var n=r[2][r[2].length-1],l=this.$modes[n];if(l)return l[s].apply(l,[r[1]].concat([].slice.call(e,1)))}r=r[0]||"start"}for(var a=0;a<this.$embeds.length;a++)if(this.$modes[this.$embeds[a]]){var p=r.split(this.$embeds[a]);if(!p[0]&&p[1]){e[0]=p[1];var l=this.$modes[this.$embeds[a]];return l[s].apply(l,e)}}var $=t.apply(this,e);return t?$:void 0},this.transformAction=function(s,e,t,r,n){if(this.$behaviour){var l=this.$behaviour.getBehaviours();for(var a in l)if(l[a][e]){var p=l[a][e].apply(this,arguments);if(p)return p}}},this.getKeywords=function(s){if(!this.completionKeywords){var e=this.$tokenizer.rules,t=[];for(var r in e)for(var n=e[r],l=0,a=n.length;l<a;l++)if(typeof n[l].token=="string")/keyword|support|storage/.test(n[l].token)&&t.push(n[l].regex);else if(typeof n[l].token=="object"){for(var p=0,$=n[l].token.length;p<$;p++)if(/keyword|support|storage/.test(n[l].token[p])){var r=n[l].regex.match(/\(.+?\)/g)[p];t.push(r.substr(1,r.length-2))}}this.completionKeywords=t}return s?t.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(s,e,t,r){var n=this.$keywordList||this.$createKeywordList();return n.map(function(l){return{name:l,value:l,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(Mode.prototype);text$1.Mode=Mode;var document$1={},apply_delta={};apply_delta.applyDelta=function(s,e,t){var r=e.start.row,n=e.start.column,l=s[r]||"";switch(e.action){case"insert":var a=e.lines;if(a.length===1)s[r]=l.substring(0,n)+e.lines[0]+l.substring(n);else{var p=[r,1].concat(e.lines);s.splice.apply(s,p),s[r]=l.substring(0,n)+s[r],s[r+e.lines.length-1]+=l.substring(n)}break;case"remove":var $=e.end.column,y=e.end.row;r===y?s[r]=l.substring(0,n)+l.substring($):s.splice(r,y-r+1,l.substring(0,n)+s[y].substring($));break}};var anchor={},oop$e=oop$i,EventEmitter$d=event_emitter.EventEmitter;let Anchor$1=class{constructor(e,t,r){this.$onChange=this.onChange.bind(this),this.attach(e),typeof r>"u"?this.setPosition(t.row,t.column):this.setPosition(t,r)}getPosition(){return this.$clipPositionToDocument(this.row,this.column)}getDocument(){return this.document}onChange(e){if(!(e.start.row==e.end.row&&e.start.row!=this.row)&&!(e.start.row>this.row)){var t=$getTransformedPoint(e,{row:this.row,column:this.column},this.$insertRight);this.setPosition(t.row,t.column,!0)}}setPosition(e,t,r){var n;if(r?n={row:e,column:t}:n=this.$clipPositionToDocument(e,t),!(this.row==n.row&&this.column==n.column)){var l={row:this.row,column:this.column};this.row=n.row,this.column=n.column,this._signal("change",{old:l,value:n})}}detach(){this.document.off("change",this.$onChange)}attach(e){this.document=e||this.document,this.document.on("change",this.$onChange)}$clipPositionToDocument(e,t){var r={};return e>=this.document.getLength()?(r.row=Math.max(0,this.document.getLength()-1),r.column=this.document.getLine(r.row).length):e<0?(r.row=0,r.column=0):(r.row=e,r.column=Math.min(this.document.getLine(r.row).length,Math.max(0,t))),t<0&&(r.column=0),r}};Anchor$1.prototype.$insertRight=!1;oop$e.implement(Anchor$1.prototype,EventEmitter$d);function $pointsInOrder(s,e,t){var r=t?s.column<=e.column:s.column<e.column;return s.row<e.row||s.row==e.row&&r}function $getTransformedPoint(s,e,t){var r=s.action=="insert",n=(r?1:-1)*(s.end.row-s.start.row),l=(r?1:-1)*(s.end.column-s.start.column),a=s.start,p=r?a:s.end;return $pointsInOrder(e,a,t)?{row:e.row,column:e.column}:$pointsInOrder(p,e,!t)?{row:e.row+n,column:e.column+(e.row==p.row?l:0)}:{row:a.row,column:a.column}}anchor.Anchor=Anchor$1;var oop$d=oop$i,applyDelta=apply_delta.applyDelta,EventEmitter$c=event_emitter.EventEmitter,Range$9=range.Range,Anchor=anchor.Anchor;let Document$1=class{constructor(e){this.$lines=[""],e.length===0?this.$lines=[""]:Array.isArray(e)?this.insertMergedLines({row:0,column:0},e):this.insert({row:0,column:0},e)}setValue(e){var t=this.getLength()-1;this.remove(new Range$9(0,0,t,this.getLine(t).length)),this.insert({row:0,column:0},e||"")}getValue(){return this.getAllLines().join(this.getNewLineCharacter())}createAnchor(e,t){return new Anchor(this,e,t)}$detectNewLine(e){var t=e.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=t?t[1]:`
`,this._signal("changeNewLineMode")}getNewLineCharacter(){switch(this.$newLineMode){case"windows":return`\r
`;case"unix":return`
`;default:return this.$autoNewLine||`
`}}setNewLineMode(e){this.$newLineMode!==e&&(this.$newLineMode=e,this._signal("changeNewLineMode"))}getNewLineMode(){return this.$newLineMode}isNewLine(e){return e==`\r
`||e=="\r"||e==`
`}getLine(e){return this.$lines[e]||""}getLines(e,t){return this.$lines.slice(e,t+1)}getAllLines(){return this.getLines(0,this.getLength())}getLength(){return this.$lines.length}getTextRange(e){return this.getLinesForRange(e).join(this.getNewLineCharacter())}getLinesForRange(e){var t;if(e.start.row===e.end.row)t=[this.getLine(e.start.row).substring(e.start.column,e.end.column)];else{t=this.getLines(e.start.row,e.end.row),t[0]=(t[0]||"").substring(e.start.column);var r=t.length-1;e.end.row-e.start.row==r&&(t[r]=t[r].substring(0,e.end.column))}return t}insertLines(e,t){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(e,t)}removeLines(e,t){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(e,t)}insertNewLine(e){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(e,["",""])}insert(e,t){return this.getLength()<=1&&this.$detectNewLine(t),this.insertMergedLines(e,this.$split(t))}insertInLine(e,t){var r=this.clippedPos(e.row,e.column),n=this.pos(e.row,e.column+t.length);return this.applyDelta({start:r,end:n,action:"insert",lines:[t]},!0),this.clonePos(n)}clippedPos(e,t){var r=this.getLength();e===void 0?e=r:e<0?e=0:e>=r&&(e=r-1,t=void 0);var n=this.getLine(e);return t==null&&(t=n.length),t=Math.min(Math.max(t,0),n.length),{row:e,column:t}}clonePos(e){return{row:e.row,column:e.column}}pos(e,t){return{row:e,column:t}}$clipPosition(e){var t=this.getLength();return e.row>=t?(e.row=Math.max(0,t-1),e.column=this.getLine(t-1).length):(e.row=Math.max(0,e.row),e.column=Math.min(Math.max(e.column,0),this.getLine(e.row).length)),e}insertFullLines(e,t){e=Math.min(Math.max(e,0),this.getLength());var r=0;e<this.getLength()?(t=t.concat([""]),r=0):(t=[""].concat(t),e--,r=this.$lines[e].length),this.insertMergedLines({row:e,column:r},t)}insertMergedLines(e,t){var r=this.clippedPos(e.row,e.column),n={row:r.row+t.length-1,column:(t.length==1?r.column:0)+t[t.length-1].length};return this.applyDelta({start:r,end:n,action:"insert",lines:t}),this.clonePos(n)}remove(e){var t=this.clippedPos(e.start.row,e.start.column),r=this.clippedPos(e.end.row,e.end.column);return this.applyDelta({start:t,end:r,action:"remove",lines:this.getLinesForRange({start:t,end:r})}),this.clonePos(t)}removeInLine(e,t,r){var n=this.clippedPos(e,t),l=this.clippedPos(e,r);return this.applyDelta({start:n,end:l,action:"remove",lines:this.getLinesForRange({start:n,end:l})},!0),this.clonePos(n)}removeFullLines(e,t){e=Math.min(Math.max(0,e),this.getLength()-1),t=Math.min(Math.max(0,t),this.getLength()-1);var r=t==this.getLength()-1&&e>0,n=t<this.getLength()-1,l=r?e-1:e,a=r?this.getLine(l).length:0,p=n?t+1:t,$=n?0:this.getLine(p).length,y=new Range$9(l,a,p,$),x=this.$lines.slice(e,t+1);return this.applyDelta({start:y.start,end:y.end,action:"remove",lines:this.getLinesForRange(y)}),x}removeNewLine(e){e<this.getLength()-1&&e>=0&&this.applyDelta({start:this.pos(e,this.getLine(e).length),end:this.pos(e+1,0),action:"remove",lines:["",""]})}replace(e,t){if(e instanceof Range$9||(e=Range$9.fromPoints(e.start,e.end)),t.length===0&&e.isEmpty())return e.start;if(t==this.getTextRange(e))return e.end;this.remove(e);var r;return t?r=this.insert(e.start,t):r=e.start,r}applyDeltas(e){for(var t=0;t<e.length;t++)this.applyDelta(e[t])}revertDeltas(e){for(var t=e.length-1;t>=0;t--)this.revertDelta(e[t])}applyDelta(e,t){var r=e.action=="insert";(r?e.lines.length<=1&&!e.lines[0]:!Range$9.comparePoints(e.start,e.end))||(r&&e.lines.length>2e4?this.$splitAndapplyLargeDelta(e,2e4):(applyDelta(this.$lines,e,t),this._signal("change",e)))}$safeApplyDelta(e){var t=this.$lines.length;(e.action=="remove"&&e.start.row<t&&e.end.row<t||e.action=="insert"&&e.start.row<=t)&&this.applyDelta(e)}$splitAndapplyLargeDelta(e,t){for(var r=e.lines,n=r.length-t+1,l=e.start.row,a=e.start.column,p=0,$=0;p<n;p=$){$+=t-1;var y=r.slice(p,$);y.push(""),this.applyDelta({start:this.pos(l+p,a),end:this.pos(l+$,a=0),action:e.action,lines:y},!0)}e.lines=r.slice(p),e.start.row=l+p,e.start.column=a,this.applyDelta(e,!0)}revertDelta(e){this.$safeApplyDelta({start:this.clonePos(e.start),end:this.clonePos(e.end),action:e.action=="insert"?"remove":"insert",lines:e.lines.slice()})}indexToPosition(e,t){for(var r=this.$lines||this.getAllLines(),n=this.getNewLineCharacter().length,l=t||0,a=r.length;l<a;l++)if(e-=r[l].length+n,e<0)return{row:l,column:e+r[l].length+n};return{row:a-1,column:e+r[a-1].length+n}}positionToIndex(e,t){for(var r=this.$lines||this.getAllLines(),n=this.getNewLineCharacter().length,l=0,a=Math.min(e.row,r.length),p=t||0;p<a;++p)l+=r[p].length+n;return l+e.column}$split(e){return e.split(/\r\n|\r|\n/)}};Document$1.prototype.$autoNewLine="";Document$1.prototype.$newLineMode="auto";oop$d.implement(Document$1.prototype,EventEmitter$c);document$1.Document=Document$1;var background_tokenizer={},oop$c=oop$i,EventEmitter$b=event_emitter.EventEmitter;let BackgroundTokenizer$1=class{constructor(e,t){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=e;var r=this;this.$worker=function(){if(r.running){for(var n=new Date,l=r.currentLine,a=-1,p=r.doc,$=l;r.lines[l];)l++;var y=p.getLength(),x=0;for(r.running=!1;l<y;){r.$tokenizeRow(l),a=l;do l++;while(r.lines[l]);if(x++,x%5===0&&new Date-n>20){r.running=setTimeout(r.$worker,20);break}}r.currentLine=l,a==-1&&(a=l),$<=a&&r.fireUpdateEvent($,a)}}}setTokenizer(e){this.tokenizer=e,this.lines=[],this.states=[],this.start(0)}setDocument(e){this.doc=e,this.lines=[],this.states=[],this.stop()}fireUpdateEvent(e,t){var r={first:e,last:t};this._signal("update",{data:r})}start(e){this.currentLine=Math.min(e||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)}scheduleStart(){this.running||(this.running=setTimeout(this.$worker,700))}$updateOnChange(e){var t=e.start.row,r=e.end.row-t;if(r===0)this.lines[t]=null;else if(e.action=="remove")this.lines.splice(t,r+1,null),this.states.splice(t,r+1,null);else{var n=Array(r+1);n.unshift(t,1),this.lines.splice.apply(this.lines,n),this.states.splice.apply(this.states,n)}this.currentLine=Math.min(t,this.currentLine,this.doc.getLength()),this.stop()}stop(){this.running&&clearTimeout(this.running),this.running=!1}getTokens(e){return this.lines[e]||this.$tokenizeRow(e)}getState(e){return this.currentLine==e&&this.$tokenizeRow(e),this.states[e]||"start"}$tokenizeRow(e){var t=this.doc.getLine(e),r=this.states[e-1],n=this.tokenizer.getLineTokens(t,r,e);return this.states[e]+""!=n.state+""?(this.states[e]=n.state,this.lines[e+1]=null,this.currentLine>e+1&&(this.currentLine=e+1)):this.currentLine==e&&(this.currentLine=e+1),this.lines[e]=n.tokens}cleanup(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()}};oop$c.implement(BackgroundTokenizer$1.prototype,EventEmitter$b);background_tokenizer.BackgroundTokenizer=BackgroundTokenizer$1;var search_highlight={},lang$7=lang$e,Range$8=range.Range;let SearchHighlight$1=class{constructor(e,t,r="text"){this.setRegexp(e),this.clazz=t,this.type=r}setRegexp(e){this.regExp+""!=e+""&&(this.regExp=e,this.cache=[])}update(e,t,r,n){if(this.regExp)for(var l=n.firstRow,a=n.lastRow,p={},$=l;$<=a;$++){var y=this.cache[$];y==null&&(y=lang$7.getMatchOffsets(r.getLine($),this.regExp),y.length>this.MAX_RANGES&&(y=y.slice(0,this.MAX_RANGES)),y=y.map(function(he){return new Range$8($,he.offset,$,he.offset+he.length)}),this.cache[$]=y.length?y:"");for(var x=y.length;x--;){var N=y[x].toScreenRange(r),z=N.toString();p[z]||(p[z]=!0,t.drawSingleLineMarker(e,N,this.clazz,n))}}}};SearchHighlight$1.prototype.MAX_RANGES=500;search_highlight.SearchHighlight=SearchHighlight$1;var folding={},fold_line={},hasRequiredFold_line;function requireFold_line(){if(hasRequiredFold_line)return fold_line;hasRequiredFold_line=1;var s=range.Range;class e{constructor(r,n){this.foldData=r,Array.isArray(n)?this.folds=n:n=this.folds=[n];var l=n[n.length-1];this.range=new s(n[0].start.row,n[0].start.column,l.end.row,l.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(a){a.setFoldLine(this)},this)}shiftRow(r){this.start.row+=r,this.end.row+=r,this.folds.forEach(function(n){n.start.row+=r,n.end.row+=r})}addFold(r){if(r.sameRow){if(r.start.row<this.startRow||r.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(r),this.folds.sort(function(n,l){return-n.range.compareEnd(l.start.row,l.start.column)}),this.range.compareEnd(r.start.row,r.start.column)>0?(this.end.row=r.end.row,this.end.column=r.end.column):this.range.compareStart(r.end.row,r.end.column)<0&&(this.start.row=r.start.row,this.start.column=r.start.column)}else if(r.start.row==this.end.row)this.folds.push(r),this.end.row=r.end.row,this.end.column=r.end.column;else if(r.end.row==this.start.row)this.folds.unshift(r),this.start.row=r.start.row,this.start.column=r.start.column;else throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");r.foldLine=this}containsRow(r){return r>=this.start.row&&r<=this.end.row}walk(r,n,l){var a=0,p=this.folds,$,y,x,N=!0;n==null&&(n=this.end.row,l=this.end.column);for(var z=0;z<p.length;z++){if($=p[z],y=$.range.compareStart(n,l),y==-1){r(null,n,l,a,N);return}if(x=r(null,$.start.row,$.start.column,a,N),x=!x&&r($.placeholder,$.start.row,$.start.column,a),x||y===0)return;N=!$.sameRow,a=$.end.column}r(null,n,l,a,N)}getNextFoldTo(r,n){for(var l,a,p=0;p<this.folds.length;p++){if(l=this.folds[p],a=l.range.compareEnd(r,n),a==-1)return{fold:l,kind:"after"};if(a===0)return{fold:l,kind:"inside"}}return null}addRemoveChars(r,n,l){var a=this.getNextFoldTo(r,n),p,$;if(a){if(p=a.fold,a.kind=="inside"&&p.start.column!=n&&p.start.row!=r)window.console&&window.console.log(r,n,p);else if(p.start.row==r){$=this.folds;var y=$.indexOf(p);for(y===0&&(this.start.column+=l),y;y<$.length;y++){if(p=$[y],p.start.column+=l,!p.sameRow)return;p.end.column+=l}this.end.column+=l}}}split(r,n){var l=this.getNextFoldTo(r,n);if(!l||l.kind=="inside")return null;var a=l.fold,p=this.folds,$=this.foldData,y=p.indexOf(a),x=p[y-1];this.end.row=x.end.row,this.end.column=x.end.column,p=p.splice(y,p.length-y);var N=new e($,p);return $.splice($.indexOf(this)+1,0,N),N}merge(r){for(var n=r.folds,l=0;l<n.length;l++)this.addFold(n[l]);var a=this.foldData;a.splice(a.indexOf(r),1)}toString(){var r=[this.range.toString()+": ["];return this.folds.forEach(function(n){r.push("  "+n.toString())}),r.push("]"),r.join(`
`)}idxToPosition(r){for(var n=0,l=0;l<this.folds.length;l++){var a=this.folds[l];if(r-=a.start.column-n,r<0)return{row:a.start.row,column:a.start.column+r};if(r-=a.placeholder.length,r<0)return a.start;n=a.end.column}return{row:this.end.row,column:this.end.column+r}}}return fold_line.FoldLine=e,fold_line}var fold={},range_list={},Range$7=range.Range,comparePoints=Range$7.comparePoints;class RangeList{constructor(){this.ranges=[],this.$bias=1}pointIndex(e,t,r){for(var n=this.ranges,l=r||0;l<n.length;l++){var a=n[l],p=comparePoints(e,a.end);if(!(p>0)){var $=comparePoints(e,a.start);return p===0?t&&$!==0?-l-2:l:$>0||$===0&&!t?l:-l-1}}return-l-1}add(e){var t=!e.isEmpty(),r=this.pointIndex(e.start,t);r<0&&(r=-r-1);var n=this.pointIndex(e.end,t,r);return n<0?n=-n-1:n++,this.ranges.splice(r,n-r,e)}addList(e){for(var t=[],r=e.length;r--;)t.push.apply(t,this.add(e[r]));return t}substractPoint(e){var t=this.pointIndex(e);if(t>=0)return this.ranges.splice(t,1)}merge(){var e=[],t=this.ranges;t=t.sort(function(p,$){return comparePoints(p.start,$.start)});for(var r=t[0],n,l=1;l<t.length;l++){n=r,r=t[l];var a=comparePoints(n.end,r.start);a<0||a==0&&!n.isEmpty()&&!r.isEmpty()||(comparePoints(n.end,r.end)<0&&(n.end.row=r.end.row,n.end.column=r.end.column),t.splice(l,1),e.push(r),r=n,l--)}return this.ranges=t,e}contains(e,t){return this.pointIndex({row:e,column:t})>=0}containsPoint(e){return this.pointIndex(e)>=0}rangeAtPoint(e){var t=this.pointIndex(e);if(t>=0)return this.ranges[t]}clipRows(e,t){var r=this.ranges;if(r[0].start.row>t||r[r.length-1].start.row<e)return[];var n=this.pointIndex({row:e,column:0});n<0&&(n=-n-1);var l=this.pointIndex({row:t,column:0},n);l<0&&(l=-l-1);for(var a=[],p=n;p<l;p++)a.push(r[p]);return a}removeAll(){return this.ranges.splice(0,this.ranges.length)}attach(e){this.session&&this.detach(),this.session=e,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)}detach(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)}$onChange(e){for(var t=e.start,r=e.end,n=t.row,l=r.row,a=this.ranges,p=0,$=a.length;p<$;p++){var y=a[p];if(y.end.row>=n)break}if(e.action=="insert")for(var x=l-n,N=-t.column+r.column;p<$;p++){var y=a[p];if(y.start.row>n)break;if(y.start.row==n&&y.start.column>=t.column&&(y.start.column==t.column&&this.$bias<=0||(y.start.column+=N,y.start.row+=x)),y.end.row==n&&y.end.column>=t.column){if(y.end.column==t.column&&this.$bias<0)continue;y.end.column==t.column&&N>0&&p<$-1&&y.end.column>y.start.column&&y.end.column==a[p+1].start.column&&(y.end.column-=N),y.end.column+=N,y.end.row+=x}}else for(var x=n-l,N=t.column-r.column;p<$;p++){var y=a[p];if(y.start.row>l)break;y.end.row<l&&(n<y.end.row||n==y.end.row&&t.column<y.end.column)?(y.end.row=n,y.end.column=t.column):y.end.row==l?y.end.column<=r.column?(x||y.end.column>t.column)&&(y.end.column=t.column,y.end.row=t.row):(y.end.column+=N,y.end.row+=x):y.end.row>l&&(y.end.row+=x),y.start.row<l&&(n<y.start.row||n==y.start.row&&t.column<y.start.column)?(y.start.row=n,y.start.column=t.column):y.start.row==l?y.start.column<=r.column?(x||y.start.column>t.column)&&(y.start.column=t.column,y.start.row=t.row):(y.start.column+=N,y.start.row+=x):y.start.row>l&&(y.start.row+=x)}if(x!=0&&p<$)for(;p<$;p++){var y=a[p];y.start.row+=x,y.end.row+=x}}}RangeList.prototype.comparePoints=comparePoints;range_list.RangeList=RangeList;var hasRequiredFold;function requireFold(){if(hasRequiredFold)return fold;hasRequiredFold=1;var s=range_list.RangeList;class e extends s{constructor(p,$){super(),this.foldLine=null,this.placeholder=$,this.range=p,this.start=p.start,this.end=p.end,this.sameRow=p.start.row==p.end.row,this.subFolds=this.ranges=[]}toString(){return'"'+this.placeholder+'" '+this.range.toString()}setFoldLine(p){this.foldLine=p,this.subFolds.forEach(function($){$.setFoldLine(p)})}clone(){var p=this.range.clone(),$=new e(p,this.placeholder);return this.subFolds.forEach(function(y){$.subFolds.push(y.clone())}),$.collapseChildren=this.collapseChildren,$}addSubFold(p){if(!this.range.isEqual(p)){r(p,this.start);for(var z=p.start.row,he=p.start.column,$=0,y=-1;$<this.subFolds.length&&(y=this.subFolds[$].range.compare(z,he),y==1);$++);var x=this.subFolds[$],N=0;if(y==0){if(x.range.containsRange(p))return x.addSubFold(p);N=1}for(var z=p.range.end.row,he=p.range.end.column,X=$,y=-1;X<this.subFolds.length&&(y=this.subFolds[X].range.compare(z,he),y==1);X++);y==0&&X++;for(var ne=this.subFolds.splice($,X-$,p),Q=y==0?ne.length-1:ne.length,ie=N;ie<Q;ie++)p.addSubFold(ne[ie]);return p.setFoldLine(this.foldLine),p}}restoreRange(p){return l(p,this.start)}}function t(a,p){a.row-=p.row,a.row==0&&(a.column-=p.column)}function r(a,p){t(a.start,p),t(a.end,p)}function n(a,p){a.row==0&&(a.column+=p.column),a.row+=p.row}function l(a,p){n(a.start,p),n(a.end,p)}return fold.Fold=e,fold}var hasRequiredFolding;function requireFolding(){if(hasRequiredFolding)return folding;hasRequiredFolding=1;var s=range.Range,e=requireFold_line().FoldLine,t=requireFold().Fold,r=token_iterator.TokenIterator,n=mouse_event.MouseEvent;function l(){this.getFoldAt=function(a,p,$){var y=this.getFoldLine(a);if(!y)return null;for(var x=y.folds,N=0;N<x.length;N++){var z=x[N].range;if(z.contains(a,p)){if($==1&&z.isEnd(a,p)&&!z.isEmpty())continue;if($==-1&&z.isStart(a,p)&&!z.isEmpty())continue;return x[N]}}},this.getFoldsInRange=function(a){var p=a.start,$=a.end,y=this.$foldData,x=[];p.column+=1,$.column-=1;for(var N=0;N<y.length;N++){var z=y[N].range.compareRange(a);if(z!=2){if(z==-2)break;for(var he=y[N].folds,X=0;X<he.length;X++){var ne=he[X];if(z=ne.range.compareRange(a),z==-2)break;if(z==2)continue;if(z==42)break;x.push(ne)}}}return p.column-=1,$.column+=1,x},this.getFoldsInRangeList=function(a){if(Array.isArray(a)){var p=[];a.forEach(function($){p=p.concat(this.getFoldsInRange($))},this)}else var p=this.getFoldsInRange(a);return p},this.getAllFolds=function(){for(var a=[],p=this.$foldData,$=0;$<p.length;$++)for(var y=0;y<p[$].folds.length;y++)a.push(p[$].folds[y]);return a},this.getFoldStringAt=function(a,p,$,y){if(y=y||this.getFoldLine(a),!y)return null;for(var x={end:{column:0}},N,z,he=0;he<y.folds.length;he++){z=y.folds[he];var X=z.range.compareEnd(a,p);if(X==-1){N=this.getLine(z.start.row).substring(x.end.column,z.start.column);break}else if(X===0)return null;x=z}return N||(N=this.getLine(z.start.row).substring(x.end.column)),$==-1?N.substring(0,p-x.end.column):$==1?N.substring(p-x.end.column):N},this.getFoldLine=function(a,p){var $=this.$foldData,y=0;for(p&&(y=$.indexOf(p)),y==-1&&(y=0),y;y<$.length;y++){var x=$[y];if(x.start.row<=a&&x.end.row>=a)return x;if(x.end.row>a)return null}return null},this.getNextFoldLine=function(a,p){var $=this.$foldData,y=0;for(p&&(y=$.indexOf(p)),y==-1&&(y=0),y;y<$.length;y++){var x=$[y];if(x.end.row>=a)return x}return null},this.getFoldedRowCount=function(a,p){for(var $=this.$foldData,y=p-a+1,x=0;x<$.length;x++){var N=$[x],z=N.end.row,he=N.start.row;if(z>=p){he<p&&(he>=a?y-=p-he:y=0);break}else z>=a&&(he>=a?y-=z-he:y-=z-a+1)}return y},this.$addFoldLine=function(a){return this.$foldData.push(a),this.$foldData.sort(function(p,$){return p.start.row-$.start.row}),a},this.addFold=function(a,p){var $=this.$foldData,y=!1,x;a instanceof t?x=a:(x=new t(p,a),x.collapseChildren=p.collapseChildren),this.$clipRangeToDocument(x.range);var N=x.start.row,z=x.start.column,he=x.end.row,X=x.end.column,ne=this.getFoldAt(N,z,1),Q=this.getFoldAt(he,X,-1);if(ne&&Q==ne)return ne.addSubFold(x);ne&&!ne.range.isStart(N,z)&&this.removeFold(ne),Q&&!Q.range.isEnd(he,X)&&this.removeFold(Q);var ie=this.getFoldsInRange(x.range);ie.length>0&&(this.removeFolds(ie),x.collapseChildren||ie.forEach(function(de){x.addSubFold(de)}));for(var ae=0;ae<$.length;ae++){var ce=$[ae];if(he==ce.start.row){ce.addFold(x),y=!0;break}else if(N==ce.end.row){if(ce.addFold(x),y=!0,!x.sameRow){var ue=$[ae+1];if(ue&&ue.start.row==he){ce.merge(ue);break}}break}else if(he<=ce.start.row)break}return y||(ce=this.$addFoldLine(new e(this.$foldData,x))),this.$useWrapMode?this.$updateWrapData(ce.start.row,ce.start.row):this.$updateRowLengthCache(ce.start.row,ce.start.row),this.$modified=!0,this._signal("changeFold",{data:x,action:"add"}),x},this.addFolds=function(a){a.forEach(function(p){this.addFold(p)},this)},this.removeFold=function(a){var p=a.foldLine,$=p.start.row,y=p.end.row,x=this.$foldData,N=p.folds;if(N.length==1)x.splice(x.indexOf(p),1);else if(p.range.isEnd(a.end.row,a.end.column))N.pop(),p.end.row=N[N.length-1].end.row,p.end.column=N[N.length-1].end.column;else if(p.range.isStart(a.start.row,a.start.column))N.shift(),p.start.row=N[0].start.row,p.start.column=N[0].start.column;else if(a.sameRow)N.splice(N.indexOf(a),1);else{var z=p.split(a.start.row,a.start.column);N=z.folds,N.shift(),z.start.row=N[0].start.row,z.start.column=N[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData($,y):this.$updateRowLengthCache($,y)),this.$modified=!0,this._signal("changeFold",{data:a,action:"remove"})},this.removeFolds=function(a){for(var p=[],$=0;$<a.length;$++)p.push(a[$]);p.forEach(function(y){this.removeFold(y)},this),this.$modified=!0},this.expandFold=function(a){this.removeFold(a),a.subFolds.forEach(function(p){a.restoreRange(p),this.addFold(p)},this),a.collapseChildren>0&&this.foldAll(a.start.row+1,a.end.row,a.collapseChildren-1),a.subFolds=[]},this.expandFolds=function(a){a.forEach(function(p){this.expandFold(p)},this)},this.unfold=function(a,p){var $,y;if(a==null)$=new s(0,0,this.getLength(),0),p==null&&(p=!0);else if(typeof a=="number")$=new s(a,0,a,this.getLine(a).length);else if("row"in a)$=s.fromPoints(a,a);else{if(Array.isArray(a))return y=[],a.forEach(function(N){y=y.concat(this.unfold(N))},this),y;$=a}y=this.getFoldsInRangeList($);for(var x=y;y.length==1&&s.comparePoints(y[0].start,$.start)<0&&s.comparePoints(y[0].end,$.end)>0;)this.expandFolds(y),y=this.getFoldsInRangeList($);if(p!=!1?this.removeFolds(y):this.expandFolds(y),x.length)return x},this.isRowFolded=function(a,p){return!!this.getFoldLine(a,p)},this.getRowFoldEnd=function(a,p){var $=this.getFoldLine(a,p);return $?$.end.row:a},this.getRowFoldStart=function(a,p){var $=this.getFoldLine(a,p);return $?$.start.row:a},this.getFoldDisplayLine=function(a,p,$,y,x){y==null&&(y=a.start.row),x==null&&(x=0),p==null&&(p=a.end.row),$==null&&($=this.getLine(p).length);var N=this.doc,z="";return a.walk(function(he,X,ne,Q){if(!(X<y)){if(X==y){if(ne<x)return;Q=Math.max(x,Q)}he!=null?z+=he:z+=N.getLine(X).substring(Q,ne)}},p,$),z},this.getDisplayLine=function(a,p,$,y){var x=this.getFoldLine(a);if(x)return this.getFoldDisplayLine(x,a,p,$,y);var N;return N=this.doc.getLine(a),N.substring(y||0,p||N.length)},this.$cloneFoldData=function(){var a=[];return a=this.$foldData.map(function(p){var $=p.folds.map(function(y){return y.clone()});return new e(a,$)}),a},this.toggleFold=function(a){var p=this.selection,$=p.getRange(),y,x;if($.isEmpty()){var N=$.start;if(y=this.getFoldAt(N.row,N.column),y){this.expandFold(y);return}else(x=this.findMatchingBracket(N))?$.comparePoint(x)==1?$.end=x:($.start=x,$.start.column++,$.end.column--):(x=this.findMatchingBracket({row:N.row,column:N.column+1}))?($.comparePoint(x)==1?$.end=x:$.start=x,$.start.column++):$=this.getCommentFoldRange(N.row,N.column)||$}else{var z=this.getFoldsInRange($);if(a&&z.length){this.expandFolds(z);return}else z.length==1&&(y=z[0])}if(y||(y=this.getFoldAt($.start.row,$.start.column)),y&&y.range.toString()==$.toString()){this.expandFold(y);return}var he="...";if(!$.isMultiLine()){if(he=this.getTextRange($),he.length<4)return;he=he.trim().substring(0,2)+".."}this.addFold(he,$)},this.getCommentFoldRange=function(a,p,$){var y=new r(this,a,p),x=y.getCurrentToken(),N=x&&x.type;if(x&&/^comment|string/.test(N)){N=N.match(/comment|string/)[0],N=="comment"&&(N+="|doc-start|\\.doc");var z=new RegExp(N),he=new s;if($!=1){do x=y.stepBackward();while(x&&z.test(x.type)&&!/^comment.end/.test(x.type));x=y.stepForward()}if(he.start.row=y.getCurrentTokenRow(),he.start.column=y.getCurrentTokenColumn()+(/^comment.start/.test(x.type)?x.value.length:2),y=new r(this,a,p),$!=-1){var X=-1;do if(x=y.stepForward(),X==-1){var ne=this.getState(y.$row);z.test(ne)||(X=y.$row)}else if(y.$row>X)break;while(x&&z.test(x.type)&&!/^comment.start/.test(x.type));x=y.stepBackward()}else x=y.getCurrentToken();return he.end.row=y.getCurrentTokenRow(),he.end.column=y.getCurrentTokenColumn(),/^comment.end/.test(x.type)||(he.end.column+=x.value.length-2),he}},this.foldAll=function(a,p,$,y){$==null&&($=1e5);var x=this.foldWidgets;if(x){p=p||this.getLength(),a=a||0;for(var N=a;N<p;N++)if(x[N]==null&&(x[N]=this.getFoldWidget(N)),x[N]=="start"&&!(y&&!y(N))){var z=this.getFoldWidgetRange(N);z&&z.isMultiLine()&&z.end.row<=p&&z.start.row>=a&&(N=z.end.row,z.collapseChildren=$,this.addFold("...",z))}}},this.foldToLevel=function(a){for(this.foldAll();a-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var a=this;this.foldAll(null,null,null,function(p){for(var $=a.getTokens(p),y=0;y<$.length;y++){var x=$[y];if(!(x.type=="text"&&/^\s+$/.test(x.value)))return!!/comment/.test(x.type)}})},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(a){if(!this.$foldStyles[a])throw new Error("invalid fold style: "+a+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=a){this.$foldStyle=a,a=="manual"&&this.unfold();var p=this.$foldMode;this.$setFolding(null),this.$setFolding(p)}},this.$setFolding=function(a){if(this.$foldMode!=a){if(this.$foldMode=a,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!a||this.$foldStyle=="manual"){this.foldWidgets=null;return}this.foldWidgets=[],this.getFoldWidget=a.getFoldWidget.bind(a,this,this.$foldStyle),this.getFoldWidgetRange=a.getFoldWidgetRange.bind(a,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(a,p){var $=this.foldWidgets;if(!$||p&&$[a])return{};for(var y=a-1,x;y>=0;){var N=$[y];if(N==null&&(N=$[y]=this.getFoldWidget(y)),N=="start"){var z=this.getFoldWidgetRange(y);if(x||(x=z),z&&z.end.row>=a)break}y--}return{range:y!==-1&&z,firstRange:x}},this.onFoldWidgetClick=function(a,p){p instanceof n&&(p=p.domEvent);var $={children:p.shiftKey,all:p.ctrlKey||p.metaKey,siblings:p.altKey},y=this.$toggleFoldWidget(a,$);if(!y){var x=p.target||p.srcElement;x&&/ace_fold-widget/.test(x.className)&&(x.className+=" ace_invalid")}},this.$toggleFoldWidget=function(a,p){if(this.getFoldWidget){var $=this.getFoldWidget(a),y=this.getLine(a),x=$==="end"?-1:1,N=this.getFoldAt(a,x===-1?0:y.length,x);if(N)return p.children||p.all?this.removeFold(N):this.expandFold(N),N;var z=this.getFoldWidgetRange(a,!0);if(z&&!z.isMultiLine()&&(N=this.getFoldAt(z.start.row,z.start.column,1),N&&z.isEqual(N.range)))return this.removeFold(N),N;if(p.siblings){var he=this.getParentFoldRangeData(a);if(he.range)var X=he.range.start.row+1,ne=he.range.end.row;this.foldAll(X,ne,p.all?1e4:0)}else p.children?(ne=z?z.end.row:this.getLength(),this.foldAll(a+1,ne,p.all?1e4:0)):z&&(p.all&&(z.collapseChildren=1e4),this.addFold("...",z));return z}},this.toggleFoldWidget=function(a){var p=this.selection.getCursor().row;p=this.getRowFoldStart(p);var $=this.$toggleFoldWidget(p,{});if(!$){var y=this.getParentFoldRangeData(p,!0);if($=y.range||y.firstRange,$){p=$.start.row;var x=this.getFoldAt(p,this.getLine(p).length,1);x?this.removeFold(x):this.addFold("...",$)}}},this.updateFoldWidgets=function(a){var p=a.start.row,$=a.end.row-p;if($===0)this.foldWidgets[p]=null;else if(a.action=="remove")this.foldWidgets.splice(p,$+1,null);else{var y=Array($+1);y.unshift(p,1),this.foldWidgets.splice.apply(this.foldWidgets,y)}},this.tokenizerUpdateFoldWidgets=function(a){var p=a.data;p.first!=p.last&&this.foldWidgets.length>p.first&&this.foldWidgets.splice(p.first,this.foldWidgets.length)}}return folding.Folding=l,folding}var bracket_match={},hasRequiredBracket_match;function requireBracket_match(){if(hasRequiredBracket_match)return bracket_match;hasRequiredBracket_match=1;var s=token_iterator.TokenIterator,e=range.Range;function t(){this.findMatchingBracket=function(r,n){if(r.column==0)return null;var l=n||this.getLine(r.row).charAt(r.column-1);if(l=="")return null;var a=l.match(/([\(\[\{])|([\)\]\}])/);return a?a[1]?this.$findClosingBracket(a[1],r):this.$findOpeningBracket(a[2],r):null},this.getBracketRange=function(r){var n=this.getLine(r.row),l=!0,a,p=n.charAt(r.column-1),$=p&&p.match(/([\(\[\{])|([\)\]\}])/);if($||(p=n.charAt(r.column),r={row:r.row,column:r.column+1},$=p&&p.match(/([\(\[\{])|([\)\]\}])/),l=!1),!$)return null;if($[1]){var y=this.$findClosingBracket($[1],r);if(!y)return null;a=e.fromPoints(r,y),l||(a.end.column++,a.start.column--),a.cursor=a.end}else{var y=this.$findOpeningBracket($[2],r);if(!y)return null;a=e.fromPoints(y,r),l||(a.start.column++,a.end.column--),a.cursor=a.start}return a},this.getMatchingBracketRanges=function(r,n){var l=this.getLine(r.row),a=/([\(\[\{])|([\)\]\}])/,p=!n&&l.charAt(r.column-1),$=p&&p.match(a);if($||(p=(n===void 0||n)&&l.charAt(r.column),r={row:r.row,column:r.column+1},$=p&&p.match(a)),!$)return null;var y=new e(r.row,r.column-1,r.row,r.column),x=$[1]?this.$findClosingBracket($[1],r):this.$findOpeningBracket($[2],r);if(!x)return[y];var N=new e(x.row,x.column,x.row,x.column+1);return[y,N]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(r,n,l){var a=this.$brackets[r],p=1,$=new s(this,n.row,n.column),y=$.getCurrentToken();if(y||(y=$.stepForward()),!!y){l||(l=new RegExp("(\\.?"+y.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)").replace(/-close\b/,"-(close|open)")+")+"));for(var x=n.column-$.getCurrentTokenColumn()-2,N=y.value;;){for(;x>=0;){var z=N.charAt(x);if(z==a){if(p-=1,p==0)return{row:$.getCurrentTokenRow(),column:x+$.getCurrentTokenColumn()}}else z==r&&(p+=1);x-=1}do y=$.stepBackward();while(y&&!l.test(y.type));if(y==null)break;N=y.value,x=N.length-1}return null}},this.$findClosingBracket=function(r,n,l){var a=this.$brackets[r],p=1,$=new s(this,n.row,n.column),y=$.getCurrentToken();if(y||(y=$.stepForward()),!!y){l||(l=new RegExp("(\\.?"+y.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)").replace(/-open\b/,"-(close|open)")+")+"));for(var x=n.column-$.getCurrentTokenColumn();;){for(var N=y.value,z=N.length;x<z;){var he=N.charAt(x);if(he==a){if(p-=1,p==0)return{row:$.getCurrentTokenRow(),column:x+$.getCurrentTokenColumn()}}else he==r&&(p+=1);x+=1}do y=$.stepForward();while(y&&!l.test(y.type));if(y==null)break;x=0}return null}},this.getMatchingTags=function(r){var n=new s(this,r.row,r.column),l=this.$findTagName(n);if(l){var a=n.stepBackward();return a.value==="<"?this.$findClosingTag(n,l):this.$findOpeningTag(n,l)}},this.$findTagName=function(r){var n=r.getCurrentToken(),l=!1,a=!1;if(n&&n.type.indexOf("tag-name")===-1)do a?n=r.stepBackward():n=r.stepForward(),n&&(n.value==="/>"?a=!0:n.type.indexOf("tag-name")!==-1&&(l=!0));while(n&&!l);return n},this.$findClosingTag=function(r,n){var l,a=n.value,p=n.value,$=0,y=new e(r.getCurrentTokenRow(),r.getCurrentTokenColumn(),r.getCurrentTokenRow(),r.getCurrentTokenColumn()+1);n=r.stepForward();var x=new e(r.getCurrentTokenRow(),r.getCurrentTokenColumn(),r.getCurrentTokenRow(),r.getCurrentTokenColumn()+n.value.length),N=!1;do if(l=n,n=r.stepForward(),n){if(n.value===">"&&!N){var z=new e(r.getCurrentTokenRow(),r.getCurrentTokenColumn(),r.getCurrentTokenRow(),r.getCurrentTokenColumn()+1);N=!0}if(n.type.indexOf("tag-name")!==-1){if(a=n.value,p===a){if(l.value==="<")$++;else if(l.value==="</"&&($--,$<0)){r.stepBackward();var he=new e(r.getCurrentTokenRow(),r.getCurrentTokenColumn(),r.getCurrentTokenRow(),r.getCurrentTokenColumn()+2);n=r.stepForward();var X=new e(r.getCurrentTokenRow(),r.getCurrentTokenColumn(),r.getCurrentTokenRow(),r.getCurrentTokenColumn()+n.value.length);if(n=r.stepForward(),n&&n.value===">")var ne=new e(r.getCurrentTokenRow(),r.getCurrentTokenColumn(),r.getCurrentTokenRow(),r.getCurrentTokenColumn()+1);else return}}}else if(p===a&&n.value==="/>"&&($--,$<0))var he=new e(r.getCurrentTokenRow(),r.getCurrentTokenColumn(),r.getCurrentTokenRow(),r.getCurrentTokenColumn()+2),X=he,ne=X,z=new e(x.end.row,x.end.column,x.end.row,x.end.column+1)}while(n&&$>=0);if(y&&z&&he&&ne&&x&&X)return{openTag:new e(y.start.row,y.start.column,z.end.row,z.end.column),closeTag:new e(he.start.row,he.start.column,ne.end.row,ne.end.column),openTagName:x,closeTagName:X}},this.$findOpeningTag=function(r,n){var l=r.getCurrentToken(),a=n.value,p=0,$=r.getCurrentTokenRow(),y=r.getCurrentTokenColumn(),x=y+2,N=new e($,y,$,x);r.stepForward();var z=new e(r.getCurrentTokenRow(),r.getCurrentTokenColumn(),r.getCurrentTokenRow(),r.getCurrentTokenColumn()+n.value.length);if(n=r.stepForward(),!(!n||n.value!==">")){var he=new e(r.getCurrentTokenRow(),r.getCurrentTokenColumn(),r.getCurrentTokenRow(),r.getCurrentTokenColumn()+1);r.stepBackward(),r.stepBackward();do if(n=l,$=r.getCurrentTokenRow(),y=r.getCurrentTokenColumn(),x=y+n.value.length,l=r.stepBackward(),n){if(n.type.indexOf("tag-name")!==-1){if(a===n.value)if(l.value==="<"){if(p++,p>0){var X=new e($,y,$,x),ne=new e(r.getCurrentTokenRow(),r.getCurrentTokenColumn(),r.getCurrentTokenRow(),r.getCurrentTokenColumn()+1);do n=r.stepForward();while(n&&n.value!==">");var Q=new e(r.getCurrentTokenRow(),r.getCurrentTokenColumn(),r.getCurrentTokenRow(),r.getCurrentTokenColumn()+1)}}else l.value==="</"&&p--}else if(n.value==="/>"){for(var ie=0,ae=l;ae;){if(ae.type.indexOf("tag-name")!==-1&&ae.value===a){p--;break}else if(ae.value==="<")break;ae=r.stepBackward(),ie++}for(var ce=0;ce<ie;ce++)r.stepForward()}}while(l&&p<=0);if(ne&&Q&&N&&he&&X&&z)return{openTag:new e(ne.start.row,ne.start.column,Q.end.row,Q.end.column),closeTag:new e(N.start.row,N.start.column,he.end.row,he.end.column),openTagName:X,closeTagName:z}}}}return bracket_match.BracketMatch=t,bracket_match}var oop$b=oop$i,lang$6=lang$e,BidiHandler=bidihandler.BidiHandler,config$2=configExports,EventEmitter$a=event_emitter.EventEmitter,Selection=selection.Selection,TextMode=text$1.Mode,Range$6=range.Range,Document=document$1.Document,BackgroundTokenizer=background_tokenizer.BackgroundTokenizer,SearchHighlight=search_highlight.SearchHighlight;let EditSession$1=class ui{constructor(e,t){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++ui.$uid,this.$foldData.toString=function(){return this.join(`
`)},this.bgTokenizer=new BackgroundTokenizer(new TextMode().getTokenizer(),this);var r=this;this.bgTokenizer.on("update",function(n){r._signal("tokenizerUpdate",n)}),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),(typeof e!="object"||!e.getLine)&&(e=new Document(e)),this.setDocument(e),this.selection=new Selection(this),this.$bidiHandler=new BidiHandler(this),config$2.resetOptions(this),this.setMode(t),config$2._signal("session",this),this.destroyed=!1}setDocument(e){this.doc&&this.doc.off("change",this.$onChange),this.doc=e,e.on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()}getDocument(){return this.doc}$resetRowCache(e){if(!e){this.$docRowCache=[],this.$screenRowCache=[];return}var t=this.$docRowCache.length,r=this.$getRowCacheIndex(this.$docRowCache,e)+1;t>r&&(this.$docRowCache.splice(r,t),this.$screenRowCache.splice(r,t))}$getRowCacheIndex(e,t){for(var r=0,n=e.length-1;r<=n;){var l=r+n>>1,a=e[l];if(t>a)r=l+1;else if(t<a)n=l-1;else return l}return r-1}resetCaches(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)}onChangeFold(e){var t=e.data;this.$resetRowCache(t.start.row)}onChange(e){this.$modified=!0,this.$bidiHandler.onChange(e),this.$resetRowCache(e.start.row);var t=this.$updateInternalDataOnChange(e);!this.$fromUndo&&this.$undoManager&&(t&&t.length&&(this.$undoManager.add({action:"removeFolds",folds:t},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(e,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(e),this._signal("change",e)}setValue(e){this.doc.setValue(e),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()}toString(){return this.doc.getValue()}getSelection(){return this.selection}getState(e){return this.bgTokenizer.getState(e)}getTokens(e){return this.bgTokenizer.getTokens(e)}getTokenAt(e,t){var r=this.bgTokenizer.getTokens(e),n,l=0;if(t==null){var a=r.length-1;l=this.getLine(e).length}else for(var a=0;a<r.length&&(l+=r[a].value.length,!(l>=t));a++);return n=r[a],n?(n.index=a,n.start=l-n.value.length,n):null}setUndoManager(e){if(this.$undoManager=e,this.$informUndoManager&&this.$informUndoManager.cancel(),e){var t=this;e.addSession(this),this.$syncInformUndoManager=function(){t.$informUndoManager.cancel(),t.mergeUndoDeltas=!1},this.$informUndoManager=lang$6.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}}markUndoGroup(){this.$syncInformUndoManager&&this.$syncInformUndoManager()}getUndoManager(){return this.$undoManager||this.$defaultUndoManager}getTabString(){return this.getUseSoftTabs()?lang$6.stringRepeat(" ",this.getTabSize()):"	"}setUseSoftTabs(e){this.setOption("useSoftTabs",e)}getUseSoftTabs(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs}setTabSize(e){this.setOption("tabSize",e)}getTabSize(){return this.$tabSize}isTabStop(e){return this.$useSoftTabs&&e.column%this.$tabSize===0}setNavigateWithinSoftTabs(e){this.setOption("navigateWithinSoftTabs",e)}getNavigateWithinSoftTabs(){return this.$navigateWithinSoftTabs}setOverwrite(e){this.setOption("overwrite",e)}getOverwrite(){return this.$overwrite}toggleOverwrite(){this.setOverwrite(!this.$overwrite)}addGutterDecoration(e,t){this.$decorations[e]||(this.$decorations[e]=""),this.$decorations[e]+=" "+t,this._signal("changeBreakpoint",{})}removeGutterDecoration(e,t){this.$decorations[e]=(this.$decorations[e]||"").replace(" "+t,""),this._signal("changeBreakpoint",{})}getBreakpoints(){return this.$breakpoints}setBreakpoints(e){this.$breakpoints=[];for(var t=0;t<e.length;t++)this.$breakpoints[e[t]]="ace_breakpoint";this._signal("changeBreakpoint",{})}clearBreakpoints(){this.$breakpoints=[],this._signal("changeBreakpoint",{})}setBreakpoint(e,t){t===void 0&&(t="ace_breakpoint"),t?this.$breakpoints[e]=t:delete this.$breakpoints[e],this._signal("changeBreakpoint",{})}clearBreakpoint(e){delete this.$breakpoints[e],this._signal("changeBreakpoint",{})}addMarker(e,t,r,n){var l=this.$markerId++,a={range:e,type:r||"line",renderer:typeof r=="function"?r:null,clazz:t,inFront:!!n,id:l};return n?(this.$frontMarkers[l]=a,this._signal("changeFrontMarker")):(this.$backMarkers[l]=a,this._signal("changeBackMarker")),l}addDynamicMarker(e,t){if(e.update){var r=this.$markerId++;return e.id=r,e.inFront=!!t,t?(this.$frontMarkers[r]=e,this._signal("changeFrontMarker")):(this.$backMarkers[r]=e,this._signal("changeBackMarker")),e}}removeMarker(e){var t=this.$frontMarkers[e]||this.$backMarkers[e];if(t){var r=t.inFront?this.$frontMarkers:this.$backMarkers;delete r[e],this._signal(t.inFront?"changeFrontMarker":"changeBackMarker")}}getMarkers(e){return e?this.$frontMarkers:this.$backMarkers}highlight(e){if(!this.$searchHighlight){var t=new SearchHighlight(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(t)}this.$searchHighlight.setRegexp(e)}highlightLines(e,t,r,n){typeof t!="number"&&(r=t,t=e),r||(r="ace_step");var l=new Range$6(e,0,t,1/0);return l.id=this.addMarker(l,r,"fullLine",n),l}setAnnotations(e){this.$annotations=e,this._signal("changeAnnotation",{})}getAnnotations(){return this.$annotations||[]}clearAnnotations(){this.setAnnotations([])}$detectNewLine(e){var t=e.match(/^.*?(\r?\n)/m);t?this.$autoNewLine=t[1]:this.$autoNewLine=`
`}getWordRange(e,t){var r=this.getLine(e),n=!1;if(t>0&&(n=!!r.charAt(t-1).match(this.tokenRe)),n||(n=!!r.charAt(t).match(this.tokenRe)),n)var l=this.tokenRe;else if(/^\s+$/.test(r.slice(t-1,t+1)))var l=/\s/;else var l=this.nonTokenRe;var a=t;if(a>0){do a--;while(a>=0&&r.charAt(a).match(l));a++}for(var p=t;p<r.length&&r.charAt(p).match(l);)p++;return new Range$6(e,a,e,p)}getAWordRange(e,t){for(var r=this.getWordRange(e,t),n=this.getLine(r.end.row);n.charAt(r.end.column).match(/[ \t]/);)r.end.column+=1;return r}setNewLineMode(e){this.doc.setNewLineMode(e)}getNewLineMode(){return this.doc.getNewLineMode()}setUseWorker(e){this.setOption("useWorker",e)}getUseWorker(){return this.$useWorker}onReloadTokenizer(e){var t=e.data;this.bgTokenizer.start(t.first),this._signal("tokenizerUpdate",e)}setMode(e,t){if(e&&typeof e=="object"){if(e.getTokenizer)return this.$onChangeMode(e);var r=e,n=r.path}else n=e||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new TextMode),this.$modes[n]&&!r){this.$onChangeMode(this.$modes[n]),t&&t();return}this.$modeId=n,config$2.loadModule(["mode",n],function(l){if(this.$modeId!==n)return t&&t();this.$modes[n]&&!r?this.$onChangeMode(this.$modes[n]):l&&l.Mode&&(l=new l.Mode(r),r||(this.$modes[n]=l,l.$id=n),this.$onChangeMode(l)),t&&t()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)}$onChangeMode(e,t){if(t||(this.$modeId=e.$id),this.$mode!==e){var r=this.$mode;this.$mode=e,this.$stopWorker(),this.$useWorker&&this.$startWorker();var n=e.getTokenizer();if(n.on!==void 0){var l=this.onReloadTokenizer.bind(this);n.on("update",l)}this.bgTokenizer.setTokenizer(n),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=e.tokenRe,this.nonTokenRe=e.nonTokenRe,t||(e.attachToSession&&e.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(e.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:r,mode:e}))}}$stopWorker(){this.$worker&&(this.$worker.terminate(),this.$worker=null)}$startWorker(){try{this.$worker=this.$mode.createWorker(this)}catch(e){config$2.warn("Could not load worker",e),this.$worker=null}}getMode(){return this.$mode}setScrollTop(e){this.$scrollTop===e||isNaN(e)||(this.$scrollTop=e,this._signal("changeScrollTop",e))}getScrollTop(){return this.$scrollTop}setScrollLeft(e){this.$scrollLeft===e||isNaN(e)||(this.$scrollLeft=e,this._signal("changeScrollLeft",e))}getScrollLeft(){return this.$scrollLeft}getScreenWidth(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth}getLineWidgetMaxWidth(){if(this.lineWidgetsWidth!=null)return this.lineWidgetsWidth;var e=0;return this.lineWidgets.forEach(function(t){t&&t.screenWidth>e&&(e=t.screenWidth)}),this.lineWidgetWidth=e}$computeWidth(e){if(this.$modified||e){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var t=this.doc.getAllLines(),r=this.$rowLengthCache,n=0,l=0,a=this.$foldData[l],p=a?a.start.row:1/0,$=t.length,y=0;y<$;y++){if(y>p){if(y=a.end.row+1,y>=$)break;a=this.$foldData[l++],p=a?a.start.row:1/0}r[y]==null&&(r[y]=this.$getStringScreenWidth(t[y])[0]),r[y]>n&&(n=r[y])}this.screenWidth=n}}getLine(e){return this.doc.getLine(e)}getLines(e,t){return this.doc.getLines(e,t)}getLength(){return this.doc.getLength()}getTextRange(e){return this.doc.getTextRange(e||this.selection.getRange())}insert(e,t){return this.doc.insert(e,t)}remove(e){return this.doc.remove(e)}removeFullLines(e,t){return this.doc.removeFullLines(e,t)}undoChanges(e,t){if(e.length){this.$fromUndo=!0;for(var r=e.length-1;r!=-1;r--){var n=e[r];n.action=="insert"||n.action=="remove"?this.doc.revertDelta(n):n.folds&&this.addFolds(n.folds)}!t&&this.$undoSelect&&(e.selectionBefore?this.selection.fromJSON(e.selectionBefore):this.selection.setRange(this.$getUndoSelection(e,!0))),this.$fromUndo=!1}}redoChanges(e,t){if(e.length){this.$fromUndo=!0;for(var r=0;r<e.length;r++){var n=e[r];(n.action=="insert"||n.action=="remove")&&this.doc.$safeApplyDelta(n)}!t&&this.$undoSelect&&(e.selectionAfter?this.selection.fromJSON(e.selectionAfter):this.selection.setRange(this.$getUndoSelection(e,!1))),this.$fromUndo=!1}}setUndoSelect(e){this.$undoSelect=e}$getUndoSelection(e,t){function r($){return t?$.action!=="insert":$.action==="insert"}for(var n,l,a=0;a<e.length;a++){var p=e[a];if(p.start){if(!n){r(p)?n=Range$6.fromPoints(p.start,p.end):n=Range$6.fromPoints(p.start,p.start);continue}r(p)?(l=p.start,n.compare(l.row,l.column)==-1&&n.setStart(l),l=p.end,n.compare(l.row,l.column)==1&&n.setEnd(l)):(l=p.start,n.compare(l.row,l.column)==-1&&(n=Range$6.fromPoints(p.start,p.start)))}}return n}replace(e,t){return this.doc.replace(e,t)}moveText(e,t,r){var n=this.getTextRange(e),l=this.getFoldsInRange(e),a=Range$6.fromPoints(t,t);if(!r){this.remove(e);var p=e.start.row-e.end.row,$=p?-e.end.column:e.start.column-e.end.column;$&&(a.start.row==e.end.row&&a.start.column>e.end.column&&(a.start.column+=$),a.end.row==e.end.row&&a.end.column>e.end.column&&(a.end.column+=$)),p&&a.start.row>=e.end.row&&(a.start.row+=p,a.end.row+=p)}if(a.end=this.insert(a.start,n),l.length){var y=e.start,x=a.start,p=x.row-y.row,$=x.column-y.column;this.addFolds(l.map(function(he){return he=he.clone(),he.start.row==y.row&&(he.start.column+=$),he.end.row==y.row&&(he.end.column+=$),he.start.row+=p,he.end.row+=p,he}))}return a}indentRows(e,t,r){r=r.replace(/\t/g,this.getTabString());for(var n=e;n<=t;n++)this.doc.insertInLine({row:n,column:0},r)}outdentRows(e){for(var t=e.collapseRows(),r=new Range$6(0,0,0,0),n=this.getTabSize(),l=t.start.row;l<=t.end.row;++l){var a=this.getLine(l);r.start.row=l,r.end.row=l;for(var p=0;p<n&&a.charAt(p)==" ";++p);p<n&&a.charAt(p)=="	"?(r.start.column=p,r.end.column=p+1):(r.start.column=0,r.end.column=p),this.remove(r)}}$moveLines(e,t,r){if(e=this.getRowFoldStart(e),t=this.getRowFoldEnd(t),r<0){var n=this.getRowFoldStart(e+r);if(n<0)return 0;var l=n-e}else if(r>0){var n=this.getRowFoldEnd(t+r);if(n>this.doc.getLength()-1)return 0;var l=n-t}else{e=this.$clipRowToDocument(e),t=this.$clipRowToDocument(t);var l=t-e+1}var a=new Range$6(e,0,t,Number.MAX_VALUE),p=this.getFoldsInRange(a).map(function(y){return y=y.clone(),y.start.row+=l,y.end.row+=l,y}),$=r==0?this.doc.getLines(e,t):this.doc.removeFullLines(e,t);return this.doc.insertFullLines(e+l,$),p.length&&this.addFolds(p),l}moveLinesUp(e,t){return this.$moveLines(e,t,-1)}moveLinesDown(e,t){return this.$moveLines(e,t,1)}duplicateLines(e,t){return this.$moveLines(e,t,0)}$clipRowToDocument(e){return Math.max(0,Math.min(e,this.doc.getLength()-1))}$clipColumnToRow(e,t){return t<0?0:Math.min(this.doc.getLine(e).length,t)}$clipPositionToDocument(e,t){if(t=Math.max(0,t),e<0)e=0,t=0;else{var r=this.doc.getLength();e>=r?(e=r-1,t=this.doc.getLine(r-1).length):t=Math.min(this.doc.getLine(e).length,t)}return{row:e,column:t}}$clipRangeToDocument(e){e.start.row<0?(e.start.row=0,e.start.column=0):e.start.column=this.$clipColumnToRow(e.start.row,e.start.column);var t=this.doc.getLength()-1;return e.end.row>t?(e.end.row=t,e.end.column=this.doc.getLine(t).length):e.end.column=this.$clipColumnToRow(e.end.row,e.end.column),e}setUseWrapMode(e){if(e!=this.$useWrapMode){if(this.$useWrapMode=e,this.$modified=!0,this.$resetRowCache(0),e){var t=this.getLength();this.$wrapData=Array(t),this.$updateWrapData(0,t-1)}this._signal("changeWrapMode")}}getUseWrapMode(){return this.$useWrapMode}setWrapLimitRange(e,t){(this.$wrapLimitRange.min!==e||this.$wrapLimitRange.max!==t)&&(this.$wrapLimitRange={min:e,max:t},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))}adjustWrapLimit(e,t){var r=this.$wrapLimitRange;r.max<0&&(r={min:t,max:t});var n=this.$constrainWrapLimit(e,r.min,r.max);return n!=this.$wrapLimit&&n>1?(this.$wrapLimit=n,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1}$constrainWrapLimit(e,t,r){return t&&(e=Math.max(t,e)),r&&(e=Math.min(r,e)),e}getWrapLimit(){return this.$wrapLimit}setWrapLimit(e){this.setWrapLimitRange(e,e)}getWrapLimitRange(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}}$updateInternalDataOnChange(e){var t=this.$useWrapMode,r=e.action,n=e.start,l=e.end,a=n.row,p=l.row,$=p-a,y=null;if(this.$updating=!0,$!=0)if(r==="remove"){this[t?"$wrapData":"$rowLengthCache"].splice(a,$);var x=this.$foldData;y=this.getFoldsInRange(e),this.removeFolds(y);var N=this.getFoldLine(l.row),z=0;if(N){N.addRemoveChars(l.row,l.column,n.column-l.column),N.shiftRow(-$);var he=this.getFoldLine(a);he&&he!==N&&(he.merge(N),N=he),z=x.indexOf(N)+1}for(z;z<x.length;z++){var N=x[z];N.start.row>=l.row&&N.shiftRow(-$)}p=a}else{var X=Array($);X.unshift(a,0);var ne=t?this.$wrapData:this.$rowLengthCache;ne.splice.apply(ne,X);var x=this.$foldData,N=this.getFoldLine(a),z=0;if(N){var Q=N.range.compareInside(n.row,n.column);Q==0?(N=N.split(n.row,n.column),N&&(N.shiftRow($),N.addRemoveChars(p,0,l.column-n.column))):Q==-1&&(N.addRemoveChars(a,0,l.column-n.column),N.shiftRow($)),z=x.indexOf(N)+1}for(z;z<x.length;z++){var N=x[z];N.start.row>=a&&N.shiftRow($)}}else{$=Math.abs(e.start.column-e.end.column),r==="remove"&&(y=this.getFoldsInRange(e),this.removeFolds(y),$=-$);var N=this.getFoldLine(a);N&&N.addRemoveChars(a,n.column,$)}return t&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,t?this.$updateWrapData(a,p):this.$updateRowLengthCache(a,p),y}$updateRowLengthCache(e,t,r){this.$rowLengthCache[e]=null,this.$rowLengthCache[t]=null}$updateWrapData(e,t){var r=this.doc.getAllLines(),n=this.getTabSize(),l=this.$wrapData,a=this.$wrapLimit,p,$,y=e;for(t=Math.min(t,r.length-1);y<=t;)$=this.getFoldLine(y,$),$?(p=[],$.walk(function(x,N,z,he){var X;if(x!=null){X=this.$getDisplayTokens(x,p.length),X[0]=PLACEHOLDER_START;for(var ne=1;ne<X.length;ne++)X[ne]=PLACEHOLDER_BODY}else X=this.$getDisplayTokens(r[N].substring(he,z),p.length);p=p.concat(X)}.bind(this),$.end.row,r[$.end.row].length+1),l[$.start.row]=this.$computeWrapSplits(p,a,n),y=$.end.row+1):(p=this.$getDisplayTokens(r[y]),l[y]=this.$computeWrapSplits(p,a,n),y++)}$computeWrapSplits(e,t,r){if(e.length==0)return[];var n=[],l=e.length,a=0,p=0,$=this.$wrapAsCode,y=this.$indentedSoftWrap,x=t<=Math.max(2*r,8)||y===!1?0:Math.floor(t/2);function N(){var Q=0;if(x===0)return Q;if(y)for(var ie=0;ie<e.length;ie++){var ae=e[ie];if(ae==SPACE)Q+=1;else if(ae==TAB)Q+=r;else{if(ae==TAB_SPACE)continue;break}}return $&&y!==!1&&(Q+=r),Math.min(Q,x)}function z(Q){for(var ie=Q-a,ae=a;ae<Q;ae++){var ce=e[ae];(ce===12||ce===2)&&(ie-=1)}n.length||(he=N(),n.indent=he),p+=ie,n.push(p),a=Q}for(var he=0;l-a>t-he;){var X=a+t-he;if(e[X-1]>=SPACE&&e[X]>=SPACE){z(X);continue}if(e[X]==PLACEHOLDER_START||e[X]==PLACEHOLDER_BODY){for(X;X!=a-1&&e[X]!=PLACEHOLDER_START;X--);if(X>a){z(X);continue}for(X=a+t,X;X<e.length&&e[X]==PLACEHOLDER_BODY;X++);if(X==e.length)break;z(X);continue}for(var ne=Math.max(X-(t-(t>>2)),a-1);X>ne&&e[X]<PLACEHOLDER_START;)X--;if($){for(;X>ne&&e[X]<PLACEHOLDER_START;)X--;for(;X>ne&&e[X]==PUNCTUATION;)X--}else for(;X>ne&&e[X]<SPACE;)X--;if(X>ne){z(++X);continue}X=a+t,e[X]==CHAR_EXT&&X--,z(X-he)}return n}$getDisplayTokens(e,t){var r=[],n;t=t||0;for(var l=0;l<e.length;l++){var a=e.charCodeAt(l);if(a==9){n=this.getScreenTabSize(r.length+t),r.push(TAB);for(var p=1;p<n;p++)r.push(TAB_SPACE)}else a==32?r.push(SPACE):a>39&&a<48||a>57&&a<64?r.push(PUNCTUATION):a>=4352&&isFullWidth(a)?r.push(CHAR,CHAR_EXT):r.push(CHAR)}return r}$getStringScreenWidth(e,t,r){if(t==0)return[0,0];t==null&&(t=1/0),r=r||0;var n,l;for(l=0;l<e.length&&(n=e.charCodeAt(l),n==9?r+=this.getScreenTabSize(r):n>=4352&&isFullWidth(n)?r+=2:r+=1,!(r>t));l++);return[r,l]}getRowLength(e){var t=1;return this.lineWidgets&&(t+=this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0),!this.$useWrapMode||!this.$wrapData[e]?t:this.$wrapData[e].length+t}getRowLineCount(e){return!this.$useWrapMode||!this.$wrapData[e]?1:this.$wrapData[e].length+1}getRowWrapIndent(e){if(this.$useWrapMode){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE),r=this.$wrapData[t.row];return r.length&&r[0]<t.column?r.indent:0}else return 0}getScreenLastRowColumn(e){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE);return this.documentToScreenColumn(t.row,t.column)}getDocumentLastRowColumn(e,t){var r=this.documentToScreenRow(e,t);return this.getScreenLastRowColumn(r)}getDocumentLastRowColumnPosition(e,t){var r=this.documentToScreenRow(e,t);return this.screenToDocumentPosition(r,Number.MAX_VALUE/10)}getRowSplitData(e){if(this.$useWrapMode)return this.$wrapData[e]}getScreenTabSize(e){return this.$tabSize-(e%this.$tabSize|0)}screenToDocumentRow(e,t){return this.screenToDocumentPosition(e,t).row}screenToDocumentColumn(e,t){return this.screenToDocumentPosition(e,t).column}screenToDocumentPosition(e,t,r){if(e<0)return{row:0,column:0};var n,l=0,a=0,p,$=0,y=0,x=this.$screenRowCache,N=this.$getRowCacheIndex(x,e),z=x.length;if(z&&N>=0)var $=x[N],l=this.$docRowCache[N],he=e>x[z-1];else var he=!z;for(var X=this.getLength()-1,ne=this.getNextFoldLine(l),Q=ne?ne.start.row:1/0;$<=e&&(y=this.getRowLength(l),!($+y>e||l>=X));)$+=y,l++,l>Q&&(l=ne.end.row+1,ne=this.getNextFoldLine(l,ne),Q=ne?ne.start.row:1/0),he&&(this.$docRowCache.push(l),this.$screenRowCache.push($));if(ne&&ne.start.row<=l)n=this.getFoldDisplayLine(ne),l=ne.start.row;else{if($+y<=e||l>X)return{row:X,column:this.getLine(X).length};n=this.getLine(l),ne=null}var ie=0,ae=Math.floor(e-$);if(this.$useWrapMode){var ce=this.$wrapData[l];ce&&(p=ce[ae],ae>0&&ce.length&&(ie=ce.indent,a=ce[ae-1]||ce[ce.length-1],n=n.substring(a)))}return r!==void 0&&this.$bidiHandler.isBidiRow($+ae,l,ae)&&(t=this.$bidiHandler.offsetToCol(r)),a+=this.$getStringScreenWidth(n,t-ie)[1],this.$useWrapMode&&a>=p&&(a=p-1),ne?ne.idxToPosition(a):{row:l,column:a}}documentToScreenPosition(e,t){if(typeof t>"u")var r=this.$clipPositionToDocument(e.row,e.column);else r=this.$clipPositionToDocument(e,t);e=r.row,t=r.column;var n=0,l=null,a=null;a=this.getFoldAt(e,t,1),a&&(e=a.start.row,t=a.start.column);var p,$=0,y=this.$docRowCache,x=this.$getRowCacheIndex(y,e),N=y.length;if(N&&x>=0)var $=y[x],n=this.$screenRowCache[x],z=e>y[N-1];else var z=!N;for(var he=this.getNextFoldLine($),X=he?he.start.row:1/0;$<e;){if($>=X){if(p=he.end.row+1,p>e)break;he=this.getNextFoldLine(p,he),X=he?he.start.row:1/0}else p=$+1;n+=this.getRowLength($),$=p,z&&(this.$docRowCache.push($),this.$screenRowCache.push(n))}var ne="";he&&$>=X?(ne=this.getFoldDisplayLine(he,e,t),l=he.start.row):(ne=this.getLine(e).substring(0,t),l=e);var Q=0;if(this.$useWrapMode){var ie=this.$wrapData[l];if(ie){for(var ae=0;ne.length>=ie[ae];)n++,ae++;ne=ne.substring(ie[ae-1]||0,ne.length),Q=ae>0?ie.indent:0}}return this.lineWidgets&&this.lineWidgets[$]&&this.lineWidgets[$].rowsAbove&&(n+=this.lineWidgets[$].rowsAbove),{row:n,column:Q+this.$getStringScreenWidth(ne)[0]}}documentToScreenColumn(e,t){return this.documentToScreenPosition(e,t).column}documentToScreenRow(e,t){return this.documentToScreenPosition(e,t).row}getScreenLength(){var e=0,t=null;if(this.$useWrapMode)for(var l=this.$wrapData.length,a=0,n=0,t=this.$foldData[n++],p=t?t.start.row:1/0;a<l;){var $=this.$wrapData[a];e+=$?$.length+1:1,a++,a>p&&(a=t.end.row+1,t=this.$foldData[n++],p=t?t.start.row:1/0)}else{e=this.getLength();for(var r=this.$foldData,n=0;n<r.length;n++)t=r[n],e-=t.end.row-t.start.row}return this.lineWidgets&&(e+=this.$getWidgetScreenLength()),e}$setFontMetrics(e){this.$enableVarChar&&(this.$getStringScreenWidth=function(t,r,n){if(r===0)return[0,0];r||(r=1/0),n=n||0;var l,a;for(a=0;a<t.length&&(l=t.charAt(a),l==="	"?n+=this.getScreenTabSize(n):n+=e.getCharacterWidth(l),!(n>r));a++);return[n,a]})}destroy(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection.detach()}};EditSession$1.$uid=0;EditSession$1.prototype.$modes=config$2.$modes;EditSession$1.prototype.getValue=EditSession$1.prototype.toString;EditSession$1.prototype.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}};EditSession$1.prototype.$overwrite=!1;EditSession$1.prototype.$mode=null;EditSession$1.prototype.$modeId=null;EditSession$1.prototype.$scrollTop=0;EditSession$1.prototype.$scrollLeft=0;EditSession$1.prototype.$wrapLimit=80;EditSession$1.prototype.$useWrapMode=!1;EditSession$1.prototype.$wrapLimitRange={min:null,max:null};EditSession$1.prototype.lineWidgets=null;EditSession$1.prototype.isFullWidth=isFullWidth;oop$b.implement(EditSession$1.prototype,EventEmitter$a);var CHAR=1,CHAR_EXT=2,PLACEHOLDER_START=3,PLACEHOLDER_BODY=4,PUNCTUATION=9,SPACE=10,TAB=11,TAB_SPACE=12;function isFullWidth(s){return s<4352?!1:s>=4352&&s<=4447||s>=4515&&s<=4519||s>=4602&&s<=4607||s>=9001&&s<=9002||s>=11904&&s<=11929||s>=11931&&s<=12019||s>=12032&&s<=12245||s>=12272&&s<=12283||s>=12288&&s<=12350||s>=12353&&s<=12438||s>=12441&&s<=12543||s>=12549&&s<=12589||s>=12593&&s<=12686||s>=12688&&s<=12730||s>=12736&&s<=12771||s>=12784&&s<=12830||s>=12832&&s<=12871||s>=12880&&s<=13054||s>=13056&&s<=19903||s>=19968&&s<=42124||s>=42128&&s<=42182||s>=43360&&s<=43388||s>=44032&&s<=55203||s>=55216&&s<=55238||s>=55243&&s<=55291||s>=63744&&s<=64255||s>=65040&&s<=65049||s>=65072&&s<=65106||s>=65108&&s<=65126||s>=65128&&s<=65131||s>=65281&&s<=65376||s>=65504&&s<=65510}requireFolding().Folding.call(EditSession$1.prototype);requireBracket_match().BracketMatch.call(EditSession$1.prototype);config$2.defineOptions(EditSession$1.prototype,"session",{wrap:{set:function(s){if(!s||s=="off"?s=!1:s=="free"?s=!0:s=="printMargin"?s=-1:typeof s=="string"&&(s=parseInt(s,10)||!1),this.$wrap!=s)if(this.$wrap=s,!s)this.setUseWrapMode(!1);else{var e=typeof s=="number"?s:null;this.setWrapLimitRange(e,e),this.setUseWrapMode(!0)}},get:function(){return this.getUseWrapMode()?this.$wrap==-1?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(s){s=s=="auto"?this.$mode.type!="text":s!="text",s!=this.$wrapAsCode&&(this.$wrapAsCode=s,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(s){this.$useWorker=s,this.$stopWorker(),s&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(s){s=parseInt(s),s>0&&this.$tabSize!==s&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=s,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(s){this.setFoldStyle(s)},handlesSet:!0},overwrite:{set:function(s){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(s){this.doc.setNewLineMode(s)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(s){this.setMode(s)},get:function(){return this.$modeId},handlesSet:!0}});edit_session.EditSession=EditSession$1;var search={},lang$5=lang$e,oop$a=oop$i,Range$5=range.Range;let Search$1=class{constructor(){this.$options={}}set(e){return oop$a.mixin(this.$options,e),this}getOptions(){return lang$5.copyObject(this.$options)}setOptions(e){this.$options=e}find(e){var t=this.$options,r=this.$matchIterator(e,t);if(!r)return!1;var n=null;return r.forEach(function(l,a,p,$){return n=new Range$5(l,a,p,$),a==$&&t.start&&t.start.start&&t.skipCurrent!=!1&&n.isEqual(t.start)?(n=null,!1):!0}),n}findAll(e){var t=this.$options;if(!t.needle)return[];this.$assembleRegExp(t);var r=t.range,n=r?e.getLines(r.start.row,r.end.row):e.doc.getAllLines(),l=[],a=t.re;if(t.$isMultiLine){var p=a.length,$=n.length-p,y;e:for(var x=a.offset||0;x<=$;x++){for(var N=0;N<p;N++)if(n[x+N].search(a[N])==-1)continue e;var z=n[x],he=n[x+p-1],X=z.length-z.match(a[0])[0].length,ne=he.match(a[p-1])[0].length;y&&y.end.row===x&&y.end.column>X||(l.push(y=new Range$5(x,X,x+p-1,ne)),p>2&&(x=x+p-2))}}else for(var Q=0;Q<n.length;Q++)for(var ie=lang$5.getMatchOffsets(n[Q],a),N=0;N<ie.length;N++){var ae=ie[N];l.push(new Range$5(Q,ae.offset,Q,ae.offset+ae.length))}if(r){for(var ce=r.start.column,ue=r.end.column,Q=0,N=l.length-1;Q<N&&l[Q].start.column<ce&&l[Q].start.row==0;)Q++;for(var de=r.end.row-r.start.row;Q<N&&l[N].end.column>ue&&l[N].end.row==de;)N--;for(l=l.slice(Q,N+1),Q=0,N=l.length;Q<N;Q++)l[Q].start.row+=r.start.row,l[Q].end.row+=r.start.row}return l}replace(e,t){var r=this.$options,n=this.$assembleRegExp(r);if(r.$isMultiLine)return t;if(n){var l=n.exec(e);if(!l||l[0].length!=e.length)return null;if(t=e.replace(n,t),r.preserveCase){t=t.split("");for(var a=Math.min(e.length,e.length);a--;){var p=e[a];p&&p.toLowerCase()!=p?t[a]=t[a].toUpperCase():t[a]=t[a].toLowerCase()}t=t.join("")}return t}}$assembleRegExp(e,t){if(e.needle instanceof RegExp)return e.re=e.needle;var r=e.needle;if(!e.needle)return e.re=!1;e.regExp||(r=lang$5.escapeRegExp(r)),e.wholeWord&&(r=addWordBoundary(r,e));var n=e.caseSensitive?"gm":"gmi";if(e.$isMultiLine=!t&&/[\n\r]/.test(r),e.$isMultiLine)return e.re=this.$assembleMultilineRegExp(r,n);try{var l=new RegExp(r,n)}catch{l=!1}return e.re=l}$assembleMultilineRegExp(e,t){for(var r=e.replace(/\r\n|\r|\n/g,`$
^`).split(`
`),n=[],l=0;l<r.length;l++)try{n.push(new RegExp(r[l],t))}catch{return!1}return n}$matchIterator(e,t){var r=this.$assembleRegExp(t);if(!r)return!1;var n=t.backwards==!0,l=t.skipCurrent!=!1,a=t.range,p=t.start;p||(p=a?a[n?"end":"start"]:e.selection.getRange()),p.start&&(p=p[l!=n?"end":"start"]);var $=a?a.start.row:0,y=a?a.end.row:e.getLength()-1;if(n)var x=function(he){var X=p.row;if(!z(X,p.column,he)){for(X--;X>=$;X--)if(z(X,Number.MAX_VALUE,he))return;if(t.wrap!=!1){for(X=y,$=p.row;X>=$;X--)if(z(X,Number.MAX_VALUE,he))return}}};else var x=function(X){var ne=p.row;if(!z(ne,p.column,X)){for(ne=ne+1;ne<=y;ne++)if(z(ne,0,X))return;if(t.wrap!=!1){for(ne=$,y=p.row;ne<=y;ne++)if(z(ne,0,X))return}}};if(t.$isMultiLine)var N=r.length,z=function(he,X,ne){var Q=n?he-N+1:he;if(!(Q<0||Q+N>e.getLength())){var ie=e.getLine(Q),ae=ie.search(r[0]);if(!(!n&&ae<X||ae===-1)){for(var ce=1;ce<N;ce++)if(ie=e.getLine(Q+ce),ie.search(r[ce])==-1)return;var ue=ie.match(r[N-1])[0].length;if(!(n&&ue>X)&&ne(Q,ae,Q+N-1,ue))return!0}}};else if(n)var z=function(X,ne,Q){var ie=e.getLine(X),ae=[],ce,ue=0;for(r.lastIndex=0;ce=r.exec(ie);){var de=ce[0].length;if(ue=ce.index,!de){if(ue>=ie.length)break;r.lastIndex=ue+=1}if(ce.index+de>ne)break;ae.push(ce.index,de)}for(var fe=ae.length-1;fe>=0;fe-=2){var Oe=ae[fe-1],de=ae[fe];if(Q(X,Oe,X,Oe+de))return!0}};else var z=function(X,ne,Q){var ie=e.getLine(X),ae,ce;for(r.lastIndex=ne;ce=r.exec(ie);){var ue=ce[0].length;if(ae=ce.index,Q(X,ae,X,ae+ue))return!0;if(!ue&&(r.lastIndex=ae+=1,ae>=ie.length))return!1}};return{forEach:x}}};function addWordBoundary(s,e){function t(r){return/\w/.test(r)||e.regExp?"\\b":""}return t(s[0])+s+t(s[s.length-1])}search.Search=Search$1;var command_manager={},hash_handler={},keyUtil=keys$2,useragent$4=useragent$a,KEY_MODS=keyUtil.KEY_MODS;let MultiHashHandler$1=class{constructor(e,t){this.$init(e,t,!1)}$init(e,t,r){this.platform=t||(useragent$4.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(e),this.$singleCommand=r}addCommand(e){this.commands[e.name]&&this.removeCommand(e),this.commands[e.name]=e,e.bindKey&&this._buildKeyHash(e)}removeCommand(e,t){var r=e&&(typeof e=="string"?e:e.name);e=this.commands[r],t||delete this.commands[r];var n=this.commandKeyBinding;for(var l in n){var a=n[l];if(a==e)delete n[l];else if(Array.isArray(a)){var p=a.indexOf(e);p!=-1&&(a.splice(p,1),a.length==1&&(n[l]=a[0]))}}}bindKey(e,t,r){if(typeof e=="object"&&e&&(r==null&&(r=e.position),e=e[this.platform]),!!e){if(typeof t=="function")return this.addCommand({exec:t,bindKey:e,name:t.name||e});e.split("|").forEach(function(n){var l="";if(n.indexOf(" ")!=-1){var a=n.split(/\s+/);n=a.pop(),a.forEach(function(y){var x=this.parseKeys(y),N=KEY_MODS[x.hashId]+x.key;l+=(l?" ":"")+N,this._addCommandToBinding(l,"chainKeys")},this),l+=" "}var p=this.parseKeys(n),$=KEY_MODS[p.hashId]+p.key;this._addCommandToBinding(l+$,t,r)},this)}}_addCommandToBinding(e,t,r){var n=this.commandKeyBinding,l;if(!t)delete n[e];else if(!n[e]||this.$singleCommand)n[e]=t;else{Array.isArray(n[e])?(l=n[e].indexOf(t))!=-1&&n[e].splice(l,1):n[e]=[n[e]],typeof r!="number"&&(r=getPosition(t));var a=n[e];for(l=0;l<a.length;l++){var p=a[l],$=getPosition(p);if($>r)break}a.splice(l,0,t)}}addCommands(e){e&&Object.keys(e).forEach(function(t){var r=e[t];if(r){if(typeof r=="string")return this.bindKey(r,t);typeof r=="function"&&(r={exec:r}),typeof r=="object"&&(r.name||(r.name=t),this.addCommand(r))}},this)}removeCommands(e){Object.keys(e).forEach(function(t){this.removeCommand(e[t])},this)}bindKeys(e){Object.keys(e).forEach(function(t){this.bindKey(t,e[t])},this)}_buildKeyHash(e){this.bindKey(e.bindKey,e)}parseKeys(e){var t=e.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function($){return $}),r=t.pop(),n=keyUtil[r];if(keyUtil.FUNCTION_KEYS[n])r=keyUtil.FUNCTION_KEYS[n].toLowerCase();else if(t.length){if(t.length==1&&t[0]=="shift")return{key:r.toUpperCase(),hashId:-1}}else return{key:r,hashId:-1};for(var l=0,a=t.length;a--;){var p=keyUtil.KEY_MODS[t[a]];if(p==null)return typeof console<"u"&&console.error("invalid modifier "+t[a]+" in "+e),!1;l|=p}return{key:r,hashId:l}}findKeyCommand(e,t){var r=KEY_MODS[e]+t;return this.commandKeyBinding[r]}handleKeyboard(e,t,r,n){if(!(n<0)){var l=KEY_MODS[t]+r,a=this.commandKeyBinding[l];return e.$keyChain&&(e.$keyChain+=" "+l,a=this.commandKeyBinding[e.$keyChain]||a),a&&(a=="chainKeys"||a[a.length-1]=="chainKeys")?(e.$keyChain=e.$keyChain||l,{command:"null"}):(e.$keyChain&&((!t||t==4)&&r.length==1?e.$keyChain=e.$keyChain.slice(0,-l.length-1):(t==-1||n>0)&&(e.$keyChain="")),{command:a})}}getStatusText(e,t){return t.$keyChain||""}};function getPosition(s){return typeof s=="object"&&s.bindKey&&s.bindKey.position||(s.isDefault?-100:0)}class HashHandler extends MultiHashHandler$1{constructor(e,t){super(e,t),this.$singleCommand=!0}}HashHandler.call=function(s,e,t){MultiHashHandler$1.prototype.$init.call(s,e,t,!0)};MultiHashHandler$1.call=function(s,e,t){MultiHashHandler$1.prototype.$init.call(s,e,t,!1)};hash_handler.HashHandler=HashHandler;hash_handler.MultiHashHandler=MultiHashHandler$1;var oop$9=oop$i,MultiHashHandler=hash_handler.MultiHashHandler,EventEmitter$9=event_emitter.EventEmitter;let CommandManager$1=class extends MultiHashHandler{constructor(e,t){super(t,e),this.byName=this.commands,this.setDefaultHandler("exec",function(r){return r.args?r.command.exec(r.editor,r.args,r.event,!1):r.command.exec(r.editor,{},r.event,!0)})}exec(e,t,r){if(Array.isArray(e)){for(var n=e.length;n--;)if(this.exec(e[n],t,r))return!0;return!1}if(typeof e=="string"&&(e=this.commands[e]),!e||t&&t.$readOnly&&!e.readOnly||this.$checkCommandState!=!1&&e.isAvailable&&!e.isAvailable(t))return!1;var l={editor:t,command:e,args:r};return l.returnValue=this._emit("exec",l),this._signal("afterExec",l),l.returnValue!==!1}toggleRecording(e){if(!this.$inReplay)return e&&e._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(t){this.macro.push([t.command,t.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)}replay(e){if(!(this.$inReplay||!this.macro)){if(this.recording)return this.toggleRecording(e);try{this.$inReplay=!0,this.macro.forEach(function(t){typeof t=="string"?this.exec(t,e):this.exec(t[0],e,t[1])},this)}finally{this.$inReplay=!1}}}trimMacro(e){return e.map(function(t){return typeof t[0]!="string"&&(t[0]=t[0].name),t[1]||(t=t[0]),t})}};oop$9.implement(CommandManager$1.prototype,EventEmitter$9);command_manager.CommandManager=CommandManager$1;var default_commands={};(function(s){var e=lang$e,t=configExports,r=range.Range;function n(a,p){return{win:a,mac:p}}s.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:n("Ctrl-,","Command-,"),exec:function(a){t.loadModule("ace/ext/settings_menu",function(p){p.init(a),a.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:n("Alt-E","F4"),exec:function(a){t.loadModule("ace/ext/error_marker",function(p){p.showErrorMarker(a,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:n("Alt-Shift-E","Shift-F4"),exec:function(a){t.loadModule("ace/ext/error_marker",function(p){p.showErrorMarker(a,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:n("Ctrl-A","Command-A"),exec:function(a){a.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:n(null,"Ctrl-L"),exec:function(a){a.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:n("Ctrl-L","Command-L"),exec:function(a,p){typeof p=="number"&&!isNaN(p)&&a.gotoLine(p),a.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:n("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(a){a.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:n("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(a){a.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:n("F2","F2"),exec:function(a){a.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:n("Alt-F2","Alt-F2"),exec:function(a){a.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:n(null,"Ctrl-Command-Option-0"),exec:function(a){a.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:n(null,"Ctrl-Command-Option-0"),exec:function(a){a.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:n("Alt-0","Command-Option-0"),exec:function(a){a.session.foldAll(),a.session.unfold(a.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:n("Alt-Shift-0","Command-Option-Shift-0"),exec:function(a){a.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:n("Ctrl-K","Command-G"),exec:function(a){a.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:n("Ctrl-Shift-K","Command-Shift-G"),exec:function(a){a.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:n("Alt-K","Ctrl-G"),exec:function(a){a.selection.isEmpty()?a.selection.selectWord():a.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:n("Alt-Shift-K","Ctrl-Shift-G"),exec:function(a){a.selection.isEmpty()?a.selection.selectWord():a.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:n("Ctrl-F","Command-F"),exec:function(a){t.loadModule("ace/ext/searchbox",function(p){p.Search(a)})},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(a){a.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:n("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(a){a.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:n("Ctrl-Home","Command-Home|Command-Up"),exec:function(a){a.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:n("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(a){a.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:n("Up","Up|Ctrl-P"),exec:function(a,p){a.navigateUp(p.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:n("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(a){a.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:n("Ctrl-End","Command-End|Command-Down"),exec:function(a){a.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:n("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(a){a.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:n("Down","Down|Ctrl-N"),exec:function(a,p){a.navigateDown(p.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:n("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(a){a.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:n("Ctrl-Left","Option-Left"),exec:function(a){a.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:n("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(a){a.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:n("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(a){a.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:n("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(a){a.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:n("Left","Left|Ctrl-B"),exec:function(a,p){a.navigateLeft(p.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:n("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(a){a.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:n("Ctrl-Right","Option-Right"),exec:function(a){a.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:n("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(a){a.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:n("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(a){a.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:n("Shift-Right","Shift-Right"),exec:function(a){a.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:n("Right","Right|Ctrl-F"),exec:function(a,p){a.navigateRight(p.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(a){a.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:n(null,"Option-PageDown"),exec:function(a){a.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:n("PageDown","PageDown|Ctrl-V"),exec:function(a){a.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(a){a.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:n(null,"Option-PageUp"),exec:function(a){a.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(a){a.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:n("Ctrl-Up",null),exec:function(a){a.renderer.scrollBy(0,-2*a.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:n("Ctrl-Down",null),exec:function(a){a.renderer.scrollBy(0,2*a.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(a){a.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(a){a.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:n("Ctrl-Alt-E","Command-Option-E"),exec:function(a){a.commands.toggleRecording(a)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:n("Ctrl-Shift-E","Command-Shift-E"),exec:function(a){a.commands.replay(a)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:n("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(a){a.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:n("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(a){a.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:n("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(a){a.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:n(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(a){},readOnly:!0},{name:"cut",description:"Cut",exec:function(a){var p=a.$copyWithEmptySelection&&a.selection.isEmpty(),$=p?a.selection.getLineRange():a.selection.getRange();a._emit("cut",$),$.isEmpty()||a.session.remove($),a.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(a,p){a.$handlePaste(p)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:n("Ctrl-D","Command-D"),exec:function(a){a.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:n("Ctrl-Shift-D","Command-Shift-D"),exec:function(a){a.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:n("Ctrl-Alt-S","Command-Alt-S"),exec:function(a){a.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:n("Ctrl-/","Command-/"),exec:function(a){a.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:n("Ctrl-Shift-/","Command-Shift-/"),exec:function(a){a.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:n("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(a){a.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:n("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(a){a.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:n("Ctrl-H","Command-Option-F"),exec:function(a){t.loadModule("ace/ext/searchbox",function(p){p.Search(a,!0)})}},{name:"undo",description:"Undo",bindKey:n("Ctrl-Z","Command-Z"),exec:function(a){a.undo()}},{name:"redo",description:"Redo",bindKey:n("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(a){a.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:n("Alt-Shift-Up","Command-Option-Up"),exec:function(a){a.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:n("Alt-Up","Option-Up"),exec:function(a){a.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:n("Alt-Shift-Down","Command-Option-Down"),exec:function(a){a.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:n("Alt-Down","Option-Down"),exec:function(a){a.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:n("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(a){a.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:n("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(a){a.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:n("Shift-Delete",null),exec:function(a){if(a.selection.isEmpty())a.remove("left");else return!1},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:n("Alt-Backspace","Command-Backspace"),exec:function(a){a.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:n("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(a){a.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:n("Ctrl-Shift-Backspace",null),exec:function(a){var p=a.selection.getRange();p.start.column=0,a.session.remove(p)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:n("Ctrl-Shift-Delete",null),exec:function(a){var p=a.selection.getRange();p.end.column=Number.MAX_VALUE,a.session.remove(p)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:n("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(a){a.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:n("Ctrl-Delete","Alt-Delete"),exec:function(a){a.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:n("Shift-Tab","Shift-Tab"),exec:function(a){a.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:n("Tab","Tab"),exec:function(a){a.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:n("Ctrl-[","Ctrl-["),exec:function(a){a.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:n("Ctrl-]","Ctrl-]"),exec:function(a){a.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(a,p){a.insert(p)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(a,p){a.insert(e.stringRepeat(p.text||"",p.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:n(null,"Ctrl-O"),exec:function(a){a.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:n("Alt-Shift-X","Ctrl-T"),exec:function(a){a.transposeLetters()},multiSelectAction:function(a){a.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:n("Ctrl-U","Ctrl-U"),exec:function(a){a.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:n("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(a){a.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:n(null,null),exec:function(a){a.autoIndent()},multiSelectAction:"forEachLine",scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:n("Ctrl-Shift-L","Command-Shift-L"),exec:function(a){var p=a.selection.getRange();p.start.column=p.end.column=0,p.end.row++,a.selection.setRange(p,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:n("Ctrl+F3","F3"),exec:function(a){a.openLink()}},{name:"joinlines",description:"Join lines",bindKey:n(null,null),exec:function(a){for(var p=a.selection.isBackwards(),$=p?a.selection.getSelectionLead():a.selection.getSelectionAnchor(),y=p?a.selection.getSelectionAnchor():a.selection.getSelectionLead(),x=a.session.doc.getLine($.row).length,N=a.session.doc.getTextRange(a.selection.getRange()),z=N.replace(/\n\s*/," ").length,he=a.session.doc.getLine($.row),X=$.row+1;X<=y.row+1;X++){var ne=e.stringTrimLeft(e.stringTrimRight(a.session.doc.getLine(X)));ne.length!==0&&(ne=" "+ne),he+=ne}y.row+1<a.session.doc.getLength()-1&&(he+=a.session.doc.getNewLineCharacter()),a.clearSelection(),a.session.doc.replace(new r($.row,0,y.row+2,0),he),z>0?(a.selection.moveCursorTo($.row,$.column),a.selection.selectTo($.row,$.column+z)):(x=a.session.doc.getLine($.row).length>x?x+1:x,a.selection.moveCursorTo($.row,x))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:n(null,null),exec:function(a){var p=a.session.doc.getLength()-1,$=a.session.doc.getLine(p).length,y=a.selection.rangeList.ranges,x=[];y.length<1&&(y=[a.selection.getRange()]);for(var N=0;N<y.length;N++)N==y.length-1&&(y[N].end.row===p&&y[N].end.column===$||x.push(new r(y[N].end.row,y[N].end.column,p,$))),N===0?y[N].start.row===0&&y[N].start.column===0||x.push(new r(0,0,y[N].start.row,y[N].start.column)):x.push(new r(y[N-1].end.row,y[N-1].end.column,y[N].start.row,y[N].start.column));a.exitMultiSelectMode(),a.clearSelection();for(var N=0;N<x.length;N++)a.selection.addRange(x[N],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(a){a.selection.clearSelection(),a.navigateLineEnd(),a.insert(`
`)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(a){a.selection.clearSelection();var p=a.getCursorPosition();a.selection.moveTo(p.row-1,Number.MAX_VALUE),a.insert(`
`),p.row===0&&a.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",description:"Open command palette",bindKey:n("F1","F1"),exec:function(a){a.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:n(null,null),exec:function(a){a.prompt({$type:"modes"})},readOnly:!0}];for(var l=1;l<9;l++)s.commands.push({name:"foldToLevel"+l,description:"Fold To Level "+l,level:l,exec:function(a){a.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})})(default_commands);var line_widgets={},dom$c=dom$k;let LineWidgets$1=class{constructor(e){this.session=e,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}getRowLength(e){var t;return this.lineWidgets?t=this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0:t=0,!this.$useWrapMode||!this.$wrapData[e]?1+t:this.$wrapData[e].length+1+t}$getWidgetScreenLength(){var e=0;return this.lineWidgets.forEach(function(t){t&&t.rowCount&&!t.hidden&&(e+=t.rowCount)}),e}$onChangeEditor(e){this.attach(e.editor)}attach(e){e&&e.widgetManager&&e.widgetManager!=this&&e.widgetManager.detach(),this.editor!=e&&(this.detach(),this.editor=e,e&&(e.widgetManager=this,e.renderer.on("beforeRender",this.measureWidgets),e.renderer.on("afterRender",this.renderWidgets)))}detach(e){var t=this.editor;if(t){this.editor=null,t.widgetManager=null,t.renderer.off("beforeRender",this.measureWidgets),t.renderer.off("afterRender",this.renderWidgets);var r=this.session.lineWidgets;r&&r.forEach(function(n){n&&n.el&&n.el.parentNode&&(n._inDocument=!1,n.el.parentNode.removeChild(n.el))})}}updateOnFold(e,t){var r=t.lineWidgets;if(!(!r||!e.action)){for(var n=e.data,l=n.start.row,a=n.end.row,p=e.action=="add",$=l+1;$<a;$++)r[$]&&(r[$].hidden=p);r[a]&&(p?r[l]?r[a].hidden=p:r[l]=r[a]:(r[l]==r[a]&&(r[l]=void 0),r[a].hidden=p))}}updateOnChange(e){var t=this.session.lineWidgets;if(t){var r=e.start.row,n=e.end.row-r;if(n!==0)if(e.action=="remove"){var l=t.splice(r+1,n);!t[r]&&l[l.length-1]&&(t[r]=l.pop()),l.forEach(function(p){p&&this.removeLineWidget(p)},this),this.$updateRows()}else{var a=new Array(n);t[r]&&t[r].column!=null&&e.start.column>t[r].column&&r++,a.unshift(r,0),t.splice.apply(t,a),this.$updateRows()}}}$updateRows(){var e=this.session.lineWidgets;if(e){var t=!0;e.forEach(function(r,n){if(r)for(t=!1,r.row=n;r.$oldWidget;)r.$oldWidget.row=n,r=r.$oldWidget}),t&&(this.session.lineWidgets=null)}}$registerLineWidget(e){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var t=this.session.lineWidgets[e.row];return t&&(e.$oldWidget=t,t.el&&t.el.parentNode&&(t.el.parentNode.removeChild(t.el),t._inDocument=!1)),this.session.lineWidgets[e.row]=e,e}addLineWidget(e){if(this.$registerLineWidget(e),e.session=this.session,!this.editor)return e;var t=this.editor.renderer;e.html&&!e.el&&(e.el=dom$c.createElement("div"),e.el.innerHTML=e.html),e.text&&!e.el&&(e.el=dom$c.createElement("div"),e.el.textContent=e.text),e.el&&(dom$c.addCssClass(e.el,"ace_lineWidgetContainer"),e.className&&dom$c.addCssClass(e.el,e.className),e.el.style.position="absolute",e.el.style.zIndex=5,t.container.appendChild(e.el),e._inDocument=!0,e.coverGutter||(e.el.style.zIndex=3),e.pixelHeight==null&&(e.pixelHeight=e.el.offsetHeight)),e.rowCount==null&&(e.rowCount=e.pixelHeight/t.layerConfig.lineHeight);var r=this.session.getFoldAt(e.row,0);if(e.$fold=r,r){var n=this.session.lineWidgets;e.row==r.end.row&&!n[r.start.row]?n[r.start.row]=e:e.hidden=!0}return this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows(),this.renderWidgets(null,t),this.onWidgetChanged(e),e}removeLineWidget(e){if(e._inDocument=!1,e.session=null,e.el&&e.el.parentNode&&e.el.parentNode.removeChild(e.el),e.editor&&e.editor.destroy)try{e.editor.destroy()}catch{}if(this.session.lineWidgets){var t=this.session.lineWidgets[e.row];if(t==e)this.session.lineWidgets[e.row]=e.$oldWidget,e.$oldWidget&&this.onWidgetChanged(e.$oldWidget);else for(;t;){if(t.$oldWidget==e){t.$oldWidget=e.$oldWidget;break}t=t.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows()}getWidgetsAtRow(e){for(var t=this.session.lineWidgets,r=t&&t[e],n=[];r;)n.push(r),r=r.$oldWidget;return n}onWidgetChanged(e){this.session._changedWidgets.push(e),this.editor&&this.editor.renderer.updateFull()}measureWidgets(e,t){var r=this.session._changedWidgets,n=t.layerConfig;if(!(!r||!r.length)){for(var l=1/0,a=0;a<r.length;a++){var p=r[a];if(!(!p||!p.el)&&p.session==this.session){if(!p._inDocument){if(this.session.lineWidgets[p.row]!=p)continue;p._inDocument=!0,t.container.appendChild(p.el)}p.h=p.el.offsetHeight,p.fixedWidth||(p.w=p.el.offsetWidth,p.screenWidth=Math.ceil(p.w/n.characterWidth));var $=p.h/n.lineHeight;p.coverLine&&($-=this.session.getRowLineCount(p.row),$<0&&($=0)),p.rowCount!=$&&(p.rowCount=$,p.row<l&&(l=p.row))}}l!=1/0&&(this.session._emit("changeFold",{data:{start:{row:l}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}}renderWidgets(e,t){var r=t.layerConfig,n=this.session.lineWidgets;if(n){for(var l=Math.min(this.firstRow,r.firstRow),a=Math.max(this.lastRow,r.lastRow,n.length);l>0&&!n[l];)l--;this.firstRow=r.firstRow,this.lastRow=r.lastRow,t.$cursorLayer.config=r;for(var p=l;p<=a;p++){var $=n[p];if(!(!$||!$.el)){if($.hidden){$.el.style.top=-100-($.pixelHeight||0)+"px";continue}$._inDocument||($._inDocument=!0,t.container.appendChild($.el));var y=t.$cursorLayer.getPixelPosition({row:p,column:0},!0).top;$.coverLine||(y+=r.lineHeight*this.session.getRowLineCount($.row)),$.el.style.top=y-r.offset+"px";var x=$.coverGutter?0:t.gutterWidth;$.fixedWidth||(x-=t.scrollLeft),$.el.style.left=x+"px",$.fullWidth&&$.screenWidth&&($.el.style.minWidth=r.width+2*r.padding+"px"),$.fixedWidth?$.el.style.right=t.scrollBar.getWidth()+"px":$.el.style.right=""}}}}};line_widgets.LineWidgets=LineWidgets$1;var gutter_handler={},keys$1=keys$2,GutterTooltip=default_gutter_handler.GutterTooltip;let GutterKeyboardHandler$1=class{constructor(e){this.editor=e,this.gutterLayer=e.renderer.$gutterLayer,this.element=e.renderer.$gutter,this.lines=e.renderer.$gutterLayer.$lines,this.activeRowIndex=null,this.activeLane=null,this.annotationTooltip=new GutterTooltip(this.editor)}addListener(){this.element.addEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.addEventListener("focusout",this.$blurGutter.bind(this)),this.editor.on("mousewheel",this.$blurGutter.bind(this))}removeListener(){this.element.removeEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.removeEventListener("focusout",this.$blurGutter.bind(this)),this.editor.off("mousewheel",this.$blurGutter.bind(this))}$onGutterKeyDown(e){if(this.annotationTooltip.isOpen){e.preventDefault(),e.keyCode===keys$1.escape&&this.annotationTooltip.hideTooltip();return}if(e.target===this.element){if(e.keyCode!=keys$1.enter)return;e.preventDefault();var t=this.editor.getCursorPosition().row;this.editor.isRowVisible(t)||this.editor.scrollToLine(t,!0,!0),setTimeout(function(){var r=this.$rowToRowIndex(this.gutterLayer.$cursorCell.row),n=this.$findNearestFoldWidget(r),l=this.$findNearestAnnotation(r);if(!(n===null&&l===null)){if(n===null&&l!==null){this.activeRowIndex=l,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex);return}if(n!==null&&l===null){this.activeRowIndex=n,this.activeLane="fold",this.$focusFoldWidget(this.activeRowIndex);return}if(Math.abs(l-r)<Math.abs(n-r)){this.activeRowIndex=l,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex);return}else{this.activeRowIndex=n,this.activeLane="fold",this.$focusFoldWidget(this.activeRowIndex);return}}}.bind(this),10);return}this.$handleGutterKeyboardInteraction(e),setTimeout(function(){this.editor._signal("gutterkeydown",new GutterKeyboardEvent(e,this))}.bind(this),10)}$handleGutterKeyboardInteraction(e){if(e.keyCode===keys$1.tab){e.preventDefault();return}if(e.keyCode===keys$1.escape){e.preventDefault(),this.$blurGutter(),this.element.focus(),this.lane=null;return}if(e.keyCode===keys$1.up){switch(e.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetUp();break;case"annotation":this.$moveAnnotationUp();break}return}if(e.keyCode===keys$1.down){switch(e.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetDown();break;case"annotation":this.$moveAnnotationDown();break}return}if(e.keyCode===keys$1.left){e.preventDefault(),this.$switchLane("annotation");return}if(e.keyCode===keys$1.right){e.preventDefault(),this.$switchLane("fold");return}if(e.keyCode===keys$1.enter||e.keyCode===keys$1.space){switch(e.preventDefault(),this.activeLane){case"fold":if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="start"){var t=this.$rowIndexToRow(this.activeRowIndex);this.editor.session.onFoldWidgetClick(this.$rowIndexToRow(this.activeRowIndex),e),setTimeout(function(){this.$rowIndexToRow(this.activeRowIndex)!==t&&(this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=this.$rowToRowIndex(t),this.$focusFoldWidget(this.activeRowIndex))}.bind(this),10);break}else if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="end")break;return;case"annotation":var r=this.lines.cells[this.activeRowIndex].element.childNodes[2],n=r.getBoundingClientRect(),l=this.annotationTooltip.getElement().style;l.left=n.right+"px",l.top=n.bottom+"px",this.annotationTooltip.showTooltip(this.$rowIndexToRow(this.activeRowIndex));break}return}}$blurGutter(){if(this.activeRowIndex!==null)switch(this.activeLane){case"fold":this.$blurFoldWidget(this.activeRowIndex);break;case"annotation":this.$blurAnnotation(this.activeRowIndex);break}this.annotationTooltip.isOpen&&this.annotationTooltip.hideTooltip()}$isFoldWidgetVisible(e){var t=this.editor.isRowFullyVisible(this.$rowIndexToRow(e)),r=this.$getFoldWidget(e).style.display!=="none";return t&&r}$isAnnotationVisible(e){var t=this.editor.isRowFullyVisible(this.$rowIndexToRow(e)),r=this.$getAnnotation(e).style.display!=="none";return t&&r}$getFoldWidget(e){var t=this.lines.get(e),r=t.element;return r.childNodes[1]}$getAnnotation(e){var t=this.lines.get(e),r=t.element;return r.childNodes[2]}$findNearestFoldWidget(e){if(this.$isFoldWidgetVisible(e))return e;for(var t=0;e-t>0||e+t<this.lines.getLength()-1;){if(t++,e-t>=0&&this.$isFoldWidgetVisible(e-t))return e-t;if(e+t<=this.lines.getLength()-1&&this.$isFoldWidgetVisible(e+t))return e+t}return null}$findNearestAnnotation(e){if(this.$isAnnotationVisible(e))return e;for(var t=0;e-t>0||e+t<this.lines.getLength()-1;){if(t++,e-t>=0&&this.$isAnnotationVisible(e-t))return e-t;if(e+t<=this.lines.getLength()-1&&this.$isAnnotationVisible(e+t))return e+t}return null}$focusFoldWidget(e){if(e!=null){var t=this.$getFoldWidget(e);t.classList.add(this.editor.renderer.keyboardFocusClassName),t.focus()}}$focusAnnotation(e){if(e!=null){var t=this.$getAnnotation(e);t.classList.add(this.editor.renderer.keyboardFocusClassName),t.focus()}}$blurFoldWidget(e){var t=this.$getFoldWidget(e);t.classList.remove(this.editor.renderer.keyboardFocusClassName),t.blur()}$blurAnnotation(e){var t=this.$getAnnotation(e);t.classList.remove(this.editor.renderer.keyboardFocusClassName),t.blur()}$moveFoldWidgetUp(){for(var e=this.activeRowIndex;e>0;)if(e--,this.$isFoldWidgetVisible(e)){this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=e,this.$focusFoldWidget(this.activeRowIndex);return}}$moveFoldWidgetDown(){for(var e=this.activeRowIndex;e<this.lines.getLength()-1;)if(e++,this.$isFoldWidgetVisible(e)){this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=e,this.$focusFoldWidget(this.activeRowIndex);return}}$moveAnnotationUp(){for(var e=this.activeRowIndex;e>0;)if(e--,this.$isAnnotationVisible(e)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=e,this.$focusAnnotation(this.activeRowIndex);return}}$moveAnnotationDown(){for(var e=this.activeRowIndex;e<this.lines.getLength()-1;)if(e++,this.$isAnnotationVisible(e)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=e,this.$focusAnnotation(this.activeRowIndex);return}}$switchLane(e){switch(e){case"annotation":if(this.activeLane==="annotation")break;var t=this.$findNearestAnnotation(this.activeRowIndex);if(t==null)break;this.activeLane="annotation",this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=t,this.$focusAnnotation(this.activeRowIndex);break;case"fold":if(this.activeLane==="fold")break;var r=this.$findNearestFoldWidget(this.activeRowIndex);if(r==null)break;this.activeLane="fold",this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=r,this.$focusFoldWidget(this.activeRowIndex);break}}$rowIndexToRow(e){var t=this.lines.get(e);return t?t.row:null}$rowToRowIndex(e){for(var t=0;t<this.lines.getLength();t++){var r=this.lines.get(t);if(r.row==e)return t}return null}};gutter_handler.GutterKeyboardHandler=GutterKeyboardHandler$1;class GutterKeyboardEvent{constructor(e,t){this.gutterKeyboardHandler=t,this.domEvent=e}getKey(){return keys$1.keyCodeToString(this.domEvent.keyCode)}getRow(){return this.gutterKeyboardHandler.$rowIndexToRow(this.gutterKeyboardHandler.activeRowIndex)}isInAnnotationLane(){return this.gutterKeyboardHandler.activeLane==="annotation"}isInFoldLane(){return this.gutterKeyboardHandler.activeLane==="fold"}}gutter_handler.GutterKeyboardEvent=GutterKeyboardEvent;var oop$8=oop$i,dom$b=dom$k,lang$4=lang$e,useragent$3=useragent$a,TextInput=textinput.TextInput,MouseHandler=mouse_handler.MouseHandler,FoldHandler=fold_handler.FoldHandler,KeyBinding=keybinding.KeyBinding,EditSession=edit_session.EditSession,Search=search.Search,Range$4=range.Range,EventEmitter$8=event_emitter.EventEmitter,CommandManager=command_manager.CommandManager,defaultCommands=default_commands.commands,config$1=configExports,TokenIterator=token_iterator.TokenIterator,LineWidgets=line_widgets.LineWidgets,GutterKeyboardHandler=gutter_handler.GutterKeyboardHandler,nls$2=configExports.nls,clipboard=clipboard$2,keys=keys$2;class Editor{constructor(e,t,r){this.$toDestroy=[];var n=e.getContainerElement();this.container=n,this.renderer=e,this.id="editor"+ ++Editor.$uid,this.commands=new CommandManager(useragent$3.isMac?"mac":"win",defaultCommands),typeof document=="object"&&(this.textInput=new TextInput(e.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new MouseHandler(this),new FoldHandler(this)),this.keyBinding=new KeyBinding(this),this.$search=new Search().set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=lang$4.delayedCall(function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",function(l,a){a._$emitInputEvent.schedule(31)}),this.setSession(t||r&&r.session||new EditSession("")),config$1.resetOptions(this),r&&this.setOptions(r),config$1._signal("editor",this)}$initOperationListeners(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=lang$4.delayedCall(this.endOperation.bind(this,!0)),this.on("change",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}.bind(this),!0)}startOperation(e){if(this.curOp){if(!e||this.curOp.command)return;this.prevOp=this.curOp}e||(this.previousCommand=null,e={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:e.command||{},args:e.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()}endOperation(e){if(this.curOp&&this.session){if(e&&e.returnValue===!1||!this.session)return this.curOp=null;if(e==!0&&this.curOp.command&&this.curOp.command.name=="mouse"||(this._signal("beforeEndOperation"),!this.curOp))return;var t=this.curOp.command,r=t&&t.scrollIntoView;if(r){switch(r){case"center-animate":r="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var n=this.selection.getRange(),l=this.renderer.layerConfig;(n.start.row>=l.lastRow||n.end.row<=l.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead);break}r=="animate"&&this.renderer.animateScrolling(this.curOp.scrollTop)}var a=this.selection.toJSON();this.curOp.selectionAfter=a,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(a),this.prevOp=this.curOp,this.curOp=null}}$historyTracker(e){if(this.$mergeUndoDeltas){var t=this.prevOp,r=this.$mergeableCommands,n=t.command&&e.command.name==t.command.name;if(e.command.name=="insertstring"){var l=e.args;this.mergeNextCommand===void 0&&(this.mergeNextCommand=!0),n=n&&this.mergeNextCommand&&(!/\s/.test(l)||/\s/.test(t.args)),this.mergeNextCommand=!0}else n=n&&r.indexOf(e.command.name)!==-1;this.$mergeUndoDeltas!="always"&&Date.now()-this.sequenceStartTime>2e3&&(n=!1),n?this.session.mergeUndoDeltas=!0:r.indexOf(e.command.name)!==-1&&(this.sequenceStartTime=Date.now())}}setKeyboardHandler(e,t){if(e&&typeof e=="string"&&e!="ace"){this.$keybindingId=e;var r=this;config$1.loadModule(["keybinding",e],function(n){r.$keybindingId==e&&r.keyBinding.setKeyboardHandler(n&&n.handler),t&&t()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(e),t&&t()}getKeyboardHandler(){return this.keyBinding.getKeyboardHandler()}setSession(e){if(this.session!=e){this.curOp&&this.endOperation(),this.curOp={};var t=this.session;if(t){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var r=this.session.getSelection();r.off("changeCursor",this.$onCursorChange),r.off("changeSelection",this.$onSelectionChange)}this.session=e,e?(this.$onDocumentChange=this.onDocumentChange.bind(this),e.on("change",this.$onDocumentChange),this.renderer.setSession(e),this.$onChangeMode=this.onChangeMode.bind(this),e.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),e.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),e.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),e.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),e.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),e.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=e.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(e)),this._signal("changeSession",{session:e,oldSession:t}),this.curOp=null,t&&t._signal("changeEditor",{oldEditor:this}),e&&e._signal("changeEditor",{editor:this}),e&&!e.destroyed&&e.bgTokenizer.scheduleStart()}}getSession(){return this.session}setValue(e,t){return this.session.doc.setValue(e),t?t==1?this.navigateFileEnd():t==-1&&this.navigateFileStart():this.selectAll(),e}getValue(){return this.session.getValue()}getSelection(){return this.selection}resize(e){this.renderer.onResize(e)}setTheme(e,t){this.renderer.setTheme(e,t)}getTheme(){return this.renderer.getTheme()}setStyle(e){this.renderer.setStyle(e)}unsetStyle(e){this.renderer.unsetStyle(e)}getFontSize(){return this.getOption("fontSize")||dom$b.computedStyle(this.container).fontSize}setFontSize(e){this.setOption("fontSize",e)}$highlightBrackets(){if(!this.$highlightPending){var e=this;this.$highlightPending=!0,setTimeout(function(){e.$highlightPending=!1;var t=e.session;if(!(!t||t.destroyed)){t.$bracketHighlight&&(t.$bracketHighlight.markerIds.forEach(function(N){t.removeMarker(N)}),t.$bracketHighlight=null);var r=e.getCursorPosition(),n=e.getKeyboardHandler(),l=n&&n.$getDirectionForHighlight&&n.$getDirectionForHighlight(e),a=t.getMatchingBracketRanges(r,l);if(!a){var p=new TokenIterator(t,r.row,r.column),$=p.getCurrentToken();if($&&/\b(?:tag-open|tag-name)/.test($.type)){var y=t.getMatchingTags(r);y&&(a=[y.openTagName,y.closeTagName])}}if(!a&&t.$mode.getMatching&&(a=t.$mode.getMatching(e.session)),!a){e.getHighlightIndentGuides()&&e.renderer.$textLayer.$highlightIndentGuide();return}var x="ace_bracket";Array.isArray(a)?a.length==1&&(x="ace_error_bracket"):a=[a],a.length==2&&(Range$4.comparePoints(a[0].end,a[1].start)==0?a=[Range$4.fromPoints(a[0].start,a[1].end)]:Range$4.comparePoints(a[0].start,a[1].end)==0&&(a=[Range$4.fromPoints(a[1].start,a[0].end)])),t.$bracketHighlight={ranges:a,markerIds:a.map(function(N){return t.addMarker(N,x,"text")})},e.getHighlightIndentGuides()&&e.renderer.$textLayer.$highlightIndentGuide()}},50)}}focus(){this.textInput.focus()}isFocused(){return this.textInput.isFocused()}blur(){this.textInput.blur()}onFocus(e){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",e))}onBlur(e){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",e))}$cursorChange(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()}onDocumentChange(e){var t=this.session.$useWrapMode,r=e.start.row==e.end.row?e.end.row:1/0;this.renderer.updateLines(e.start.row,r,t),this._signal("change",e),this.$cursorChange()}onTokenizerUpdate(e){var t=e.data;this.renderer.updateLines(t.first,t.last)}onScrollTopChange(){this.renderer.scrollToY(this.session.getScrollTop())}onScrollLeftChange(){this.renderer.scrollToX(this.session.getScrollLeft())}onCursorChange(){this.$cursorChange(),this._signal("changeSelection")}$updateHighlightActiveLine(){var e=this.getSession(),t;if(this.$highlightActiveLine&&((this.$selectionStyle!="line"||!this.selection.isMultiLine())&&(t=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(t=!1),this.renderer.$maxLines&&this.session.getLength()===1&&!(this.renderer.$minLines>1)&&(t=!1)),e.$highlightLineMarker&&!t)e.removeMarker(e.$highlightLineMarker.id),e.$highlightLineMarker=null;else if(!e.$highlightLineMarker&&t){var r=new Range$4(t.row,t.column,t.row,1/0);r.id=e.addMarker(r,"ace_active-line","screenLine"),e.$highlightLineMarker=r}else t&&(e.$highlightLineMarker.start.row=t.row,e.$highlightLineMarker.end.row=t.row,e.$highlightLineMarker.start.column=t.column,e._signal("changeBackMarker"))}onSelectionChange(e){var t=this.session;if(t.$selectionMarker&&t.removeMarker(t.$selectionMarker),t.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var r=this.selection.getRange(),n=this.getSelectionStyle();t.$selectionMarker=t.addMarker(r,"ace_selection",n)}var l=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(l),this._signal("changeSelection")}$getSelectionHighLightRegexp(){var e=this.session,t=this.getSelectionRange();if(!(t.isEmpty()||t.isMultiLine())){var r=t.start.column,n=t.end.column,l=e.getLine(t.start.row),a=l.substring(r,n);if(!(a.length>5e3||!/[\w\d]/.test(a))){var p=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:a}),$=l.substring(r-1,n+1);if(p.test($))return p}}}onChangeFrontMarker(){this.renderer.updateFrontMarkers()}onChangeBackMarker(){this.renderer.updateBackMarkers()}onChangeBreakpoint(){this.renderer.updateBreakpoints()}onChangeAnnotation(){this.renderer.setAnnotations(this.session.getAnnotations())}onChangeMode(e){this.renderer.updateText(),this._emit("changeMode",e)}onChangeWrapLimit(){this.renderer.updateFull()}onChangeWrapMode(){this.renderer.onResize(!0)}onChangeFold(){this.$updateHighlightActiveLine(),this.renderer.updateFull()}getSelectedText(){return this.session.getTextRange(this.getSelectionRange())}getCopyText(){var e=this.getSelectedText(),t=this.session.doc.getNewLineCharacter(),r=!1;if(!e&&this.$copyWithEmptySelection){r=!0;for(var n=this.selection.getAllRanges(),l=0;l<n.length;l++){var a=n[l];l&&n[l-1].start.row==a.start.row||(e+=this.session.getLine(a.start.row)+t)}}var p={text:e};return this._signal("copy",p),clipboard.lineMode=r?p.text:!1,p.text}onCopy(){this.commands.exec("copy",this)}onCut(){this.commands.exec("cut",this)}onPaste(e,t){var r={text:e,event:t};this.commands.exec("paste",this,r)}$handlePaste(e){typeof e=="string"&&(e={text:e}),this._signal("paste",e);var t=e.text,r=t===clipboard.lineMode,n=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)r?n.insert({row:this.selection.lead.row,column:0},t):this.insert(t);else if(r)this.selection.rangeList.ranges.forEach(function(x){n.insert({row:x.start.row,column:0},t)});else{var l=t.split(/\r\n|\r|\n/),a=this.selection.rangeList.ranges,p=l.length==2&&(!l[0]||!l[1]);if(l.length!=a.length||p)return this.commands.exec("insertstring",this,t);for(var $=a.length;$--;){var y=a[$];y.isEmpty()||n.remove(y),n.insert(y.start,l[$])}}}execCommand(e,t){return this.commands.exec(e,this,t)}insert(e,t){var r=this.session,n=r.getMode(),l=this.getCursorPosition();if(this.getBehavioursEnabled()&&!t){var a=n.transformAction(r.getState(l.row),"insertion",this,r,e);a&&(e!==a.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),e=a.text)}if(e=="	"&&(e=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&e.indexOf(`
`)==-1){var p=new Range$4.fromPoints(l,l);p.end.column+=e.length,this.session.remove(p)}}else{var p=this.getSelectionRange();l=this.session.remove(p),this.clearSelection()}if(e==`
`||e==`\r
`){var N=r.getLine(l.row);if(l.column>N.search(/\S|$/)){var $=N.substr(l.column).search(/\S|$/);r.doc.removeInLine(l.row,l.column,l.column+$)}}this.clearSelection();var y=l.column,x=r.getState(l.row),N=r.getLine(l.row),z=n.checkOutdent(x,N,e);if(r.insert(l,e),a&&a.selection&&(a.selection.length==2?this.selection.setSelectionRange(new Range$4(l.row,y+a.selection[0],l.row,y+a.selection[1])):this.selection.setSelectionRange(new Range$4(l.row+a.selection[0],a.selection[1],l.row+a.selection[2],a.selection[3]))),this.$enableAutoIndent){if(r.getDocument().isNewLine(e)){var he=n.getNextLineIndent(x,N.slice(0,l.column),r.getTabString());r.insert({row:l.row+1,column:0},he)}z&&n.autoOutdent(x,r,l.row)}}autoIndent(){var e=this.session,t=e.getMode(),r,n;if(this.selection.isEmpty())r=0,n=e.doc.getLength()-1;else{var l=this.getSelectionRange();r=l.start.row,n=l.end.row}for(var a="",p="",$="",y,x,N,z=e.getTabString(),he=r;he<=n;he++)he>0&&(a=e.getState(he-1),p=e.getLine(he-1),$=t.getNextLineIndent(a,p,z)),y=e.getLine(he),x=t.$getIndent(y),$!==x&&(x.length>0&&(N=new Range$4(he,0,he,x.length),e.remove(N)),$.length>0&&e.insert({row:he,column:0},$)),t.autoOutdent(a,e,he)}onTextInput(e,t){if(!t)return this.keyBinding.onTextInput(e);this.startOperation({command:{name:"insertstring"}});var r=this.applyComposition.bind(this,e,t);this.selection.rangeCount?this.forEachSelection(r):r(),this.endOperation()}applyComposition(e,t){if(t.extendLeft||t.extendRight){var r=this.selection.getRange();r.start.column-=t.extendLeft,r.end.column+=t.extendRight,r.start.column<0&&(r.start.row--,r.start.column+=this.session.getLine(r.start.row).length+1),this.selection.setRange(r),!e&&!r.isEmpty()&&this.remove()}if((e||!this.selection.isEmpty())&&this.insert(e,!0),t.restoreStart||t.restoreEnd){var r=this.selection.getRange();r.start.column-=t.restoreStart,r.end.column-=t.restoreEnd,this.selection.setRange(r)}}onCommandKey(e,t,r){return this.keyBinding.onCommandKey(e,t,r)}setOverwrite(e){this.session.setOverwrite(e)}getOverwrite(){return this.session.getOverwrite()}toggleOverwrite(){this.session.toggleOverwrite()}setScrollSpeed(e){this.setOption("scrollSpeed",e)}getScrollSpeed(){return this.getOption("scrollSpeed")}setDragDelay(e){this.setOption("dragDelay",e)}getDragDelay(){return this.getOption("dragDelay")}setSelectionStyle(e){this.setOption("selectionStyle",e)}getSelectionStyle(){return this.getOption("selectionStyle")}setHighlightActiveLine(e){this.setOption("highlightActiveLine",e)}getHighlightActiveLine(){return this.getOption("highlightActiveLine")}setHighlightGutterLine(e){this.setOption("highlightGutterLine",e)}getHighlightGutterLine(){return this.getOption("highlightGutterLine")}setHighlightSelectedWord(e){this.setOption("highlightSelectedWord",e)}getHighlightSelectedWord(){return this.$highlightSelectedWord}setAnimatedScroll(e){this.renderer.setAnimatedScroll(e)}getAnimatedScroll(){return this.renderer.getAnimatedScroll()}setShowInvisibles(e){this.renderer.setShowInvisibles(e)}getShowInvisibles(){return this.renderer.getShowInvisibles()}setDisplayIndentGuides(e){this.renderer.setDisplayIndentGuides(e)}getDisplayIndentGuides(){return this.renderer.getDisplayIndentGuides()}setHighlightIndentGuides(e){this.renderer.setHighlightIndentGuides(e)}getHighlightIndentGuides(){return this.renderer.getHighlightIndentGuides()}setShowPrintMargin(e){this.renderer.setShowPrintMargin(e)}getShowPrintMargin(){return this.renderer.getShowPrintMargin()}setPrintMarginColumn(e){this.renderer.setPrintMarginColumn(e)}getPrintMarginColumn(){return this.renderer.getPrintMarginColumn()}setReadOnly(e){this.setOption("readOnly",e)}getReadOnly(){return this.getOption("readOnly")}setBehavioursEnabled(e){this.setOption("behavioursEnabled",e)}getBehavioursEnabled(){return this.getOption("behavioursEnabled")}setWrapBehavioursEnabled(e){this.setOption("wrapBehavioursEnabled",e)}getWrapBehavioursEnabled(){return this.getOption("wrapBehavioursEnabled")}setShowFoldWidgets(e){this.setOption("showFoldWidgets",e)}getShowFoldWidgets(){return this.getOption("showFoldWidgets")}setFadeFoldWidgets(e){this.setOption("fadeFoldWidgets",e)}getFadeFoldWidgets(){return this.getOption("fadeFoldWidgets")}remove(e){this.selection.isEmpty()&&(e=="left"?this.selection.selectLeft():this.selection.selectRight());var t=this.getSelectionRange();if(this.getBehavioursEnabled()){var r=this.session,n=r.getState(t.start.row),l=r.getMode().transformAction(n,"deletion",this,r,t);if(t.end.column===0){var a=r.getTextRange(t);if(a[a.length-1]==`
`){var p=r.getLine(t.end.row);/^\s+$/.test(p)&&(t.end.column=p.length)}}l&&(t=l)}this.session.remove(t),this.clearSelection()}removeWordRight(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()}removeWordLeft(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()}removeToLineStart(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()}removeToLineEnd(){this.selection.isEmpty()&&this.selection.selectLineEnd();var e=this.getSelectionRange();e.start.column==e.end.column&&e.start.row==e.end.row&&(e.end.column=0,e.end.row++),this.session.remove(e),this.clearSelection()}splitLine(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var e=this.getCursorPosition();this.insert(`
`),this.moveCursorToPosition(e)}setGhostText(e,t){this.session.widgetManager||(this.session.widgetManager=new LineWidgets(this.session),this.session.widgetManager.attach(this)),this.renderer.setGhostText(e,t)}removeGhostText(){this.session.widgetManager&&this.renderer.removeGhostText()}transposeLetters(){if(this.selection.isEmpty()){var e=this.getCursorPosition(),t=e.column;if(t!==0){var r=this.session.getLine(e.row),n,l;t<r.length?(n=r.charAt(t)+r.charAt(t-1),l=new Range$4(e.row,t-1,e.row,t+1)):(n=r.charAt(t-1)+r.charAt(t-2),l=new Range$4(e.row,t-2,e.row,t)),this.session.replace(l,n),this.session.selection.moveToPosition(l.end)}}}toLowerCase(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),r=this.session.getTextRange(t);this.session.replace(t,r.toLowerCase()),this.selection.setSelectionRange(e)}toUpperCase(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),r=this.session.getTextRange(t);this.session.replace(t,r.toUpperCase()),this.selection.setSelectionRange(e)}indent(){var e=this.session,t=this.getSelectionRange();if(t.start.row<t.end.row){var r=this.$getSelectedRows();e.indentRows(r.first,r.last,"	");return}else if(t.start.column<t.end.column){var n=e.getTextRange(t);if(!/^\s+$/.test(n)){var r=this.$getSelectedRows();e.indentRows(r.first,r.last,"	");return}}var l=e.getLine(t.start.row),a=t.start,p=e.getTabSize(),$=e.documentToScreenColumn(a.row,a.column);if(this.session.getUseSoftTabs())var y=p-$%p,x=lang$4.stringRepeat(" ",y);else{for(var y=$%p;l[t.start.column-1]==" "&&y;)t.start.column--,y--;this.selection.setSelectionRange(t),x="	"}return this.insert(x)}blockIndent(){var e=this.$getSelectedRows();this.session.indentRows(e.first,e.last,"	")}blockOutdent(){var e=this.session.getSelection();this.session.outdentRows(e.getRange())}sortLines(){for(var e=this.$getSelectedRows(),t=this.session,r=[],n=e.first;n<=e.last;n++)r.push(t.getLine(n));r.sort(function(p,$){return p.toLowerCase()<$.toLowerCase()?-1:p.toLowerCase()>$.toLowerCase()?1:0});for(var l=new Range$4(0,0,0,0),n=e.first;n<=e.last;n++){var a=t.getLine(n);l.start.row=n,l.end.row=n,l.end.column=a.length,t.replace(l,r[n-e.first])}}toggleCommentLines(){var e=this.session.getState(this.getCursorPosition().row),t=this.$getSelectedRows();this.session.getMode().toggleCommentLines(e,this.session,t.first,t.last)}toggleBlockComment(){var e=this.getCursorPosition(),t=this.session.getState(e.row),r=this.getSelectionRange();this.session.getMode().toggleBlockComment(t,this.session,r,e)}getNumberAt(e,t){var r=/[\-]?[0-9]+(?:\.[0-9]+)?/g;r.lastIndex=0;for(var n=this.session.getLine(e);r.lastIndex<t;){var l=r.exec(n);if(l.index<=t&&l.index+l[0].length>=t){var a={value:l[0],start:l.index,end:l.index+l[0].length};return a}}return null}modifyNumber(e){var t=this.selection.getCursor().row,r=this.selection.getCursor().column,n=new Range$4(t,r-1,t,r),l=this.session.getTextRange(n);if(!isNaN(parseFloat(l))&&isFinite(l)){var a=this.getNumberAt(t,r);if(a){var p=a.value.indexOf(".")>=0?a.start+a.value.indexOf(".")+1:a.end,$=a.start+a.value.length-p,y=parseFloat(a.value);y*=Math.pow(10,$),p!==a.end&&r<p?e*=Math.pow(10,a.end-r-1):e*=Math.pow(10,a.end-r),y+=e,y/=Math.pow(10,$);var x=y.toFixed($),N=new Range$4(t,a.start,t,a.end);this.session.replace(N,x),this.moveCursorTo(t,Math.max(a.start+1,r+x.length-a.value.length))}}else this.toggleWord()}toggleWord(){var e=this.selection.getCursor().row,t=this.selection.getCursor().column;this.selection.selectWord();var r=this.getSelectedText(),n=this.selection.getWordRange().start.column,l=r.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),a=t-n-1;a<0&&(a=0);var p=0,$=0,y=this;r.match(/[A-Za-z0-9_]+/)&&l.forEach(function(ae,ce){$=p+ae.length,a>=p&&a<=$&&(r=ae,y.selection.clearSelection(),y.moveCursorTo(e,p+n),y.selection.selectTo(e,$+n)),p=$});for(var x=this.$toggleWordPairs,N,z=0;z<x.length;z++)for(var he=x[z],X=0;X<=1;X++){var ne=+!X,Q=r.match(new RegExp("^\\s?_?("+lang$4.escapeRegExp(he[X])+")\\s?$","i"));if(Q){var ie=r.match(new RegExp("([_]|^|\\s)("+lang$4.escapeRegExp(Q[1])+")($|\\s)","g"));ie&&(N=r.replace(new RegExp(lang$4.escapeRegExp(he[X]),"i"),function(ae){var ce=he[ne];return ae.toUpperCase()==ae?ce=ce.toUpperCase():ae.charAt(0).toUpperCase()==ae.charAt(0)&&(ce=ce.substr(0,0)+he[ne].charAt(0).toUpperCase()+ce.substr(1)),ce}),this.insert(N),N="")}}}findLinkAt(e,t){var r=this.session.getLine(e),n=r.split(/((?:https?|ftp):\/\/[\S]+)/),l=t;l<0&&(l=0);var a=0,p=0,$;for(let y of n){if(p=a+y.length,l>=a&&l<=p&&y.match(/((?:https?|ftp):\/\/[\S]+)/)){$=y.replace(/[\s:.,'";}\]]+$/,"");break}a=p}return $}openLink(){var e=this.selection.getCursor(),t=this.findLinkAt(e.row,e.column);return t&&window.open(t,"_blank"),t!=null}removeLines(){var e=this.$getSelectedRows();this.session.removeFullLines(e.first,e.last),this.clearSelection()}duplicateSelection(){var e=this.selection,t=this.session,r=e.getRange(),n=e.isBackwards();if(r.isEmpty()){var l=r.start.row;t.duplicateLines(l,l)}else{var a=n?r.start:r.end,p=t.insert(a,t.getTextRange(r),!1);r.start=a,r.end=p,e.setSelectionRange(r,n)}}moveLinesDown(){this.$moveLines(1,!1)}moveLinesUp(){this.$moveLines(-1,!1)}moveText(e,t,r){return this.session.moveText(e,t,r)}copyLinesUp(){this.$moveLines(-1,!0)}copyLinesDown(){this.$moveLines(1,!0)}$moveLines(e,t){var r,n,l=this.selection;if(!l.inMultiSelectMode||this.inVirtualSelectionMode){var a=l.toOrientedRange();r=this.$getSelectedRows(a),n=this.session.$moveLines(r.first,r.last,t?0:e),t&&e==-1&&(n=0),a.moveBy(n,0),l.fromOrientedRange(a)}else{var p=l.rangeList.ranges;l.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var $=0,y=0,x=p.length,N=0;N<x;N++){var z=N;p[N].moveBy($,0),r=this.$getSelectedRows(p[N]);for(var he=r.first,X=r.last;++N<x;){y&&p[N].moveBy(y,0);var ne=this.$getSelectedRows(p[N]);if(t&&ne.first!=X)break;if(!t&&ne.first>X+1)break;X=ne.last}for(N--,$=this.session.$moveLines(he,X,t?0:e),t&&e==-1&&(z=N+1);z<=N;)p[z].moveBy($,0),z++;t||($=0),y+=$}l.fromOrientedRange(l.ranges[0]),l.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}}$getSelectedRows(e){return e=(e||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(e.start.row),last:this.session.getRowFoldEnd(e.end.row)}}onCompositionStart(e){this.renderer.showComposition(e)}onCompositionUpdate(e){this.renderer.setCompositionText(e)}onCompositionEnd(){this.renderer.hideComposition()}getFirstVisibleRow(){return this.renderer.getFirstVisibleRow()}getLastVisibleRow(){return this.renderer.getLastVisibleRow()}isRowVisible(e){return e>=this.getFirstVisibleRow()&&e<=this.getLastVisibleRow()}isRowFullyVisible(e){return e>=this.renderer.getFirstFullyVisibleRow()&&e<=this.renderer.getLastFullyVisibleRow()}$getVisibleRowCount(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1}$moveByPage(e,t){var r=this.renderer,n=this.renderer.layerConfig,l=e*Math.floor(n.height/n.lineHeight);t===!0?this.selection.$moveSelection(function(){this.moveCursorBy(l,0)}):t===!1&&(this.selection.moveCursorBy(l,0),this.selection.clearSelection());var a=r.scrollTop;r.scrollBy(0,l*n.lineHeight),t!=null&&r.scrollCursorIntoView(null,.5),r.animateScrolling(a)}selectPageDown(){this.$moveByPage(1,!0)}selectPageUp(){this.$moveByPage(-1,!0)}gotoPageDown(){this.$moveByPage(1,!1)}gotoPageUp(){this.$moveByPage(-1,!1)}scrollPageDown(){this.$moveByPage(1)}scrollPageUp(){this.$moveByPage(-1)}scrollToRow(e){this.renderer.scrollToRow(e)}scrollToLine(e,t,r,n){this.renderer.scrollToLine(e,t,r,n)}centerSelection(){var e=this.getSelectionRange(),t={row:Math.floor(e.start.row+(e.end.row-e.start.row)/2),column:Math.floor(e.start.column+(e.end.column-e.start.column)/2)};this.renderer.alignCursor(t,.5)}getCursorPosition(){return this.selection.getCursor()}getCursorPositionScreen(){return this.session.documentToScreenPosition(this.getCursorPosition())}getSelectionRange(){return this.selection.getRange()}selectAll(){this.selection.selectAll()}clearSelection(){this.selection.clearSelection()}moveCursorTo(e,t){this.selection.moveCursorTo(e,t)}moveCursorToPosition(e){this.selection.moveCursorToPosition(e)}jumpToMatching(e,t){var r=this.getCursorPosition(),n=new TokenIterator(this.session,r.row,r.column),l=n.getCurrentToken(),a=0;l&&l.type.indexOf("tag-name")!==-1&&(l=n.stepBackward());var p=l||n.stepForward();if(p){var $,y=!1,x={},N=r.column-p.start,z,he={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(p.value.match(/[{}()\[\]]/g)){for(;N<p.value.length&&!y;N++)if(he[p.value[N]])switch(z=he[p.value[N]]+"."+p.type.replace("rparen","lparen"),isNaN(x[z])&&(x[z]=0),p.value[N]){case"(":case"[":case"{":x[z]++;break;case")":case"]":case"}":x[z]--,x[z]===-1&&($="bracket",y=!0);break}}else p.type.indexOf("tag-name")!==-1&&(isNaN(x[p.value])&&(x[p.value]=0),l.value==="<"&&a>1?x[p.value]++:l.value==="</"&&x[p.value]--,x[p.value]===-1&&($="tag",y=!0));y||(l=p,a++,p=n.stepForward(),N=0)}while(p&&!y);if($){var X,ne;if($==="bracket")X=this.session.getBracketRange(r),X||(X=new Range$4(n.getCurrentTokenRow(),n.getCurrentTokenColumn()+N-1,n.getCurrentTokenRow(),n.getCurrentTokenColumn()+N-1),ne=X.start,(t||ne.row===r.row&&Math.abs(ne.column-r.column)<2)&&(X=this.session.getBracketRange(ne)));else if($==="tag"){if(!p||p.type.indexOf("tag-name")===-1)return;if(X=new Range$4(n.getCurrentTokenRow(),n.getCurrentTokenColumn()-2,n.getCurrentTokenRow(),n.getCurrentTokenColumn()-2),X.compare(r.row,r.column)===0){var Q=this.session.getMatchingTags(r);Q&&(Q.openTag.contains(r.row,r.column)?(X=Q.closeTag,ne=X.start):(X=Q.openTag,Q.closeTag.start.row===r.row&&Q.closeTag.start.column===r.column?ne=X.end:ne=X.start))}ne=ne||X.start}ne=X&&X.cursor||ne,ne&&(e?X&&t?this.selection.setRange(X):X&&X.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(ne.row,ne.column):this.selection.moveTo(ne.row,ne.column))}}}gotoLine(e,t,r){this.selection.clearSelection(),this.session.unfold({row:e-1,column:t||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(e-1,t||0),this.isRowFullyVisible(e-1)||this.scrollToLine(e-1,!0,r)}navigateTo(e,t){this.selection.moveTo(e,t)}navigateUp(e){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(-e||-1,0)}navigateDown(e){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(e||1,0)}navigateLeft(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorLeft();else{var t=this.getSelectionRange().start;this.moveCursorToPosition(t)}this.clearSelection()}navigateRight(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorRight();else{var t=this.getSelectionRange().end;this.moveCursorToPosition(t)}this.clearSelection()}navigateLineStart(){this.selection.moveCursorLineStart(),this.clearSelection()}navigateLineEnd(){this.selection.moveCursorLineEnd(),this.clearSelection()}navigateFileEnd(){this.selection.moveCursorFileEnd(),this.clearSelection()}navigateFileStart(){this.selection.moveCursorFileStart(),this.clearSelection()}navigateWordRight(){this.selection.moveCursorWordRight(),this.clearSelection()}navigateWordLeft(){this.selection.moveCursorWordLeft(),this.clearSelection()}replace(e,t){t&&this.$search.set(t);var r=this.$search.find(this.session),n=0;return r&&(this.$tryReplace(r,e)&&(n=1),this.selection.setSelectionRange(r),this.renderer.scrollSelectionIntoView(r.start,r.end)),n}replaceAll(e,t){t&&this.$search.set(t);var r=this.$search.findAll(this.session),n=0;if(!r.length)return n;var l=this.getSelectionRange();this.selection.moveTo(0,0);for(var a=r.length-1;a>=0;--a)this.$tryReplace(r[a],e)&&n++;return this.selection.setSelectionRange(l),n}$tryReplace(e,t){var r=this.session.getTextRange(e);return t=this.$search.replace(r,t),t!==null?(e.end=this.session.replace(e,t),e):null}getLastSearchOptions(){return this.$search.getOptions()}find(e,t,r){t||(t={}),typeof e=="string"||e instanceof RegExp?t.needle=e:typeof e=="object"&&oop$8.mixin(t,e);var n=this.selection.getRange();t.needle==null&&(e=this.session.getTextRange(n)||this.$search.$options.needle,e||(n=this.session.getWordRange(n.start.row,n.start.column),e=this.session.getTextRange(n)),this.$search.set({needle:e})),this.$search.set(t),t.start||this.$search.set({start:n});var l=this.$search.find(this.session);if(t.preventScroll)return l;if(l)return this.revealRange(l,r),l;t.backwards?n.start=n.end:n.end=n.start,this.selection.setRange(n)}findNext(e,t){this.find({skipCurrent:!0,backwards:!1},e,t)}findPrevious(e,t){this.find(e,{skipCurrent:!0,backwards:!0},t)}revealRange(e,t){this.session.unfold(e),this.selection.setSelectionRange(e);var r=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(e.start,e.end,.5),t!==!1&&this.renderer.animateScrolling(r)}undo(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)}redo(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)}destroy(){this.$toDestroy&&(this.$toDestroy.forEach(function(e){e.destroy()}),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()}setAutoScrollEditorIntoView(e){if(e){var t,r=this,n=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var l=this.$scrollAnchor;l.style.cssText="position:absolute",this.container.insertBefore(l,this.container.firstChild);var a=this.on("changeSelection",function(){n=!0}),p=this.renderer.on("beforeRender",function(){n&&(t=r.renderer.container.getBoundingClientRect())}),$=this.renderer.on("afterRender",function(){if(n&&t&&(r.isFocused()||r.searchBox&&r.searchBox.isFocused())){var y=r.renderer,x=y.$cursorLayer.$pixelPos,N=y.layerConfig,z=x.top-N.offset;x.top>=0&&z+t.top<0?n=!0:x.top<N.height&&x.top+t.top+N.lineHeight>window.innerHeight?n=!1:n=null,n!=null&&(l.style.top=z+"px",l.style.left=x.left+"px",l.style.height=N.lineHeight+"px",l.scrollIntoView(n)),n=t=null}});this.setAutoScrollEditorIntoView=function(y){y||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",a),this.renderer.off("afterRender",$),this.renderer.off("beforeRender",p))}}}$resetCursorStyle(){var e=this.$cursorStyle||"ace",t=this.renderer.$cursorLayer;t&&(t.setSmoothBlinking(/smooth/.test(e)),t.isBlinking=!this.$readOnly&&e!="wide",dom$b.setCssClass(t.element,"ace_slim-cursors",/slim/.test(e)))}prompt(e,t,r){var n=this;config$1.loadModule("ace/ext/prompt",function(l){l.prompt(n,e,t,r)})}}Editor.$uid=0;Editor.prototype.curOp=null;Editor.prototype.prevOp={};Editor.prototype.$mergeableCommands=["backspace","del","insertstring"];Editor.prototype.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]];oop$8.implement(Editor.prototype,EventEmitter$8);config$1.defineOptions(Editor.prototype,"editor",{selectionStyle:{set:function(s){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:s})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(s){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(s){this.textInput.setReadOnly(s),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(s){this.textInput.setCopyWithEmptySelection(s)},initialValue:!1},cursorStyle:{set:function(s){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(s){this.setAutoScrollEditorIntoView(s)}},keyboardHandler:{set:function(s){this.setKeyboardHandler(s)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(s){this.session.setValue(s)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(s){this.setSession(s)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(s){this.renderer.$gutterLayer.setShowLineNumbers(s),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),s&&this.$relativeLineNumbers?relativeNumberRenderer.attach(this):relativeNumberRenderer.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(s){this.$showLineNumbers&&s?relativeNumberRenderer.attach(this):relativeNumberRenderer.detach(this)}},placeholder:{set:function(s){this.$updatePlaceholder||(this.$updatePlaceholder=function(){var e=this.session&&(this.renderer.$composition||this.session.getLength()>1||this.session.getLine(0).length>0);if(e&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),dom$b.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(!e&&!this.renderer.placeholderNode){this.renderer.on("afterRender",this.$updatePlaceholder),dom$b.addCssClass(this.container,"ace_hasPlaceholder");var t=dom$b.createElement("div");t.className="ace_placeholder",t.textContent=this.$placeholder||"",this.renderer.placeholderNode=t,this.renderer.content.appendChild(this.renderer.placeholderNode)}else!e&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"")}.bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},enableKeyboardAccessibility:{set:function(s){var e={name:"blurTextInput",description:"Set focus to the editor content div to allow tabbing through the page",bindKey:"Esc",exec:function(n){n.blur(),n.renderer.scroller.focus()},readOnly:!0},t=function(n){if(n.target==this.renderer.scroller&&n.keyCode===keys.enter){n.preventDefault();var l=this.getCursorPosition().row;this.isRowVisible(l)||this.scrollToLine(l,!0,!0),this.focus()}},r;s?(this.renderer.enableKeyboardAccessibility=!0,this.renderer.keyboardFocusClassName="ace_keyboard-focus",this.textInput.getElement().setAttribute("tabindex",-1),this.renderer.scroller.setAttribute("tabindex",0),this.renderer.scroller.setAttribute("role","group"),this.renderer.scroller.setAttribute("aria-roledescription",nls$2("editor")),this.renderer.scroller.classList.add(this.renderer.keyboardFocusClassName),this.renderer.scroller.setAttribute("aria-label",nls$2("Editor content, press Enter to start editing, press Escape to exit")),this.renderer.scroller.addEventListener("keyup",t.bind(this)),this.commands.addCommand(e),this.renderer.$gutter.setAttribute("tabindex",0),this.renderer.$gutter.setAttribute("aria-hidden",!1),this.renderer.$gutter.setAttribute("role","group"),this.renderer.$gutter.setAttribute("aria-roledescription",nls$2("editor")),this.renderer.$gutter.setAttribute("aria-label",nls$2("Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit")),this.renderer.$gutter.classList.add(this.renderer.keyboardFocusClassName),this.renderer.content.setAttribute("aria-hidden",!0),r||(r=new GutterKeyboardHandler(this)),r.addListener()):(this.renderer.enableKeyboardAccessibility=!1,this.textInput.getElement().setAttribute("tabindex",0),this.renderer.scroller.setAttribute("tabindex",-1),this.renderer.scroller.removeAttribute("role"),this.renderer.scroller.removeAttribute("aria-roledescription"),this.renderer.scroller.classList.remove(this.renderer.keyboardFocusClassName),this.renderer.scroller.removeAttribute("aria-label"),this.renderer.scroller.removeEventListener("keyup",t.bind(this)),this.commands.removeCommand(e),this.renderer.content.removeAttribute("aria-hidden"),this.renderer.$gutter.setAttribute("tabindex",-1),this.renderer.$gutter.setAttribute("aria-hidden",!0),this.renderer.$gutter.removeAttribute("role"),this.renderer.$gutter.removeAttribute("aria-roledescription"),this.renderer.$gutter.removeAttribute("aria-label"),this.renderer.$gutter.classList.remove(this.renderer.keyboardFocusClassName),r&&r.removeListener())},initialValue:!1},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",useResizeObserver:"renderer",useSvgGutterIcons:"renderer",showFoldedAnnotations:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var relativeNumberRenderer={getText:function(s,e){return(Math.abs(s.selection.lead.row-e)||e+1+(e<9?"":""))+""},getWidth:function(s,e,t){return Math.max(e.toString().length,(t.lastRow+1).toString().length,2)*t.characterWidth},update:function(s,e){e.renderer.$loop.schedule(e.renderer.CHANGE_GUTTER)},attach:function(s){s.renderer.$gutterLayer.$renderer=this,s.on("changeSelection",this.update),this.update(null,s)},detach:function(s){s.renderer.$gutterLayer.$renderer==this&&(s.renderer.$gutterLayer.$renderer=null),s.off("changeSelection",this.update),this.update(null,s)}};editor.Editor=Editor;var undomanager={};class UndoManager{constructor(){this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()}addSession(e){this.$session=e}add(e,t,r){if(!this.$fromUndo&&e!=this.$lastDelta){if(this.$keepRedoStack||(this.$redoStack.length=0),t===!1||!this.lastDeltas){this.lastDeltas=[];var n=this.$undoStack.length;n>this.$undoDepth-1&&this.$undoStack.splice(0,n-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),e.id=this.$rev=++this.$maxRev}(e.action=="remove"||e.action=="insert")&&(this.$lastDelta=e),this.lastDeltas.push(e)}}addSelection(e,t){this.selections.push({value:e,rev:t||this.$rev})}startNewGroup(){return this.lastDeltas=null,this.$rev}markIgnored(e,t){t==null&&(t=this.$rev+1);for(var r=this.$undoStack,n=r.length;n--;){var l=r[n][0];if(l.id<=e)break;l.id<t&&(l.ignore=!0)}this.lastDeltas=null}getSelection(e,t){for(var r=this.selections,n=r.length;n--;){var l=r[n];if(l.rev<e)return t&&(l=r[n+1]),l}}getRevision(){return this.$rev}getDeltas(e,t){t==null&&(t=this.$rev+1);for(var r=this.$undoStack,n=null,l=0,a=r.length;a--;){var p=r[a][0];if(p.id<t&&!n&&(n=a+1),p.id<=e){l=a+1;break}}return r.slice(l,n)}getChangedRanges(e,t){t==null&&(t=this.$rev+1)}getChangedLines(e,t){t==null&&(t=this.$rev+1)}undo(e,t){this.lastDeltas=null;var r=this.$undoStack;if(rearrangeUndoStack(r,r.length)){e||(e=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var n=r.pop(),l=null;return n&&(l=e.undoChanges(n,t),this.$redoStack.push(n),this.$syncRev()),this.$fromUndo=!1,l}}redo(e,t){if(this.lastDeltas=null,e||(e=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var r=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);rebaseRedoStack(this.$redoStack,r),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(a){a[0].id=++this.$maxRev},this)}var n=this.$redoStack.pop(),l=null;return n&&(l=e.redoChanges(n,t),this.$undoStack.push(n),this.$syncRev()),this.$fromUndo=!1,l}$syncRev(){var e=this.$undoStack,t=e[e.length-1],r=t&&t[0].id||0;this.$redoStackBaseRev=r,this.$rev=r}reset(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]}canUndo(){return this.$undoStack.length>0}canRedo(){return this.$redoStack.length>0}bookmark(e){e==null&&(e=this.$rev),this.mark=e}isAtBookmark(){return this.$rev===this.mark}toJSON(){}fromJSON(){}$prettyPrint(e){return e?stringifyDelta(e):stringifyDelta(this.$undoStack)+`
---
`+stringifyDelta(this.$redoStack)}}UndoManager.prototype.hasUndo=UndoManager.prototype.canUndo;UndoManager.prototype.hasRedo=UndoManager.prototype.canRedo;UndoManager.prototype.isClean=UndoManager.prototype.isAtBookmark;UndoManager.prototype.markClean=UndoManager.prototype.bookmark;function rearrangeUndoStack(s,e){for(var t=e;t--;){var r=s[t];if(r&&!r[0].ignore){for(;t<e-1;){var n=swapGroups(s[t],s[t+1]);s[t]=n[0],s[t+1]=n[1],t++}return!0}}}var Range$3=range.Range,cmp=Range$3.comparePoints;Range$3.comparePoints;function clonePos(s){return{row:s.row,column:s.column}}function cloneDelta(s){return{start:clonePos(s.start),end:clonePos(s.end),action:s.action,lines:s.lines.slice()}}function stringifyDelta(s){if(s=s||this,Array.isArray(s))return s.map(stringifyDelta).join(`
`);var e="";return s.action?(e=s.action=="insert"?"+":"-",e+="["+s.lines+"]"):s.value&&(Array.isArray(s.value)?e=s.value.map(stringifyRange).join(`
`):e=stringifyRange(s.value)),s.start&&(e+=stringifyRange(s)),(s.id||s.rev)&&(e+="	("+(s.id||s.rev)+")"),e}function stringifyRange(s){return s.start.row+":"+s.start.column+"=>"+s.end.row+":"+s.end.column}function swap(s,e){var t=s.action=="insert",r=e.action=="insert";if(t&&r)if(cmp(e.start,s.end)>=0)shift(e,s,-1);else if(cmp(e.start,s.start)<=0)shift(s,e,1);else return null;else if(t&&!r)if(cmp(e.start,s.end)>=0)shift(e,s,-1);else if(cmp(e.end,s.start)<=0)shift(s,e,-1);else return null;else if(!t&&r)if(cmp(e.start,s.start)>=0)shift(e,s,1);else if(cmp(e.start,s.start)<=0)shift(s,e,1);else return null;else if(!t&&!r)if(cmp(e.start,s.start)>=0)shift(e,s,1);else if(cmp(e.end,s.start)<=0)shift(s,e,-1);else return null;return[e,s]}function swapGroups(s,e){for(var t=s.length;t--;)for(var r=0;r<e.length;r++)if(!swap(s[t],e[r])){for(;t<s.length;){for(;r--;)swap(e[r],s[t]);r=e.length,t++}return[s,e]}return s.selectionBefore=e.selectionBefore=s.selectionAfter=e.selectionAfter=null,[e,s]}function xform(s,e){var t=s.action=="insert",r=e.action=="insert";if(t&&r)cmp(s.start,e.start)<0?shift(e,s,1):shift(s,e,1);else if(t&&!r)cmp(s.start,e.end)>=0?shift(s,e,-1):(cmp(s.start,e.start)<=0||shift(s,Range$3.fromPoints(e.start,s.start),-1),shift(e,s,1));else if(!t&&r)cmp(e.start,s.end)>=0?shift(e,s,-1):(cmp(e.start,s.start)<=0||shift(e,Range$3.fromPoints(s.start,e.start),-1),shift(s,e,1));else if(!t&&!r)if(cmp(e.start,s.end)>=0)shift(e,s,-1);else if(cmp(e.end,s.start)<=0)shift(s,e,-1);else{var n,l;return cmp(s.start,e.start)<0&&(n=s,s=splitDelta(s,e.start)),cmp(s.end,e.end)>0&&(l=splitDelta(s,e.end)),shiftPos(e.end,s.start,s.end,-1),l&&!n&&(s.lines=l.lines,s.start=l.start,s.end=l.end,l=s),[e,n,l].filter(Boolean)}return[e,s]}function shift(s,e,t){shiftPos(s.start,e.start,e.end,t),shiftPos(s.end,e.start,e.end,t)}function shiftPos(s,e,t,r){s.row==(r==1?e:t).row&&(s.column+=r*(t.column-e.column)),s.row+=r*(t.row-e.row)}function splitDelta(s,e){var t=s.lines,r=s.end;s.end=clonePos(e);var n=s.end.row-s.start.row,l=t.splice(n,t.length),a=n?e.column:e.column-s.start.column;t.push(l[0].substring(0,a)),l[0]=l[0].substr(a);var p={start:clonePos(e),end:r,lines:l,action:s.action};return p}function moveDeltasByOne(s,e){e=cloneDelta(e);for(var t=s.length;t--;){for(var r=s[t],n=0;n<r.length;n++){var l=r[n],a=xform(l,e);e=a[0],a.length!=2&&(a[2]?(r.splice(n+1,1,a[1],a[2]),n++):a[1]||(r.splice(n,1),n--))}r.length||s.splice(t,1)}return s}function rebaseRedoStack(s,e){for(var t=0;t<e.length;t++)for(var r=e[t],n=0;n<r.length;n++)moveDeltasByOne(s,r[n])}undomanager.UndoManager=UndoManager;var virtual_renderer={},gutter={},lines={},dom$a=dom$k;let Lines$2=class{constructor(e,t){this.element=e,this.canvasHeight=t||5e5,this.element.style.height=this.canvasHeight*2+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0}moveContainer(e){dom$a.translate(this.element,0,-(e.firstRowScreen*e.lineHeight%this.canvasHeight)-e.offset*this.$offsetCoefficient)}pageChanged(e,t){return Math.floor(e.firstRowScreen*e.lineHeight/this.canvasHeight)!==Math.floor(t.firstRowScreen*t.lineHeight/this.canvasHeight)}computeLineTop(e,t,r){var n=t.firstRowScreen*t.lineHeight,l=Math.floor(n/this.canvasHeight),a=r.documentToScreenRow(e,0)*t.lineHeight;return a-l*this.canvasHeight}computeLineHeight(e,t,r){return t.lineHeight*r.getRowLineCount(e)}getLength(){return this.cells.length}get(e){return this.cells[e]}shift(){this.$cacheCell(this.cells.shift())}pop(){this.$cacheCell(this.cells.pop())}push(e){if(Array.isArray(e)){this.cells.push.apply(this.cells,e);for(var t=dom$a.createFragment(this.element),r=0;r<e.length;r++)t.appendChild(e[r].element);this.element.appendChild(t)}else this.cells.push(e),this.element.appendChild(e.element)}unshift(e){if(Array.isArray(e)){this.cells.unshift.apply(this.cells,e);for(var t=dom$a.createFragment(this.element),r=0;r<e.length;r++)t.appendChild(e[r].element);this.element.firstChild?this.element.insertBefore(t,this.element.firstChild):this.element.appendChild(t)}else this.cells.unshift(e),this.element.insertAdjacentElement("afterbegin",e.element)}last(){return this.cells.length?this.cells[this.cells.length-1]:null}$cacheCell(e){e&&(e.element.remove(),this.cellCache.push(e))}createCell(e,t,r,n){var l=this.cellCache.pop();if(!l){var a=dom$a.createElement("div");n&&n(a),this.element.appendChild(a),l={element:a,text:"",row:e}}return l.row=e,l}};lines.Lines=Lines$2;var dom$9=dom$k,oop$7=oop$i,lang$3=lang$e,EventEmitter$7=event_emitter.EventEmitter,Lines$1=lines.Lines,nls$1=configExports.nls;class Gutter{constructor(e){this.element=dom$9.createElement("div"),this.element.className="ace_layer ace_gutter-layer",e.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new Lines$1(this.element),this.$lines.$offsetCoefficient=1}setSession(e){this.session&&this.session.off("change",this.$updateAnnotations),this.session=e,e&&e.on("change",this.$updateAnnotations)}addGutterDecoration(e,t){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(e,t)}removeGutterDecoration(e,t){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(e,t)}setAnnotations(e){this.$annotations=[];for(var t=0;t<e.length;t++){var r=e[t],n=r.row,l=this.$annotations[n];l||(l=this.$annotations[n]={text:[],type:[]});var a=r.text,p=r.type;a=a?lang$3.escapeHTML(a):r.html||"",l.text.indexOf(a)===-1&&(l.text.push(a),l.type.push(p));var $=r.className;$?l.className=$:p=="error"?l.className=" ace_error":p=="warning"&&l.className!=" ace_error"?l.className=" ace_warning":p=="info"&&!l.className&&(l.className=" ace_info")}}$updateAnnotations(e){if(this.$annotations.length){var t=e.start.row,r=e.end.row-t;if(r!==0)if(e.action=="remove")this.$annotations.splice(t,r+1,null);else{var n=new Array(r+1);n.unshift(t,1),this.$annotations.splice.apply(this.$annotations,n)}}}update(e){this.config=e;var t=this.session,r=e.firstRow,n=Math.min(e.lastRow+e.gutterOffset,t.getLength()-1);this.oldLastRow=n,this.config=e,this.$lines.moveContainer(e),this.$updateCursorRow();for(var l=t.getNextFoldLine(r),a=l?l.start.row:1/0,p=null,$=-1,y=r;;){if(y>a&&(y=l.end.row+1,l=t.getNextFoldLine(y,l),a=l?l.start.row:1/0),y>n){for(;this.$lines.getLength()>$+1;)this.$lines.pop();break}p=this.$lines.get(++$),p?p.row=y:(p=this.$lines.createCell(y,e,this.session,onCreateCell),this.$lines.push(p)),this.$renderCell(p,e,l,y),y++}this._signal("afterRender"),this.$updateGutterWidth(e)}$updateGutterWidth(e){var t=this.session,r=t.gutterRenderer||this.$renderer,n=t.$firstLineNumber,l=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||t.$useWrapMode)&&(l=t.getLength()+n-1);var a=r?r.getWidth(t,l,e):l.toString().length*e.characterWidth,p=this.$padding||this.$computePadding();a+=p.left+p.right,a!==this.gutterWidth&&!isNaN(a)&&(this.gutterWidth=a,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",a))}$updateCursorRow(){if(this.$highlightGutterLine){var e=this.session.selection.getCursor();this.$cursorRow!==e.row&&(this.$cursorRow=e.row)}}updateLineHighlight(){if(this.$highlightGutterLine){var e=this.session.selection.cursor.row;if(this.$cursorRow=e,!(this.$cursorCell&&this.$cursorCell.row==e)){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var t=this.$lines.cells;this.$cursorCell=null;for(var r=0;r<t.length;r++){var n=t[r];if(n.row>=this.$cursorRow){if(n.row>this.$cursorRow){var l=this.session.getFoldLine(this.$cursorRow);if(r>0&&l&&l.start.row==t[r-1].row)n=t[r-1];else break}n.element.className="ace_gutter-active-line "+n.element.className,this.$cursorCell=n;break}}}}}scrollLines(e){var t=this.config;if(this.config=e,this.$updateCursorRow(),this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var r=Math.min(e.lastRow+e.gutterOffset,this.session.getLength()-1),n=this.oldLastRow;if(this.oldLastRow=r,!t||n<e.firstRow)return this.update(e);if(r<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var l=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);l>0;l--)this.$lines.shift();if(n>r)for(var l=this.session.getFoldedRowCount(r+1,n);l>0;l--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLines(e,e.firstRow,t.firstRow-1)),r>n&&this.$lines.push(this.$renderLines(e,n+1,r)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(e)}$renderLines(e,t,r){for(var n=[],l=t,a=this.session.getNextFoldLine(l),p=a?a.start.row:1/0;l>p&&(l=a.end.row+1,a=this.session.getNextFoldLine(l,a),p=a?a.start.row:1/0),!(l>r);){var $=this.$lines.createCell(l,e,this.session,onCreateCell);this.$renderCell($,e,a,l),n.push($),l++}return n}$renderCell(e,t,r,n){var l=e.element,a=this.session,p=l.childNodes[0],$=l.childNodes[1],y=l.childNodes[2],x=y.firstChild,N=a.$firstLineNumber,z=a.$breakpoints,he=a.$decorations,X=a.gutterRenderer||this.$renderer,ne=this.$showFoldWidgets&&a.foldWidgets,Q=r?r.start.row:Number.MAX_VALUE,ie=t.lineHeight+"px",ae=this.$useSvgGutterIcons?"ace_gutter-cell_svg-icons ":"ace_gutter-cell ",ce=this.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",ue=(X?X.getText(a,n):n+N).toString();if(this.$highlightGutterLine&&(n==this.$cursorRow||r&&n<this.$cursorRow&&n>=Q&&this.$cursorRow<=r.end.row)&&(ae+="ace_gutter-active-line ",this.$cursorCell!=e&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=e)),z[n]&&(ae+=z[n]),he[n]&&(ae+=he[n]),this.$annotations[n]&&n!==Q&&(ae+=this.$annotations[n].className),ne){var de=ne[n];de==null&&(de=ne[n]=a.getFoldWidget(n))}if(de){var fe="ace_fold-widget ace_"+de,Oe=de=="start"&&n==Q&&n<r.end.row;if(Oe){fe+=" ace_closed";for(var Ne="",ft=!1,Ie=n+1;Ie<=r.end.row;Ie++)if(this.$annotations[Ie]){if(this.$annotations[Ie].className===" ace_error"){ft=!0,Ne=" ace_error_fold";break}if(this.$annotations[Ie].className===" ace_warning"){ft=!0,Ne=" ace_warning_fold";continue}}ae+=Ne}else fe+=" ace_open";$.className!=fe&&($.className=fe),dom$9.setStyle($.style,"height",ie),dom$9.setStyle($.style,"display","inline-block"),$.setAttribute("role","button"),$.setAttribute("tabindex","-1");var Be=a.getFoldWidgetRange(n);Be?$.setAttribute("aria-label",nls$1("Toggle code folding, rows $0 through $1",[Be.start.row+1,Be.end.row+1])):r?$.setAttribute("aria-label",nls$1("Toggle code folding, rows $0 through $1",[r.start.row+1,r.end.row+1])):$.setAttribute("aria-label",nls$1("Toggle code folding, row $0",[n+1])),Oe?($.setAttribute("aria-expanded","false"),$.setAttribute("title",nls$1("Unfold code"))):($.setAttribute("aria-expanded","true"),$.setAttribute("title",nls$1("Fold code")))}else $&&(dom$9.setStyle($.style,"display","none"),$.setAttribute("tabindex","0"),$.removeAttribute("role"),$.removeAttribute("aria-label"));return ft&&this.$showFoldedAnnotations?(y.className="ace_gutter_annotation",x.className=ce,x.className+=Ne,dom$9.setStyle(x.style,"height",ie),dom$9.setStyle(y.style,"display","block"),dom$9.setStyle(y.style,"height",ie),y.setAttribute("aria-label",nls$1("Read annotations row $0",[ue])),y.setAttribute("tabindex","-1"),y.setAttribute("role","button")):this.$annotations[n]?(y.className="ace_gutter_annotation",x.className=ce,this.$useSvgGutterIcons?x.className+=this.$annotations[n].className:l.classList.add(this.$annotations[n].className.replace(" ","")),dom$9.setStyle(x.style,"height",ie),dom$9.setStyle(y.style,"display","block"),dom$9.setStyle(y.style,"height",ie),y.setAttribute("aria-label",nls$1("Read annotations row $0",[ue])),y.setAttribute("tabindex","-1"),y.setAttribute("role","button")):(dom$9.setStyle(y.style,"display","none"),y.removeAttribute("aria-label"),y.removeAttribute("role"),y.setAttribute("tabindex","0")),ue!==p.data&&(p.data=ue),l.className!=ae&&(l.className=ae),dom$9.setStyle(e.element.style,"height",this.$lines.computeLineHeight(n,t,a)+"px"),dom$9.setStyle(e.element.style,"top",this.$lines.computeLineTop(n,t,a)+"px"),e.text=ue,y.style.display==="none"&&$.style.display==="none"?e.element.setAttribute("aria-hidden",!0):e.element.setAttribute("aria-hidden",!1),e}setHighlightGutterLine(e){this.$highlightGutterLine=e}setShowLineNumbers(e){this.$renderer=!e&&{getWidth:function(){return 0},getText:function(){return""}}}getShowLineNumbers(){return this.$showLineNumbers}setShowFoldWidgets(e){e?dom$9.addCssClass(this.element,"ace_folding-enabled"):dom$9.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=e,this.$padding=null}getShowFoldWidgets(){return this.$showFoldWidgets}$computePadding(){if(!this.element.firstChild)return{left:0,right:0};var e=dom$9.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(e.borderLeftWidth)||0)+(parseInt(e.paddingLeft)||0)+1,this.$padding.right=(parseInt(e.borderRightWidth)||0)+(parseInt(e.paddingRight)||0),this.$padding}getRegion(e){var t=this.$padding||this.$computePadding(),r=this.element.getBoundingClientRect();if(e.x<t.left+r.left)return"markers";if(this.$showFoldWidgets&&e.x>r.right-t.right)return"foldWidgets"}}Gutter.prototype.$fixedWidth=!1;Gutter.prototype.$highlightGutterLine=!0;Gutter.prototype.$renderer="";Gutter.prototype.$showLineNumbers=!0;Gutter.prototype.$showFoldWidgets=!0;oop$7.implement(Gutter.prototype,EventEmitter$7);function onCreateCell(s){var e=document.createTextNode("");s.appendChild(e);var t=dom$9.createElement("span");s.appendChild(t);var r=dom$9.createElement("span");s.appendChild(r);var n=dom$9.createElement("span");return r.appendChild(n),s}gutter.Gutter=Gutter;var marker={},Range$2=range.Range,dom$8=dom$k;class Marker{constructor(e){this.element=dom$8.createElement("div"),this.element.className="ace_layer ace_marker-layer",e.appendChild(this.element)}setPadding(e){this.$padding=e}setSession(e){this.session=e}setMarkers(e){this.markers=e}elt(e,t){var r=this.i!=-1&&this.element.childNodes[this.i];r?this.i++:(r=document.createElement("div"),this.element.appendChild(r),this.i=-1),r.style.cssText=t,r.className=e}update(e){if(e){this.config=e,this.i=0;var t;for(var r in this.markers){var n=this.markers[r];if(!n.range){n.update(t,this,this.session,e);continue}var l=n.range.clipRows(e.firstRow,e.lastRow);if(!l.isEmpty())if(l=l.toScreenRange(this.session),n.renderer){var a=this.$getTop(l.start.row,e),p=this.$padding+l.start.column*e.characterWidth;n.renderer(t,l,p,a,e)}else n.type=="fullLine"?this.drawFullLineMarker(t,l,n.clazz,e):n.type=="screenLine"?this.drawScreenLineMarker(t,l,n.clazz,e):l.isMultiLine()?n.type=="text"?this.drawTextMarker(t,l,n.clazz,e):this.drawMultiLineMarker(t,l,n.clazz,e):this.drawSingleLineMarker(t,l,n.clazz+" ace_start ace_br15",e)}if(this.i!=-1)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}}$getTop(e,t){return(e-t.firstRowScreen)*t.lineHeight}drawTextMarker(e,t,r,n,l){for(var a=this.session,p=t.start.row,$=t.end.row,y=p,x=0,N=0,z=a.getScreenLastRowColumn(y),he=new Range$2(y,t.start.column,y,N);y<=$;y++)he.start.row=he.end.row=y,he.start.column=y==p?t.start.column:a.getRowWrapIndent(y),he.end.column=z,x=N,N=z,z=y+1<$?a.getScreenLastRowColumn(y+1):y==$?0:t.end.column,this.drawSingleLineMarker(e,he,r+(y==p?" ace_start":"")+" ace_br"+getBorderClass(y==p||y==p+1&&t.start.column,x<N,N>z,y==$),n,y==$?0:1,l)}drawMultiLineMarker(e,t,r,n,l){var a=this.$padding,p=n.lineHeight,$=this.$getTop(t.start.row,n),y=a+t.start.column*n.characterWidth;if(l=l||"",this.session.$bidiHandler.isBidiRow(t.start.row)){var x=t.clone();x.end.row=x.start.row,x.end.column=this.session.getLine(x.start.row).length,this.drawBidiSingleLineMarker(e,x,r+" ace_br1 ace_start",n,null,l)}else this.elt(r+" ace_br1 ace_start","height:"+p+"px;right:0;top:"+$+"px;left:"+y+"px;"+(l||""));if(this.session.$bidiHandler.isBidiRow(t.end.row)){var x=t.clone();x.start.row=x.end.row,x.start.column=0,this.drawBidiSingleLineMarker(e,x,r+" ace_br12",n,null,l)}else{$=this.$getTop(t.end.row,n);var N=t.end.column*n.characterWidth;this.elt(r+" ace_br12","height:"+p+"px;width:"+N+"px;top:"+$+"px;left:"+a+"px;"+(l||""))}if(p=(t.end.row-t.start.row-1)*n.lineHeight,!(p<=0)){$=this.$getTop(t.start.row+1,n);var z=(t.start.column?1:0)|(t.end.column?0:8);this.elt(r+(z?" ace_br"+z:""),"height:"+p+"px;right:0;top:"+$+"px;left:"+a+"px;"+(l||""))}}drawSingleLineMarker(e,t,r,n,l,a){if(this.session.$bidiHandler.isBidiRow(t.start.row))return this.drawBidiSingleLineMarker(e,t,r,n,l,a);var p=n.lineHeight,$=(t.end.column+(l||0)-t.start.column)*n.characterWidth,y=this.$getTop(t.start.row,n),x=this.$padding+t.start.column*n.characterWidth;this.elt(r,"height:"+p+"px;width:"+$+"px;top:"+y+"px;left:"+x+"px;"+(a||""))}drawBidiSingleLineMarker(e,t,r,n,l,a){var p=n.lineHeight,$=this.$getTop(t.start.row,n),y=this.$padding,x=this.session.$bidiHandler.getSelections(t.start.column,t.end.column);x.forEach(function(N){this.elt(r,"height:"+p+"px;width:"+(N.width+(l||0))+"px;top:"+$+"px;left:"+(y+N.left)+"px;"+(a||""))},this)}drawFullLineMarker(e,t,r,n,l){var a=this.$getTop(t.start.row,n),p=n.lineHeight;t.start.row!=t.end.row&&(p+=this.$getTop(t.end.row,n)-a),this.elt(r,"height:"+p+"px;top:"+a+"px;left:0;right:0;"+(l||""))}drawScreenLineMarker(e,t,r,n,l){var a=this.$getTop(t.start.row,n),p=n.lineHeight;this.elt(r,"height:"+p+"px;top:"+a+"px;left:0;right:0;"+(l||""))}}Marker.prototype.$padding=0;function getBorderClass(s,e,t,r){return(s?1:0)|(e?2:0)|(t?4:0)|(r?8:0)}marker.Marker=Marker;var text={},oop$6=oop$i,dom$7=dom$k,lang$2=lang$e,Lines=lines.Lines,EventEmitter$6=event_emitter.EventEmitter,nls=configExports.nls;class Text{constructor(e){this.dom=dom$7,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",e.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new Lines(this.element)}$updateEolChar(){var e=this.session.doc,t=e.getNewLineCharacter()==`
`&&e.getNewLineMode()!="windows",r=t?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=r)return this.EOL_CHAR=r,!0}setPadding(e){this.$padding=e,this.element.style.margin="0 "+e+"px"}getLineHeight(){return this.$fontMetrics.$characterSize.height||0}getCharacterWidth(){return this.$fontMetrics.$characterSize.width||0}$setFontMetrics(e){this.$fontMetrics=e,this.$fontMetrics.on("changeCharacterSize",function(t){this._signal("changeCharacterSize",t)}.bind(this)),this.$pollSizeChanges()}checkForSizeChanges(){this.$fontMetrics.checkForSizeChanges()}$pollSizeChanges(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()}setSession(e){this.session=e,e&&this.$computeTabString()}setShowInvisibles(e){return this.showInvisibles==e?!1:(this.showInvisibles=e,typeof e=="string"?(this.showSpaces=/tab/i.test(e),this.showTabs=/space/i.test(e),this.showEOL=/eol/i.test(e)):this.showSpaces=this.showTabs=this.showEOL=e,this.$computeTabString(),!0)}setDisplayIndentGuides(e){return this.displayIndentGuides==e?!1:(this.displayIndentGuides=e,this.$computeTabString(),!0)}setHighlightIndentGuides(e){return this.$highlightIndentGuides===e?!1:(this.$highlightIndentGuides=e,e)}$computeTabString(){var e=this.session.getTabSize();this.tabSize=e;for(var t=this.$tabStrings=[0],r=1;r<e+1;r++)if(this.showTabs){var n=this.dom.createElement("span");n.className="ace_invisible ace_invisible_tab",n.textContent=lang$2.stringRepeat(this.TAB_CHAR,r),t.push(n)}else t.push(this.dom.createTextNode(lang$2.stringRepeat(" ",r),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var l="ace_indent-guide",a=this.showSpaces?" ace_invisible ace_invisible_space":"",p=this.showSpaces?lang$2.stringRepeat(this.SPACE_CHAR,this.tabSize):lang$2.stringRepeat(" ",this.tabSize),$=this.showTabs?" ace_invisible ace_invisible_tab":"",y=this.showTabs?lang$2.stringRepeat(this.TAB_CHAR,this.tabSize):p,n=this.dom.createElement("span");n.className=l+a,n.textContent=p,this.$tabStrings[" "]=n;var n=this.dom.createElement("span");n.className=l+$,n.textContent=y,this.$tabStrings["	"]=n}}updateLines(e,t,r){if(this.config.lastRow!=e.lastRow||this.config.firstRow!=e.firstRow)return this.update(e);this.config=e;for(var n=Math.max(t,e.firstRow),l=Math.min(r,e.lastRow),a=this.element.childNodes,p=0,y=e.firstRow;y<n;y++){var x=this.session.getFoldLine(y);if(x)if(x.containsRow(n)){n=x.start.row;break}else y=x.end.row;p++}for(var $=!1,y=n,x=this.session.getNextFoldLine(y),N=x?x.start.row:1/0;y>N&&(y=x.end.row+1,x=this.session.getNextFoldLine(y,x),N=x?x.start.row:1/0),!(y>l);){var z=a[p++];if(z){this.dom.removeChildren(z),this.$renderLine(z,y,y==N?x:!1),$&&(z.style.top=this.$lines.computeLineTop(y,e,this.session)+"px");var he=e.lineHeight*this.session.getRowLength(y)+"px";z.style.height!=he&&($=!0,z.style.height=he)}y++}if($)for(;p<this.$lines.cells.length;){var X=this.$lines.cells[p++];X.element.style.top=this.$lines.computeLineTop(X.row,e,this.session)+"px"}}scrollLines(e){var t=this.config;if(this.config=e,this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var r=e.lastRow,n=t?t.lastRow:-1;if(!t||n<e.firstRow)return this.update(e);if(r<t.firstRow)return this.update(e);if(!t||t.lastRow<e.firstRow)return this.update(e);if(e.lastRow<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var l=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);l>0;l--)this.$lines.shift();if(t.lastRow>e.lastRow)for(var l=this.session.getFoldedRowCount(e.lastRow+1,t.lastRow);l>0;l--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLinesFragment(e,e.firstRow,t.firstRow-1)),e.lastRow>t.lastRow&&this.$lines.push(this.$renderLinesFragment(e,t.lastRow+1,e.lastRow)),this.$highlightIndentGuide()}$renderLinesFragment(e,t,r){for(var n=[],l=t,a=this.session.getNextFoldLine(l),p=a?a.start.row:1/0;l>p&&(l=a.end.row+1,a=this.session.getNextFoldLine(l,a),p=a?a.start.row:1/0),!(l>r);){var $=this.$lines.createCell(l,e,this.session),y=$.element;this.dom.removeChildren(y),dom$7.setStyle(y.style,"height",this.$lines.computeLineHeight(l,e,this.session)+"px"),dom$7.setStyle(y.style,"top",this.$lines.computeLineTop(l,e,this.session)+"px"),this.$renderLine(y,l,l==p?a:!1),this.$useLineGroups()?y.className="ace_line_group":y.className="ace_line",n.push($),l++}return n}update(e){this.$lines.moveContainer(e),this.config=e;for(var t=e.firstRow,r=e.lastRow,n=this.$lines;n.getLength();)n.pop();n.push(this.$renderLinesFragment(e,t,r))}$renderToken(e,t,r,n){for(var l=this,a=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,p=this.dom.createFragment(this.element),$,y=0;$=a.exec(n);){var x=$[1],N=$[2],z=$[3],he=$[4],X=$[5];if(!(!l.showSpaces&&N)){var ne=y!=$.index?n.slice(y,$.index):"";if(y=$.index+$[0].length,ne&&p.appendChild(this.dom.createTextNode(ne,this.element)),x){var Q=l.session.getScreenTabSize(t+$.index);p.appendChild(l.$tabStrings[Q].cloneNode(!0)),t+=Q-1}else if(N)if(l.showSpaces){var ie=this.dom.createElement("span");ie.className="ace_invisible ace_invisible_space",ie.textContent=lang$2.stringRepeat(l.SPACE_CHAR,N.length),p.appendChild(ie)}else p.appendChild(this.com.createTextNode(N,this.element));else if(z){var ie=this.dom.createElement("span");ie.className="ace_invisible ace_invisible_space ace_invalid",ie.textContent=lang$2.stringRepeat(l.SPACE_CHAR,z.length),p.appendChild(ie)}else if(he){t+=1;var ie=this.dom.createElement("span");ie.style.width=l.config.characterWidth*2+"px",ie.className=l.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",ie.textContent=l.showSpaces?l.SPACE_CHAR:he,p.appendChild(ie)}else if(X){t+=1;var ie=this.dom.createElement("span");ie.style.width=l.config.characterWidth*2+"px",ie.className="ace_cjk",ie.textContent=X,p.appendChild(ie)}}}if(p.appendChild(this.dom.createTextNode(y?n.slice(y):n,this.element)),this.$textToken[r.type])e.appendChild(p);else{var ae="ace_"+r.type.replace(/\./g," ace_"),ie=this.dom.createElement("span");r.type=="fold"&&(ie.style.width=r.value.length*this.config.characterWidth+"px",ie.setAttribute("title",nls("Unfold code"))),ie.className=ae,ie.appendChild(p),e.appendChild(ie)}return t+n.length}renderIndentGuide(e,t,r){var n=t.search(this.$indentGuideRe);if(n<=0||n>=r)return t;if(t[0]==" "){n-=n%this.tabSize;for(var l=n/this.tabSize,a=0;a<l;a++)e.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),t.substr(n)}else if(t[0]=="	"){for(var a=0;a<n;a++)e.appendChild(this.$tabStrings["	"].cloneNode(!0));return this.$highlightIndentGuide(),t.substr(n)}return this.$highlightIndentGuide(),t}$highlightIndentGuide(){if(!(!this.$highlightIndentGuides||!this.displayIndentGuides)){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var e=this.session.doc.$lines;if(e){var t=this.session.selection.getCursor(),r=/^\s*/.exec(this.session.doc.getLine(t.row))[0].length,n=Math.floor(r/this.tabSize);this.$highlightIndentGuideMarker={indentLevel:n,start:t.row};var l=this.session.$bracketHighlight;if(l){for(var a=this.session.$bracketHighlight.ranges,p=0;p<a.length;p++)if(t.row!==a[p].start.row){this.$highlightIndentGuideMarker.end=a[p].start.row,t.row>a[p].start.row?this.$highlightIndentGuideMarker.dir=-1:this.$highlightIndentGuideMarker.dir=1;break}}if(!this.$highlightIndentGuideMarker.end&&e[t.row]!==""&&t.column===e[t.row].length){this.$highlightIndentGuideMarker.dir=1;for(var p=t.row+1;p<e.length;p++){var $=e[p],y=/^\s*/.exec($)[0].length;if($!==""&&(this.$highlightIndentGuideMarker.end=p,y<=r))break}}this.$renderHighlightIndentGuide()}}}$clearActiveIndentGuide(){for(var e=this.$lines.cells,t=0;t<e.length;t++){var r=e[t],n=r.element.childNodes;if(n.length>0){for(var l=0;l<n.length;l++)if(n[l].classList&&n[l].classList.contains("ace_indent-guide-active")){n[l].classList.remove("ace_indent-guide-active");break}}}}$setIndentGuideActive(e,t){var r=this.session.doc.getLine(e.row);if(r!==""){var n=e.element.childNodes;if(n){let l=n[t-1];l&&l.classList&&l.classList.contains("ace_indent-guide")&&l.classList.add("ace_indent-guide-active")}}}$renderHighlightIndentGuide(){if(this.$lines){var e=this.$lines.cells;this.$clearActiveIndentGuide();var t=this.$highlightIndentGuideMarker.indentLevel;if(t!==0)if(this.$highlightIndentGuideMarker.dir===1)for(var r=0;r<e.length;r++){var n=e[r];if(this.$highlightIndentGuideMarker.end&&n.row>=this.$highlightIndentGuideMarker.start+1){if(n.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(n,t)}}else for(var r=e.length-1;r>=0;r--){var n=e[r];if(this.$highlightIndentGuideMarker.end&&n.row<this.$highlightIndentGuideMarker.start){if(n.row<=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(n,t)}}}}$createLineElement(e){var t=this.dom.createElement("div");return t.className="ace_line",t.style.height=this.config.lineHeight+"px",t}$renderWrappedLine(e,t,r){var n=0,l=0,a=r[0],p=0,$=this.$createLineElement();e.appendChild($);for(var y=0;y<t.length;y++){var x=t[y],N=x.value;if(y==0&&this.displayIndentGuides){if(n=N.length,N=this.renderIndentGuide($,N,a),!N)continue;n-=N.length}if(n+N.length<a)p=this.$renderToken($,p,x,N),n+=N.length;else{for(;n+N.length>=a;)p=this.$renderToken($,p,x,N.substring(0,a-n)),N=N.substring(a-n),n=a,$=this.$createLineElement(),e.appendChild($),$.appendChild(this.dom.createTextNode(lang$2.stringRepeat("",r.indent),this.element)),l++,p=0,a=r[l]||Number.MAX_VALUE;N.length!=0&&(n+=N.length,p=this.$renderToken($,p,x,N))}}r[r.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage($,p,null,"",!0)}$renderSimpleLine(e,t){for(var r=0,n=0;n<t.length;n++){var l=t[n],a=l.value;if(!(n==0&&this.displayIndentGuides&&(a=this.renderIndentGuide(e,a),!a))){if(r+a.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(e,r,l,a);r=this.$renderToken(e,r,l,a)}}}$renderOverflowMessage(e,t,r,n,l){r&&this.$renderToken(e,t,r,n.slice(0,this.MAX_LINE_LENGTH-t));var a=this.dom.createElement("span");a.className="ace_inline_button ace_keyword ace_toggle_wrap",a.textContent=l?"<hide>":"<click to see more...>",e.appendChild(a)}$renderLine(e,t,r){if(!r&&r!=!1&&(r=this.session.getFoldLine(t)),r)var n=this.$getFoldLineTokens(t,r);else var n=this.session.getTokens(t);var l=e;if(n.length){var a=this.session.getRowSplitData(t);if(a&&a.length){this.$renderWrappedLine(e,n,a);var l=e.lastChild}else{var l=e;this.$useLineGroups()&&(l=this.$createLineElement(),e.appendChild(l)),this.$renderSimpleLine(l,n)}}else this.$useLineGroups()&&(l=this.$createLineElement(),e.appendChild(l));if(this.showEOL&&l){r&&(t=r.end.row);var p=this.dom.createElement("span");p.className="ace_invisible ace_invisible_eol",p.textContent=t==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,l.appendChild(p)}}$getFoldLineTokens(e,t){var r=this.session,n=[];function l(p,$,y){for(var x=0,N=0;N+p[x].value.length<$;)if(N+=p[x].value.length,x++,x==p.length)return;if(N!=$){var z=p[x].value.substring($-N);z.length>y-$&&(z=z.substring(0,y-$)),n.push({type:p[x].type,value:z}),N=$+z.length,x+=1}for(;N<y&&x<p.length;){var z=p[x].value;z.length+N>y?n.push({type:p[x].type,value:z.substring(0,y-N)}):n.push(p[x]),N+=z.length,x+=1}}var a=r.getTokens(e);return t.walk(function(p,$,y,x,N){p!=null?n.push({type:"fold",value:p}):(N&&(a=r.getTokens($)),a.length&&l(a,x,y))},t.end.row,this.session.getLine(t.end.row).length),n}$useLineGroups(){return this.session.getUseWrapMode()}}Text.prototype.$textToken={text:!0,rparen:!0,lparen:!0};Text.prototype.EOF_CHAR="";Text.prototype.EOL_CHAR_LF="";Text.prototype.EOL_CHAR_CRLF="";Text.prototype.EOL_CHAR=Text.prototype.EOL_CHAR_LF;Text.prototype.TAB_CHAR="";Text.prototype.SPACE_CHAR="";Text.prototype.$padding=0;Text.prototype.MAX_LINE_LENGTH=1e4;Text.prototype.showInvisibles=!1;Text.prototype.showSpaces=!1;Text.prototype.showTabs=!1;Text.prototype.showEOL=!1;Text.prototype.displayIndentGuides=!0;Text.prototype.$highlightIndentGuides=!0;Text.prototype.$tabStrings=[];Text.prototype.destroy={};Text.prototype.onChangeTabSize=Text.prototype.$computeTabString;oop$6.implement(Text.prototype,EventEmitter$6);text.Text=Text;var cursor={},dom$6=dom$k;class Cursor{constructor(e){this.element=dom$6.createElement("div"),this.element.className="ace_layer ace_cursor-layer",e.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),dom$6.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)}$updateOpacity(e){for(var t=this.cursors,r=t.length;r--;)dom$6.setStyle(t[r].style,"opacity",e?"":"0")}$startCssAnimation(){for(var e=this.cursors,t=e.length;t--;)e[t].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout(function(){this.$isAnimating&&dom$6.addCssClass(this.element,"ace_animate-blinking")}.bind(this))}$stopCssAnimation(){this.$isAnimating=!1,dom$6.removeCssClass(this.element,"ace_animate-blinking")}setPadding(e){this.$padding=e}setSession(e){this.session=e}setBlinking(e){e!=this.isBlinking&&(this.isBlinking=e,this.restartTimer())}setBlinkInterval(e){e!=this.blinkInterval&&(this.blinkInterval=e,this.restartTimer())}setSmoothBlinking(e){e!=this.smoothBlinking&&(this.smoothBlinking=e,dom$6.setCssClass(this.element,"ace_smooth-blinking",e),this.$updateCursors(!0),this.restartTimer())}addCursor(){var e=dom$6.createElement("div");return e.className="ace_cursor",this.element.appendChild(e),this.cursors.push(e),e}removeCursor(){if(this.cursors.length>1){var e=this.cursors.pop();return e.parentNode.removeChild(e),e}}hideCursor(){this.isVisible=!1,dom$6.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()}showCursor(){this.isVisible=!0,dom$6.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()}restartTimer(){var e=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,dom$6.removeCssClass(this.element,"ace_smooth-blinking")),e(!0),!this.isBlinking||!this.blinkInterval||!this.isVisible){this.$stopCssAnimation();return}if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout(function(){this.$isSmoothBlinking&&dom$6.addCssClass(this.element,"ace_smooth-blinking")}.bind(this))),dom$6.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var t=function(){this.timeoutId=setTimeout(function(){e(!1)},.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){e(!0),t()},this.blinkInterval),t()}}getPixelPosition(e,t){if(!this.config||!this.session)return{left:0,top:0};e||(e=this.session.selection.getCursor());var r=this.session.documentToScreenPosition(e),n=this.$padding+(this.session.$bidiHandler.isBidiRow(r.row,e.row)?this.session.$bidiHandler.getPosLeft(r.column):r.column*this.config.characterWidth),l=(r.row-(t?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:n,top:l}}isCursorInView(e,t){return e.top>=0&&e.top<t.maxHeight}update(e){this.config=e;var t=this.session.$selectionMarkers,r=0,n=0;(t===void 0||t.length===0)&&(t=[{cursor:null}]);for(var r=0,l=t.length;r<l;r++){var a=this.getPixelPosition(t[r].cursor,!0);if(!((a.top>e.height+e.offset||a.top<0)&&r>1)){var p=this.cursors[n++]||this.addCursor(),$=p.style;this.drawCursor?this.drawCursor(p,a,e,t[r],this.session):this.isCursorInView(a,e)?(dom$6.setStyle($,"display","block"),dom$6.translate(p,a.left,a.top),dom$6.setStyle($,"width",Math.round(e.characterWidth)+"px"),dom$6.setStyle($,"height",e.lineHeight+"px")):dom$6.setStyle($,"display","none")}}for(;this.cursors.length>n;)this.removeCursor();var y=this.session.getOverwrite();this.$setOverwrite(y),this.$pixelPos=a,this.restartTimer()}$setOverwrite(e){e!=this.overwrite&&(this.overwrite=e,e?dom$6.addCssClass(this.element,"ace_overwrite-cursors"):dom$6.removeCssClass(this.element,"ace_overwrite-cursors"))}destroy(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}Cursor.prototype.$padding=0;Cursor.prototype.drawCursor=null;cursor.Cursor=Cursor;var scrollbar={},oop$5=oop$i,dom$5=dom$k,event$4=event$c,EventEmitter$5=event_emitter.EventEmitter,MAX_SCROLL_H=32768;class Scrollbar{constructor(e,t){this.element=dom$5.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+t,this.inner=dom$5.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="",this.element.appendChild(this.inner),e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,event$4.addListener(this.element,"scroll",this.onScroll.bind(this)),event$4.addListener(this.element,"mousedown",event$4.preventDefault)}setVisible(e){this.element.style.display=e?"":"none",this.isVisible=e,this.coeff=1}}oop$5.implement(Scrollbar.prototype,EventEmitter$5);let VScrollBar$2=class extends Scrollbar{constructor(e,t){super(e,"-v"),this.scrollTop=0,this.scrollHeight=0,t.$scrollbarWidth=this.width=dom$5.scrollbarWidth(e.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px",this.$minWidth=0}onScroll(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,this.coeff!=1){var e=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-e)/(this.coeff-e)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1}getWidth(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)}setHeight(e){this.element.style.height=e+"px"}setScrollHeight(e){this.scrollHeight=e,e>MAX_SCROLL_H?(this.coeff=MAX_SCROLL_H/e,e=MAX_SCROLL_H):this.coeff!=1&&(this.coeff=1),this.inner.style.height=e+"px"}setScrollTop(e){this.scrollTop!=e&&(this.skipEvent=!0,this.scrollTop=e,this.element.scrollTop=e*this.coeff)}};VScrollBar$2.prototype.setInnerHeight=VScrollBar$2.prototype.setScrollHeight;let HScrollBar$2=class extends Scrollbar{constructor(e,t){super(e,"-h"),this.scrollLeft=0,this.height=t.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"}onScroll(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1}getHeight(){return this.isVisible?this.height:0}setWidth(e){this.element.style.width=e+"px"}setInnerWidth(e){this.inner.style.width=e+"px"}setScrollWidth(e){this.inner.style.width=e+"px"}setScrollLeft(e){this.scrollLeft!=e&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=e)}};scrollbar.ScrollBar=VScrollBar$2;scrollbar.ScrollBarV=VScrollBar$2;scrollbar.ScrollBarH=HScrollBar$2;scrollbar.VScrollBar=VScrollBar$2;scrollbar.HScrollBar=HScrollBar$2;var scrollbar_custom={},oop$4=oop$i,dom$4=dom$k,event$3=event$c,EventEmitter$4=event_emitter.EventEmitter;dom$4.importCssString(`.ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{
  position: absolute;
  background: rgba(128, 128, 128, 0.6);
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  border: 1px solid #bbb;
  border-radius: 2px;
  z-index: 8;
}
.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {
  position: absolute;
  z-index: 6;
  background: none;
  overflow: hidden!important;
}
.ace_editor>.ace_sb-v {
  z-index: 6;
  right: 0;
  top: 0;
  width: 12px;
}
.ace_editor>.ace_sb-v div {
  z-index: 8;
  right: 0;
  width: 100%;
}
.ace_editor>.ace_sb-h {
  bottom: 0;
  left: 0;
  height: 12px;
}
.ace_editor>.ace_sb-h div {
  bottom: 0;
  height: 100%;
}
.ace_editor>.ace_sb_grabbed {
  z-index: 8;
  background: #000;
}`,"ace_scrollbar.css",!1);class ScrollBar{constructor(e,t){this.element=dom$4.createElement("div"),this.element.className="ace_sb"+t,this.inner=dom$4.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,event$3.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")}setVisible(e){this.element.style.display=e?"":"none",this.isVisible=e,this.coeff=1}}oop$4.implement(ScrollBar.prototype,EventEmitter$4);let VScrollBar$1=class extends ScrollBar{constructor(e,t){super(e,"-v"),this.scrollTop=0,this.scrollHeight=0,this.parent=e,this.width=this.VScrollWidth,this.renderer=t,this.inner.style.width=this.element.style.width=(this.width||15)+"px",this.$minWidth=0}onMouseDown(e,t){if(e==="mousedown"&&!(event$3.getButton(t)!==0||t.detail===2)){if(t.target===this.inner){var r=this,n=t.clientY,l=function(z){n=z.clientY},a=function(){clearInterval(x)},p=t.clientY,$=this.thumbTop,y=function(){if(n!==void 0){var z=r.scrollTopFromThumbTop($+n-p);z!==r.scrollTop&&r._emit("scroll",{data:z})}};event$3.capture(this.inner,l,a);var x=setInterval(y,20);return event$3.preventDefault(t)}var N=t.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2;return this._emit("scroll",{data:this.scrollTopFromThumbTop(N)}),event$3.preventDefault(t)}}getHeight(){return this.height}scrollTopFromThumbTop(e){var t=e*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return t=t>>0,t<0?t=0:t>this.pageHeight-this.viewHeight&&(t=this.pageHeight-this.viewHeight),t}getWidth(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)}setHeight(e){this.height=Math.max(0,e),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)}setScrollHeight(e,t){this.pageHeight===e&&!t||(this.pageHeight=e,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop})))}setScrollTop(e){this.scrollTop=e,e<0&&(e=0),this.thumbTop=e*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"}};VScrollBar$1.prototype.setInnerHeight=VScrollBar$1.prototype.setScrollHeight;let HScrollBar$1=class extends ScrollBar{constructor(e,t){super(e,"-h"),this.scrollLeft=0,this.scrollWidth=0,this.height=this.HScrollHeight,this.inner.style.height=this.element.style.height=(this.height||12)+"px",this.renderer=t}onMouseDown(e,t){if(e==="mousedown"&&!(event$3.getButton(t)!==0||t.detail===2)){if(t.target===this.inner){var r=this,n=t.clientX,l=function(z){n=z.clientX},a=function(){clearInterval(x)},p=t.clientX,$=this.thumbLeft,y=function(){if(n!==void 0){var z=r.scrollLeftFromThumbLeft($+n-p);z!==r.scrollLeft&&r._emit("scroll",{data:z})}};event$3.capture(this.inner,l,a);var x=setInterval(y,20);return event$3.preventDefault(t)}var N=t.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2;return this._emit("scroll",{data:this.scrollLeftFromThumbLeft(N)}),event$3.preventDefault(t)}}getHeight(){return this.isVisible?this.height:0}scrollLeftFromThumbLeft(e){var t=e*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return t=t>>0,t<0?t=0:t>this.pageWidth-this.viewWidth&&(t=this.pageWidth-this.viewWidth),t}setWidth(e){this.width=Math.max(0,e),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)}setScrollWidth(e,t){this.pageWidth===e&&!t||(this.pageWidth=e,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft})))}setScrollLeft(e){this.scrollLeft=e,e<0&&(e=0),this.thumbLeft=e*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"}};HScrollBar$1.prototype.setInnerWidth=HScrollBar$1.prototype.setScrollWidth;scrollbar_custom.ScrollBar=VScrollBar$1;scrollbar_custom.ScrollBarV=VScrollBar$1;scrollbar_custom.ScrollBarH=HScrollBar$1;scrollbar_custom.VScrollBar=VScrollBar$1;scrollbar_custom.HScrollBar=HScrollBar$1;var renderloop={},event$2=event$c;let RenderLoop$1=class{constructor(e,t){this.onRender=e,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=t||window;var r=this;this._flush=function(n){r.pending=!1;var l=r.changes;if(l&&(event$2.blockIdle(100),r.changes=0,r.onRender(l)),r.changes){if(r.$recursionLimit--<0)return;r.schedule()}else r.$recursionLimit=2}}schedule(e){this.changes=this.changes|e,this.changes&&!this.pending&&(event$2.nextFrame(this._flush),this.pending=!0)}clear(e){var t=this.changes;return this.changes=0,t}};renderloop.RenderLoop=RenderLoop$1;var font_metrics={},oop$3=oop$i,dom$3=dom$k,lang$1=lang$e,event$1=event$c,useragent$2=useragent$a,EventEmitter$3=event_emitter.EventEmitter,CHAR_COUNT=512,USE_OBSERVER=typeof ResizeObserver=="function",L=200;let FontMetrics$1=class{constructor(e){this.el=dom$3.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=dom$3.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=dom$3.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),e.appendChild(this.el),this.$measureNode.textContent=lang$1.stringRepeat("X",CHAR_COUNT),this.$characterSize={width:0,height:0},USE_OBSERVER?this.$addObserver():this.checkForSizeChanges()}$setMeasureNodeStyles(e,t){e.width=e.height="auto",e.left=e.top="0px",e.visibility="hidden",e.position="absolute",e.whiteSpace="pre",useragent$2.isIE<8?e["font-family"]="inherit":e.font="inherit",e.overflow=t?"hidden":"visible"}checkForSizeChanges(e){if(e===void 0&&(e=this.$measureSizes()),e&&(this.$characterSize.width!==e.width||this.$characterSize.height!==e.height)){this.$measureNode.style.fontWeight="bold";var t=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=e,this.charSizes=Object.create(null),this.allowBoldFonts=t&&t.width===e.width&&t.height===e.height,this._emit("changeCharacterSize",{data:e})}}$addObserver(){var e=this;this.$observer=new window.ResizeObserver(function(t){e.checkForSizeChanges()}),this.$observer.observe(this.$measureNode)}$pollSizeChanges(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var e=this;return this.$pollSizeChangesTimer=event$1.onIdle(function t(){e.checkForSizeChanges(),event$1.onIdle(t,500)},500)}setPolling(e){e?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)}$measureSizes(e){var t={height:(e||this.$measureNode).clientHeight,width:(e||this.$measureNode).clientWidth/CHAR_COUNT};return t.width===0||t.height===0?null:t}$measureCharWidth(e){this.$main.textContent=lang$1.stringRepeat(e,CHAR_COUNT);var t=this.$main.getBoundingClientRect();return t.width/CHAR_COUNT}getCharacterWidth(e){var t=this.charSizes[e];return t===void 0&&(t=this.charSizes[e]=this.$measureCharWidth(e)/this.$characterSize.width),t}destroy(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)}$getZoom(e){return!e||!e.parentElement?1:(window.getComputedStyle(e).zoom||1)*this.$getZoom(e.parentElement)}$initTransformMeasureNodes(){var e=function(t,r){return["div",{style:"position: absolute;top:"+t+"px;left:"+r+"px;"}]};this.els=dom$3.buildDom([e(0,0),e(L,0),e(0,L),e(L,L)],this.el)}transformCoordinates(e,t){if(e){var r=this.$getZoom(this.el);e=p(1/r,e)}function n(de,fe,Oe){var Ne=de[1]*fe[0]-de[0]*fe[1];return[(-fe[1]*Oe[0]+fe[0]*Oe[1])/Ne,(+de[1]*Oe[0]-de[0]*Oe[1])/Ne]}function l(de,fe){return[de[0]-fe[0],de[1]-fe[1]]}function a(de,fe){return[de[0]+fe[0],de[1]+fe[1]]}function p(de,fe){return[de*fe[0],de*fe[1]]}this.els||this.$initTransformMeasureNodes();function $(de){var fe=de.getBoundingClientRect();return[fe.left,fe.top]}var y=$(this.els[0]),x=$(this.els[1]),N=$(this.els[2]),z=$(this.els[3]),he=n(l(z,x),l(z,N),l(a(x,N),a(z,y))),X=p(1+he[0],l(x,y)),ne=p(1+he[1],l(N,y));if(t){var Q=t,ie=he[0]*Q[0]/L+he[1]*Q[1]/L+1,ae=a(p(Q[0],X),p(Q[1],ne));return a(p(1/ie/L,ae),y)}var ce=l(e,y),ue=n(l(X,p(he[0],ce)),l(ne,p(he[1],ce)),ce);return p(L,ue)}};FontMetrics$1.prototype.$characterSize={width:0,height:0};oop$3.implement(FontMetrics$1.prototype,EventEmitter$3);font_metrics.FontMetrics=FontMetrics$1;var editorCss$1=`
.ace_br1 {border-top-left-radius    : 3px;}
.ace_br2 {border-top-right-radius   : 3px;}
.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}
.ace_br4 {border-bottom-right-radius: 3px;}
.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}
.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}
.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}
.ace_br8 {border-bottom-left-radius : 3px;}
.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}
.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}
.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}
.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}


.ace_editor {
    position: relative;
    overflow: hidden;
    padding: 0;
    font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'Source Code Pro', 'source-code-pro', monospace;
    direction: ltr;
    text-align: left;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
}

.ace_scroller {
    position: absolute;
    overflow: hidden;
    top: 0;
    bottom: 0;
    background-color: inherit;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    cursor: text;
}

.ace_content {
    position: absolute;
    box-sizing: border-box;
    min-width: 100%;
    contain: style size layout;
    font-variant-ligatures: no-common-ligatures;
}

.ace_keyboard-focus:focus {
    box-shadow: inset 0 0 0 2px #5E9ED6;
    outline: none;
}

.ace_dragging .ace_scroller:before{
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    content: '';
    background: rgba(250, 250, 250, 0.01);
    z-index: 1000;
}
.ace_dragging.ace_dark .ace_scroller:before{
    background: rgba(0, 0, 0, 0.01);
}

.ace_gutter {
    position: absolute;
    overflow : hidden;
    width: auto;
    top: 0;
    bottom: 0;
    left: 0;
    cursor: default;
    z-index: 4;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    contain: style size layout;
}

.ace_gutter-active-line {
    position: absolute;
    left: 0;
    right: 0;
}

.ace_scroller.ace_scroll-left:after {
    content: "";
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;
    pointer-events: none;
}

.ace_gutter-cell, .ace_gutter-cell_svg-icons {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    padding-left: 19px;
    padding-right: 6px;
    background-repeat: no-repeat;
}

.ace_gutter-cell_svg-icons .ace_gutter_annotation {
    margin-left: -14px;
    float: left;
}

.ace_gutter-cell .ace_gutter_annotation {
    margin-left: -19px;
    float: left;
}

.ace_gutter-cell.ace_error, .ace_icon.ace_error, .ace_icon.ace_error_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_warning, .ace_icon.ace_warning, .ace_icon.ace_warning_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_info, .ace_icon.ace_info {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");
    background-repeat: no-repeat;
    background-position: 2px center;
}
.ace_dark .ace_gutter-cell.ace_info, .ace_dark .ace_icon.ace_info {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");
}

.ace_icon_svg.ace_error {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJyZWQiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KPGNpcmNsZSBmaWxsPSJub25lIiBjeD0iOCIgY3k9IjgiIHI9IjciIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGxpbmUgeDE9IjExIiB5MT0iNSIgeDI9IjUiIHkyPSIxMSIvPgo8bGluZSB4MT0iMTEiIHkxPSIxMSIgeDI9IjUiIHkyPSI1Ii8+CjwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_warning {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJkYXJrb3JhbmdlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+Cjxwb2x5Z29uIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9Im5vbmUiIHBvaW50cz0iOCAxIDE1IDE1IDEgMTUgOCAxIi8+CjxyZWN0IHg9IjgiIHk9IjEyIiB3aWR0aD0iMC4wMSIgaGVpZ2h0PSIwLjAxIi8+CjxsaW5lIHgxPSI4IiB5MT0iNiIgeDI9IjgiIHkyPSIxMCIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: darkorange;
}
.ace_icon_svg.ace_info {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJibHVlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CjxjaXJjbGUgZmlsbD0ibm9uZSIgY3g9IjgiIGN5PSI4IiByPSI3IiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjxwb2x5bGluZSBwb2ludHM9IjggMTEgOCA4Ii8+Cjxwb2x5bGluZSBwb2ludHM9IjkgOCA2IDgiLz4KPGxpbmUgeDE9IjEwIiB5MT0iMTEiIHgyPSI2IiB5Mj0iMTEiLz4KPHJlY3QgeD0iOCIgeT0iNSIgd2lkdGg9IjAuMDEiIGhlaWdodD0iMC4wMSIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: royalblue;
}

.ace_icon_svg.ace_error_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSI+CiAgPHBhdGggZD0ibSAxOC45Mjk4NTEsNy44Mjk4MDc2IGMgMC4xNDYzNTMsNi4zMzc0NjA0IC02LjMyMzE0Nyw3Ljc3Nzg0NDQgLTcuNDc3OTEyLDcuNzc3ODQ0NCAtMi4xMDcyNzI2LC0wLjEyODc1IDUuMTE3Njc4LDAuMzU2MjQ5IDUuMDUxNjk4LC03Ljg3MDA2MTggLTAuNjA0NjcyLC04LjAwMzk3MzQ5IC03LjA3NzI3MDYsLTcuNTYzMTE4OSAtNC44NTczLC03LjQzMDM5NTU2IDEuNjA2LC0wLjExNTE0MjI1IDYuODk3NDg1LDEuMjYyNTQ1OTYgNy4yODM1MTQsNy41MjI2MTI5NiB6IiBmaWxsPSJjcmltc29uIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibSA4LjExNDc1NjIsMi4wNTI5ODI4IGMgMy4zNDkxNjk4LDAgNi4wNjQxMzI4LDIuNjc2ODYyNyA2LjA2NDEzMjgsNS45Nzg5NTMgMCwzLjMwMjExMjIgLTIuNzE0OTYzLDUuOTc4OTIwMiAtNi4wNjQxMzI4LDUuOTc4OTIwMiAtMy4zNDkxNDczLDAgLTYuMDY0MTc3MiwtMi42NzY4MDggLTYuMDY0MTc3MiwtNS45Nzg5MjAyIDAuMDA1MzksLTMuMjk5ODg2MSAyLjcxNzI2NTYsLTUuOTczNjQwOCA2LjA2NDE3NzIsLTUuOTc4OTUzIHogbSAwLC0xLjczNTgyNzE5IGMgLTQuMzIxNDgzNiwwIC03LjgyNDc0MDM4LDMuNDU0MDE4NDkgLTcuODI0NzQwMzgsNy43MTQ3ODAxOSAwLDQuMjYwNzI4MiAzLjUwMzI1Njc4LDcuNzE0NzQ1MiA3LjgyNDc0MDM4LDcuNzE0NzQ1MiA0LjMyMTQ0OTgsMCA3LjgyNDY5OTgsLTMuNDU0MDE3IDcuODI0Njk5OCwtNy43MTQ3NDUyIDAsLTIuMDQ2MDkxNCAtMC44MjQzOTIsLTQuMDA4MzY3MiAtMi4yOTE3NTYsLTUuNDU1MTc0NiBDIDEyLjE4MDIyNSwxLjEyOTk2NDggMTAuMTkwMDEzLDAuMzE3MTU1NjEgOC4xMTQ3NTYyLDAuMzE3MTU1NjEgWiBNIDYuOTM3NDU2Myw4LjI0MDU5ODUgNC42NzE4Njg1LDEwLjQ4NTg1MiA2LjAwODY4MTQsMTEuODc2NzI4IDguMzE3MDAzNSw5LjYwMDc5MTEgMTAuNjI1MzM3LDExLjg3NjcyOCAxMS45NjIxMzgsMTAuNDg1ODUyIDkuNjk2NTUwOCw4LjI0MDU5ODUgMTEuOTYyMTM4LDYuMDA2ODA2NiAxMC41NzMyNDYsNC42Mzc0MzM1IDguMzE3MDAzNSw2Ljg3MzQyOTcgNi4wNjA3NjA3LDQuNjM3NDMzNSA0LjY3MTg2ODUsNi4wMDY4MDY2IFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_warning_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC43NzY5IDE0LjczMzdMOC42NTE5MiAyLjQ4MzY5QzguMzI5NDYgMS44Mzg3NyA3LjQwOTEzIDEuODM4NzcgNy4wODY2NyAyLjQ4MzY5TDAuOTYxNjY5IDE0LjczMzdDMC42NzA3NzUgMTUuMzE1NSAxLjA5MzgzIDE2IDEuNzQ0MjkgMTZIMTMuOTk0M0MxNC42NDQ4IDE2IDE1LjA2NzggMTUuMzE1NSAxNC43NzY5IDE0LjczMzdaTTMuMTYwMDcgMTQuMjVMNy44NjkyOSA0LjgzMTU2TDEyLjU3ODUgMTQuMjVIMy4xNjAwN1pNOC43NDQyOSAxMS42MjVWMTMuMzc1SDYuOTk0MjlWMTEuNjI1SDguNzQ0MjlaTTYuOTk0MjkgMTAuNzVWNy4yNUg4Ljc0NDI5VjEwLjc1SDYuOTk0MjlaIiBmaWxsPSIjRUM3MjExIi8+CjxwYXRoIGQ9Ik0xMS4xOTkxIDIuOTUyMzhDMTAuODgwOSAyLjMxNDY3IDEwLjM1MzcgMS44MDUyNiA5LjcwNTUgMS41MDlMMTEuMDQxIDEuMDY5NzhDMTEuNjg4MyAwLjk0OTgxNCAxMi4zMzcgMS4yNzI2MyAxMi42MzE3IDEuODYxNDFMMTcuNjEzNiAxMS44MTYxQzE4LjM1MjcgMTMuMjkyOSAxNy41OTM4IDE1LjA4MDQgMTYuMDE4IDE1LjU3NDVDMTYuNDA0NCAxNC40NTA3IDE2LjMyMzEgMTMuMjE4OCAxNS43OTI0IDEyLjE1NTVMMTEuMTk5MSAyLjk1MjM4WiIgZmlsbD0iI0VDNzIxMSIvPgo8L3N2Zz4=");
    background-color: darkorange;
}

.ace_scrollbar {
    contain: strict;
    position: absolute;
    right: 0;
    bottom: 0;
    z-index: 6;
}

.ace_scrollbar-inner {
    position: absolute;
    cursor: text;
    left: 0;
    top: 0;
}

.ace_scrollbar-v{
    overflow-x: hidden;
    overflow-y: scroll;
    top: 0;
}

.ace_scrollbar-h {
    overflow-x: scroll;
    overflow-y: hidden;
    left: 0;
}

.ace_print-margin {
    position: absolute;
    height: 100%;
}

.ace_text-input {
    position: absolute;
    z-index: 0;
    width: 0.5em;
    height: 1em;
    opacity: 0;
    background: transparent;
    -moz-appearance: none;
    appearance: none;
    border: none;
    resize: none;
    outline: none;
    overflow: hidden;
    font: inherit;
    padding: 0 1px;
    margin: 0 -1px;
    contain: strict;
    -ms-user-select: text;
    -moz-user-select: text;
    -webkit-user-select: text;
    user-select: text;
    /*with \`pre-line\` chrome inserts &nbsp; instead of space*/
    white-space: pre!important;
}
.ace_text-input.ace_composition {
    background: transparent;
    color: inherit;
    z-index: 1000;
    opacity: 1;
}
.ace_composition_placeholder { color: transparent }
.ace_composition_marker { 
    border-bottom: 1px solid;
    position: absolute;
    border-radius: 0;
    margin-top: 1px;
}

[ace_nocontext=true] {
    transform: none!important;
    filter: none!important;
    clip-path: none!important;
    mask : none!important;
    contain: none!important;
    perspective: none!important;
    mix-blend-mode: initial!important;
    z-index: auto;
}

.ace_layer {
    z-index: 1;
    position: absolute;
    overflow: hidden;
    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/
    word-wrap: normal;
    white-space: pre;
    height: 100%;
    width: 100%;
    box-sizing: border-box;
    /* setting pointer-events: auto; on node under the mouse, which changes
        during scroll, will break mouse wheel scrolling in Safari */
    pointer-events: none;
}

.ace_gutter-layer {
    position: relative;
    width: auto;
    text-align: right;
    pointer-events: auto;
    height: 1000000px;
    contain: style size layout;
}

.ace_text-layer {
    font: inherit !important;
    position: absolute;
    height: 1000000px;
    width: 1000000px;
    contain: style size layout;
}

.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {
    contain: style size layout;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
}

.ace_hidpi .ace_text-layer,
.ace_hidpi .ace_gutter-layer,
.ace_hidpi .ace_content,
.ace_hidpi .ace_gutter {
    contain: strict;
}
.ace_hidpi .ace_text-layer > .ace_line, 
.ace_hidpi .ace_text-layer > .ace_line_group {
    contain: strict;
}

.ace_cjk {
    display: inline-block;
    text-align: center;
}

.ace_cursor-layer {
    z-index: 4;
}

.ace_cursor {
    z-index: 4;
    position: absolute;
    box-sizing: border-box;
    border-left: 2px solid;
    /* workaround for smooth cursor repaintng whole screen in chrome */
    transform: translatez(0);
}

.ace_multiselect .ace_cursor {
    border-left-width: 1px;
}

.ace_slim-cursors .ace_cursor {
    border-left-width: 1px;
}

.ace_overwrite-cursors .ace_cursor {
    border-left-width: 0;
    border-bottom: 1px solid;
}

.ace_hidden-cursors .ace_cursor {
    opacity: 0.2;
}

.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {
    opacity: 0;
}

.ace_smooth-blinking .ace_cursor {
    transition: opacity 0.18s;
}

.ace_animate-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: step-end;
    animation-name: blink-ace-animate;
    animation-iteration-count: infinite;
}

.ace_animate-blinking.ace_smooth-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: ease-in-out;
    animation-name: blink-ace-animate-smooth;
}
    
@keyframes blink-ace-animate {
    from, to { opacity: 1; }
    60% { opacity: 0; }
}

@keyframes blink-ace-animate-smooth {
    from, to { opacity: 1; }
    45% { opacity: 1; }
    60% { opacity: 0; }
    85% { opacity: 0; }
}

.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {
    position: absolute;
    z-index: 3;
}

.ace_marker-layer .ace_selection {
    position: absolute;
    z-index: 5;
}

.ace_marker-layer .ace_bracket {
    position: absolute;
    z-index: 6;
}

.ace_marker-layer .ace_error_bracket {
    position: absolute;
    border-bottom: 1px solid #DE5555;
    border-radius: 0;
}

.ace_marker-layer .ace_active-line {
    position: absolute;
    z-index: 2;
}

.ace_marker-layer .ace_selected-word {
    position: absolute;
    z-index: 4;
    box-sizing: border-box;
}

.ace_line .ace_fold {
    box-sizing: border-box;

    display: inline-block;
    height: 11px;
    margin-top: -2px;
    vertical-align: middle;

    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");
    background-repeat: no-repeat, repeat-x;
    background-position: center center, top left;
    color: transparent;

    border: 1px solid black;
    border-radius: 2px;

    cursor: pointer;
    pointer-events: auto;
}

.ace_dark .ace_fold {
}

.ace_fold:hover{
    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");
}

.ace_tooltip {
    background-color: #f5f5f5;
    border: 1px solid gray;
    border-radius: 1px;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    color: black;
    max-width: 100%;
    padding: 3px 4px;
    position: fixed;
    z-index: 999999;
    box-sizing: border-box;
    cursor: default;
    white-space: pre;
    word-wrap: break-word;
    line-height: normal;
    font-style: normal;
    font-weight: normal;
    letter-spacing: normal;
    pointer-events: none;
}

.ace_tooltip.ace_dark {
    background-color: #636363;
    color: #fff;
}

.ace_tooltip:focus {
    outline: 1px solid #5E9ED6;
}

.ace_icon {
    display: inline-block;
    width: 18px;
    vertical-align: top;
}

.ace_icon_svg {
    display: inline-block;
    width: 12px;
    vertical-align: top;
    -webkit-mask-repeat: no-repeat;
    -webkit-mask-size: 12px;
    -webkit-mask-position: center;
}

.ace_folding-enabled > .ace_gutter-cell, .ace_folding-enabled > .ace_gutter-cell_svg-icons {
    padding-right: 13px;
}

.ace_fold-widget {
    box-sizing: border-box;

    margin: 0 -12px 0 1px;
    display: none;
    width: 11px;
    vertical-align: top;

    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: center;

    border-radius: 3px;
    
    border: 1px solid transparent;
    cursor: pointer;
}

.ace_folding-enabled .ace_fold-widget {
    display: inline-block;   
}

.ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");
}

.ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");
}

.ace_fold-widget:hover {
    border: 1px solid rgba(0, 0, 0, 0.3);
    background-color: rgba(255, 255, 255, 0.2);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);
}

.ace_fold-widget:active {
    border: 1px solid rgba(0, 0, 0, 0.4);
    background-color: rgba(0, 0, 0, 0.05);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);
}
/**
 * Dark version for fold widgets
 */
.ace_dark .ace_fold-widget {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");
}
.ace_dark .ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget:hover {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
    background-color: rgba(255, 255, 255, 0.1);
}
.ace_dark .ace_fold-widget:active {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
}

.ace_inline_button {
    border: 1px solid lightgray;
    display: inline-block;
    margin: -1px 8px;
    padding: 0 5px;
    pointer-events: auto;
    cursor: pointer;
}
.ace_inline_button:hover {
    border-color: gray;
    background: rgba(200,200,200,0.2);
    display: inline-block;
    pointer-events: auto;
}

.ace_fold-widget.ace_invalid {
    background-color: #FFB4B4;
    border-color: #DE5555;
}

.ace_fade-fold-widgets .ace_fold-widget {
    transition: opacity 0.4s ease 0.05s;
    opacity: 0;
}

.ace_fade-fold-widgets:hover .ace_fold-widget {
    transition: opacity 0.05s ease 0.05s;
    opacity:1;
}

.ace_underline {
    text-decoration: underline;
}

.ace_bold {
    font-weight: bold;
}

.ace_nobold .ace_bold {
    font-weight: normal;
}

.ace_italic {
    font-style: italic;
}


.ace_error-marker {
    background-color: rgba(255, 0, 0,0.2);
    position: absolute;
    z-index: 9;
}

.ace_highlight-marker {
    background-color: rgba(255, 255, 0,0.2);
    position: absolute;
    z-index: 8;
}

.ace_mobile-menu {
    position: absolute;
    line-height: 1.5;
    border-radius: 4px;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    background: white;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #dcdcdc;
    color: black;
}
.ace_dark > .ace_mobile-menu {
    background: #333;
    color: #ccc;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #444;

}
.ace_mobile-button {
    padding: 2px;
    cursor: pointer;
    overflow: hidden;
}
.ace_mobile-button:hover {
    background-color: #eee;
    opacity:1;
}
.ace_mobile-button:active {
    background-color: #ddd;
}

.ace_placeholder {
    font-family: arial;
    transform: scale(0.9);
    transform-origin: left;
    white-space: pre;
    opacity: 0.7;
    margin: 0 10px;
}

.ace_ghost_text {
    opacity: 0.5;
    font-style: italic;
    white-space: pre;
}`,decorators={},dom$2=dom$k,oop$2=oop$i,EventEmitter$2=event_emitter.EventEmitter;let Decorator$1=class{constructor(e,t){this.canvas=dom$2.createElement("canvas"),this.renderer=t,this.pixelRatio=1,this.maxHeight=t.layerConfig.maxHeight,this.lineHeight=t.layerConfig.lineHeight,this.canvasHeight=e.parent.scrollHeight,this.heightRatio=this.canvasHeight/this.maxHeight,this.canvasWidth=e.width,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.canvas.style.top="0px",this.canvas.style.right="0px",this.canvas.style.zIndex="7px",this.canvas.style.position="absolute",this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},e.element.appendChild(this.canvas)}$updateDecorators(e){var t=this.renderer.theme.isDark===!0?this.colors.dark:this.colors.light;if(e){this.maxHeight=e.maxHeight,this.lineHeight=e.lineHeight,this.canvasHeight=e.height;var r=(e.lastRow+1)*this.lineHeight;r<this.canvasHeight?this.heightRatio=1:this.heightRatio=this.canvasHeight/this.maxHeight}var n=this.canvas.getContext("2d");function l(x,N){return x.priority<N.priority?-1:x.priority>N.priority?1:0}var a=this.renderer.session.$annotations;if(n.clearRect(0,0,this.canvas.width,this.canvas.height),a){var p={info:1,warning:2,error:3};a.forEach(function(x){x.priority=p[x.type]||null}),a=a.sort(l);var $=this.renderer.session.$foldData;for(let x=0;x<a.length;x++){let N=a[x].row,z=this.compensateFoldRows(N,$),he=Math.round((N-z)*this.lineHeight*this.heightRatio),X=Math.round((N-z)*this.lineHeight*this.heightRatio),ne=Math.round(((N-z)*this.lineHeight+this.lineHeight)*this.heightRatio);if(ne-X<this.minDecorationHeight){let ie=(X+ne)/2|0;ie<this.halfMinDecorationHeight?ie=this.halfMinDecorationHeight:ie+this.halfMinDecorationHeight>this.canvasHeight&&(ie=this.canvasHeight-this.halfMinDecorationHeight),X=Math.round(ie-this.halfMinDecorationHeight),ne=Math.round(ie+this.halfMinDecorationHeight)}n.fillStyle=t[a[x].type]||null,n.fillRect(0,he,this.canvasWidth,ne-X)}}var y=this.renderer.session.selection.getCursor();if(y){let x=this.compensateFoldRows(y.row,$),N=Math.round((y.row-x)*this.lineHeight*this.heightRatio);n.fillStyle="rgba(0, 0, 0, 0.5)",n.fillRect(0,N,this.canvasWidth,2)}}compensateFoldRows(e,t){let r=0;if(t&&t.length>0)for(let n=0;n<t.length;n++)e>t[n].start.row&&e<t[n].end.row?r+=e-t[n].start.row:e>=t[n].end.row&&(r+=t[n].end.row-t[n].start.row);return r}};oop$2.implement(Decorator$1.prototype,EventEmitter$2);decorators.Decorator=Decorator$1;var oop$1=oop$i,dom$1=dom$k,lang=lang$e,config=configExports,GutterLayer=gutter.Gutter,MarkerLayer=marker.Marker,TextLayer=text.Text,CursorLayer=cursor.Cursor,HScrollBar=scrollbar.HScrollBar,VScrollBar=scrollbar.VScrollBar,HScrollBarCustom=scrollbar_custom.HScrollBar,VScrollBarCustom=scrollbar_custom.VScrollBar,RenderLoop=renderloop.RenderLoop,FontMetrics=font_metrics.FontMetrics,EventEmitter$1=event_emitter.EventEmitter,editorCss=editorCss$1,Decorator=decorators.Decorator,useragent$1=useragent$a;dom$1.importCssString(editorCss,"ace_editor.css",!1);class VirtualRenderer{constructor(e,t){var r=this;this.container=e||dom$1.createElement("div"),dom$1.addCssClass(this.container,"ace_editor"),dom$1.HI_DPI&&dom$1.addCssClass(this.container,"ace_hidpi"),this.setTheme(t),config.get("useStrictCSP")==null&&config.set("useStrictCSP",!1),this.$gutter=dom$1.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden",!0),this.scroller=dom$1.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=dom$1.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new GutterLayer(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new MarkerLayer(this.content);var n=this.$textLayer=new TextLayer(this.content);this.canvas=n.element,this.$markerFront=new MarkerLayer(this.content),this.$cursorLayer=new CursorLayer(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new VScrollBar(this.container,this),this.scrollBarH=new HScrollBar(this.container,this),this.scrollBarV.on("scroll",function(l){r.$scrollAnimation||r.session.setScrollTop(l.data-r.scrollMargin.top)}),this.scrollBarH.on("scroll",function(l){r.$scrollAnimation||r.session.setScrollLeft(l.data-r.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new FontMetrics(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",function(l){r.updateCharacterSize(),r.onResize(!0,r.gutterWidth,r.$size.width,r.$size.height),r._signal("changeCharacterSize",l)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!useragent$1.isIOS,this.$loop=new RenderLoop(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),this.$addResizeObserver(),config.resetOptions(this),config._signal("renderer",this)}updateCharacterSize(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),dom$1.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")}setSession(e){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=e,e&&this.scrollMargin.top&&e.getScrollTop()<=0&&e.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(e),this.$markerBack.setSession(e),this.$markerFront.setSession(e),this.$gutterLayer.setSession(e),this.$textLayer.setSession(e),e&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))}updateLines(e,t,r){if(t===void 0&&(t=1/0),this.$changedLines?(this.$changedLines.firstRow>e&&(this.$changedLines.firstRow=e),this.$changedLines.lastRow<t&&(this.$changedLines.lastRow=t)):this.$changedLines={firstRow:e,lastRow:t},this.$changedLines.lastRow<this.layerConfig.firstRow)if(r)this.$changedLines.lastRow=this.layerConfig.lastRow;else return;this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)}onChangeNewLineMode(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)}onChangeTabSize(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()}updateText(){this.$loop.schedule(this.CHANGE_TEXT)}updateFull(e){e?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)}updateFontSize(){this.$textLayer.checkForSizeChanges()}$updateSizeAsync(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()}onResize(e,t,r,n){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=e?1:0;var l=this.container;n||(n=l.clientHeight||l.scrollHeight),r||(r=l.clientWidth||l.scrollWidth);var a=this.$updateCachedSize(e,t,r,n);if(this.$resizeTimer&&this.$resizeTimer.cancel(),!this.$size.scrollerHeight||!r&&!n)return this.resizing=0;e&&(this.$gutterLayer.$padding=null),e?this.$renderChanges(a|this.$changes,!0):this.$loop.schedule(a|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}}$updateCachedSize(e,t,r,n){n-=this.$extraHeight||0;var l=0,a=this.$size,p={width:a.width,height:a.height,scrollerHeight:a.scrollerHeight,scrollerWidth:a.scrollerWidth};if(n&&(e||a.height!=n)&&(a.height=n,l|=this.CHANGE_SIZE,a.scrollerHeight=a.height,this.$horizScroll&&(a.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(a.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",l=l|this.CHANGE_SCROLL),r&&(e||a.width!=r)){l|=this.CHANGE_SIZE,a.width=r,t==null&&(t=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=t,dom$1.setStyle(this.scrollBarH.element.style,"left",t+"px"),dom$1.setStyle(this.scroller.style,"left",t+this.margin.left+"px"),a.scrollerWidth=Math.max(0,r-t-this.scrollBarV.getWidth()-this.margin.h),dom$1.setStyle(this.$gutter.style,"left",this.margin.left+"px");var $=this.scrollBarV.getWidth()+"px";dom$1.setStyle(this.scrollBarH.element.style,"right",$),dom$1.setStyle(this.scroller.style,"right",$),dom$1.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(a.scrollerWidth),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||e)&&(l|=this.CHANGE_FULL)}return a.$dirty=!r||!n,l&&this._signal("resize",p),l}onGutterResize(e){var t=this.$showGutter?e:0;t!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,t,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()}adjustWrapLimit(){var e=this.$size.scrollerWidth-this.$padding*2,t=Math.floor(e/this.characterWidth);return this.session.adjustWrapLimit(t,this.$showPrintMargin&&this.$printMarginColumn)}setAnimatedScroll(e){this.setOption("animatedScroll",e)}getAnimatedScroll(){return this.$animatedScroll}setShowInvisibles(e){this.setOption("showInvisibles",e),this.session.$bidiHandler.setShowInvisibles(e)}getShowInvisibles(){return this.getOption("showInvisibles")}getDisplayIndentGuides(){return this.getOption("displayIndentGuides")}setDisplayIndentGuides(e){this.setOption("displayIndentGuides",e)}getHighlightIndentGuides(){return this.getOption("highlightIndentGuides")}setHighlightIndentGuides(e){this.setOption("highlightIndentGuides",e)}setShowPrintMargin(e){this.setOption("showPrintMargin",e)}getShowPrintMargin(){return this.getOption("showPrintMargin")}setPrintMarginColumn(e){this.setOption("printMarginColumn",e)}getPrintMarginColumn(){return this.getOption("printMarginColumn")}getShowGutter(){return this.getOption("showGutter")}setShowGutter(e){return this.setOption("showGutter",e)}getFadeFoldWidgets(){return this.getOption("fadeFoldWidgets")}setFadeFoldWidgets(e){this.setOption("fadeFoldWidgets",e)}setHighlightGutterLine(e){this.setOption("highlightGutterLine",e)}getHighlightGutterLine(){return this.getOption("highlightGutterLine")}$updatePrintMargin(){if(!(!this.$showPrintMargin&&!this.$printMarginEl)){if(!this.$printMarginEl){var e=dom$1.createElement("div");e.className="ace_layer ace_print-margin-layer",this.$printMarginEl=dom$1.createElement("div"),this.$printMarginEl.className="ace_print-margin",e.appendChild(this.$printMarginEl),this.content.insertBefore(e,this.content.firstChild)}var t=this.$printMarginEl.style;t.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",t.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&this.session.$wrap==-1&&this.adjustWrapLimit()}}getContainerElement(){return this.container}getMouseEventTarget(){return this.scroller}getTextAreaContainer(){return this.container}$moveTextAreaToCursor(){if(!this.$isMousePressed){var e=this.textarea.style,t=this.$composition;if(!this.$keepTextAreaAtCursor&&!t){dom$1.translate(this.textarea,-100,0);return}var r=this.$cursorLayer.$pixelPos;if(r){t&&t.markerRange&&(r=this.$cursorLayer.getPixelPosition(t.markerRange.start,!0));var n=this.layerConfig,l=r.top,a=r.left;l-=n.offset;var p=t&&t.useTextareaForIME||useragent$1.isMobile?this.lineHeight:1;if(l<0||l>n.height-p){dom$1.translate(this.textarea,0,0);return}var $=1,y=this.$size.height-p;if(!t)l+=this.lineHeight;else if(t.useTextareaForIME){var x=this.textarea.value;$=this.characterWidth*this.session.$getStringScreenWidth(x)[0]}else l+=this.lineHeight+2;a-=this.scrollLeft,a>this.$size.scrollerWidth-$&&(a=this.$size.scrollerWidth-$),a+=this.gutterWidth+this.margin.left,dom$1.setStyle(e,"height",p+"px"),dom$1.setStyle(e,"width",$+"px"),dom$1.translate(this.textarea,Math.min(a,this.$size.scrollerWidth-$),Math.min(l,y))}}}getFirstVisibleRow(){return this.layerConfig.firstRow}getFirstFullyVisibleRow(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1)}getLastFullyVisibleRow(){var e=this.layerConfig,t=e.lastRow,r=this.session.documentToScreenRow(t,0)*e.lineHeight;return r-this.session.getScrollTop()>e.height-e.lineHeight?t-1:t}getLastVisibleRow(){return this.layerConfig.lastRow}setPadding(e){this.$padding=e,this.$textLayer.setPadding(e),this.$cursorLayer.setPadding(e),this.$markerFront.setPadding(e),this.$markerBack.setPadding(e),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()}setScrollMargin(e,t,r,n){var l=this.scrollMargin;l.top=e|0,l.bottom=t|0,l.right=n|0,l.left=r|0,l.v=l.top+l.bottom,l.h=l.left+l.right,l.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-l.top),this.updateFull()}setMargin(e,t,r,n){var l=this.margin;l.top=e|0,l.bottom=t|0,l.right=n|0,l.left=r|0,l.v=l.top+l.bottom,l.h=l.left+l.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()}getHScrollBarAlwaysVisible(){return this.$hScrollBarAlwaysVisible}setHScrollBarAlwaysVisible(e){this.setOption("hScrollBarAlwaysVisible",e)}getVScrollBarAlwaysVisible(){return this.$vScrollBarAlwaysVisible}setVScrollBarAlwaysVisible(e){this.setOption("vScrollBarAlwaysVisible",e)}$updateScrollBarV(){var e=this.layerConfig.maxHeight,t=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(e-=(t-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>e-t&&(e=this.scrollTop+t,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(e+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)}$updateScrollBarH(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)}freeze(){this.$frozen=!0}unfreeze(){this.$frozen=!1}$renderChanges(e,t){if(this.$changes&&(e|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!e&&!t){this.$changes|=e;return}if(this.$size.$dirty)return this.$changes|=e,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",e),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var r=this.layerConfig;if(e&this.CHANGE_FULL||e&this.CHANGE_SIZE||e&this.CHANGE_TEXT||e&this.CHANGE_LINES||e&this.CHANGE_SCROLL||e&this.CHANGE_H_SCROLL){if(e|=this.$computeLayerConfig()|this.$loop.clear(),r.firstRow!=this.layerConfig.firstRow&&r.firstRowScreen==this.layerConfig.firstRowScreen){var n=this.scrollTop+(r.firstRow-Math.max(this.layerConfig.firstRow,0))*this.lineHeight;n>0&&(this.scrollTop=n,e=e|this.CHANGE_SCROLL,e|=this.$computeLayerConfig()|this.$loop.clear())}r=this.layerConfig,this.$updateScrollBarV(),e&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),dom$1.translate(this.content,-this.scrollLeft,-r.offset);var l=r.width+2*this.$padding+"px",a=r.minHeight+"px";dom$1.setStyle(this.content.style,"width",l),dom$1.setStyle(this.content.style,"height",a)}if(e&this.CHANGE_H_SCROLL&&(dom$1.translate(this.content,-this.scrollLeft,-r.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller ":"ace_scroller ace_scroll-left ",this.enableKeyboardAccessibility&&(this.scroller.className+=this.keyboardFocusClassName)),e&this.CHANGE_FULL){this.$changedLines=null,this.$textLayer.update(r),this.$showGutter&&this.$gutterLayer.update(r),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(r),this.$markerBack.update(r),this.$markerFront.update(r),this.$cursorLayer.update(r),this.$moveTextAreaToCursor(),this._signal("afterRender",e);return}if(e&this.CHANGE_SCROLL){this.$changedLines=null,e&this.CHANGE_TEXT||e&this.CHANGE_LINES?this.$textLayer.update(r):this.$textLayer.scrollLines(r),this.$showGutter&&(e&this.CHANGE_GUTTER||e&this.CHANGE_LINES?this.$gutterLayer.update(r):this.$gutterLayer.scrollLines(r)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(r),this.$markerBack.update(r),this.$markerFront.update(r),this.$cursorLayer.update(r),this.$moveTextAreaToCursor(),this._signal("afterRender",e);return}e&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(r),this.$showGutter&&this.$gutterLayer.update(r),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(r)):e&this.CHANGE_LINES?((this.$updateLines()||e&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(r),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(r)):e&this.CHANGE_TEXT||e&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(r),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(r)):e&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(r),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(r)),e&this.CHANGE_CURSOR&&(this.$cursorLayer.update(r),this.$moveTextAreaToCursor()),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(r),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(r),this._signal("afterRender",e)}$autosize(){var e=this.session.getScreenLength()*this.lineHeight,t=this.$maxLines*this.lineHeight,r=Math.min(t,Math.max((this.$minLines||1)*this.lineHeight,e))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(r+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&r>this.$maxPixelHeight&&(r=this.$maxPixelHeight);var n=r<=2*this.lineHeight,l=!n&&e>t;if(r!=this.desiredHeight||this.$size.height!=this.desiredHeight||l!=this.$vScroll){l!=this.$vScroll&&(this.$vScroll=l,this.scrollBarV.setVisible(l));var a=this.container.clientWidth;this.container.style.height=r+"px",this.$updateCachedSize(!0,this.$gutterWidth,a,r),this.desiredHeight=r,this._signal("autosize")}}$computeLayerConfig(){var e=this.session,t=this.$size,r=t.height<=2*this.lineHeight,n=this.session.getScreenLength(),l=n*this.lineHeight,a=this.$getLongestLine(),p=!r&&(this.$hScrollBarAlwaysVisible||t.scrollerWidth-a-2*this.$padding<0),$=this.$horizScroll!==p;$&&(this.$horizScroll=p,this.scrollBarH.setVisible(p));var y=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var x=t.scrollerHeight+this.lineHeight,N=!this.$maxLines&&this.$scrollPastEnd?(t.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;l+=N;var z=this.scrollMargin;this.session.setScrollTop(Math.max(-z.top,Math.min(this.scrollTop,l-t.scrollerHeight+z.bottom))),this.session.setScrollLeft(Math.max(-z.left,Math.min(this.scrollLeft,a+2*this.$padding-t.scrollerWidth+z.right)));var he=!r&&(this.$vScrollBarAlwaysVisible||t.scrollerHeight-l+N<0||this.scrollTop>z.top),X=y!==he;X&&(this.$vScroll=he,this.scrollBarV.setVisible(he));var ne=this.scrollTop%this.lineHeight,Q=Math.ceil(x/this.lineHeight)-1,ie=Math.max(0,Math.round((this.scrollTop-ne)/this.lineHeight)),ae=ie+Q,ce,ue,de=this.lineHeight;ie=e.screenToDocumentRow(ie,0);var fe=e.getFoldLine(ie);fe&&(ie=fe.start.row),ce=e.documentToScreenRow(ie,0),ue=e.getRowLength(ie)*de,ae=Math.min(e.screenToDocumentRow(ae,0),e.getLength()-1),x=t.scrollerHeight+e.getRowLength(ae)*de+ue,ne=this.scrollTop-ce*de;var Oe=0;return(this.layerConfig.width!=a||$)&&(Oe=this.CHANGE_H_SCROLL),($||X)&&(Oe|=this.$updateCachedSize(!0,this.gutterWidth,t.width,t.height),this._signal("scrollbarVisibilityChanged"),X&&(a=this.$getLongestLine())),this.layerConfig={width:a,padding:this.$padding,firstRow:ie,firstRowScreen:ce,lastRow:ae,lineHeight:de,characterWidth:this.characterWidth,minHeight:x,maxHeight:l,offset:ne,gutterOffset:de?Math.max(0,Math.ceil((ne+t.height-t.scrollerHeight)/de)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(a-this.$padding),Oe}$updateLines(){if(this.$changedLines){var e=this.$changedLines.firstRow,t=this.$changedLines.lastRow;this.$changedLines=null;var r=this.layerConfig;if(!(e>r.lastRow+1)&&!(t<r.firstRow)){if(t===1/0){this.$showGutter&&this.$gutterLayer.update(r),this.$textLayer.update(r);return}return this.$textLayer.updateLines(r,e,t),!0}}}$getLongestLine(){var e=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(e+=1),this.$textLayer&&e>this.$textLayer.MAX_LINE_LENGTH&&(e=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(e*this.characterWidth))}updateFrontMarkers(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)}updateBackMarkers(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)}addGutterDecoration(e,t){this.$gutterLayer.addGutterDecoration(e,t)}removeGutterDecoration(e,t){this.$gutterLayer.removeGutterDecoration(e,t)}updateBreakpoints(e){this.$loop.schedule(this.CHANGE_GUTTER)}setAnnotations(e){this.$gutterLayer.setAnnotations(e),this.$loop.schedule(this.CHANGE_GUTTER)}updateCursor(){this.$loop.schedule(this.CHANGE_CURSOR)}hideCursor(){this.$cursorLayer.hideCursor()}showCursor(){this.$cursorLayer.showCursor()}scrollSelectionIntoView(e,t,r){this.scrollCursorIntoView(e,r),this.scrollCursorIntoView(t,r)}scrollCursorIntoView(e,t,r){if(this.$size.scrollerHeight!==0){var n=this.$cursorLayer.getPixelPosition(e),l=n.left,a=n.top,p=r&&r.top||0,$=r&&r.bottom||0;this.$scrollAnimation&&(this.$stopAnimation=!0);var y=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;y+p>a?(t&&y+p>a+this.lineHeight&&(a-=t*this.$size.scrollerHeight),a===0&&(a=-this.scrollMargin.top),this.session.setScrollTop(a)):y+this.$size.scrollerHeight-$<a+this.lineHeight&&(t&&y+this.$size.scrollerHeight-$<a-this.lineHeight&&(a+=t*this.$size.scrollerHeight),this.session.setScrollTop(a+this.lineHeight+$-this.$size.scrollerHeight));var x=this.scrollLeft,N=2*this.layerConfig.characterWidth;l-N<x?(l-=N,l<this.$padding+N&&(l=-this.scrollMargin.left),this.session.setScrollLeft(l)):(l+=N,x+this.$size.scrollerWidth<l+this.characterWidth?this.session.setScrollLeft(Math.round(l+this.characterWidth-this.$size.scrollerWidth)):x<=this.$padding&&l-x<this.characterWidth&&this.session.setScrollLeft(0))}}getScrollTop(){return this.session.getScrollTop()}getScrollLeft(){return this.session.getScrollLeft()}getScrollTopRow(){return this.scrollTop/this.lineHeight}getScrollBottomRow(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)}scrollToRow(e){this.session.setScrollTop(e*this.lineHeight)}alignCursor(e,t){typeof e=="number"&&(e={row:e,column:0});var r=this.$cursorLayer.getPixelPosition(e),n=this.$size.scrollerHeight-this.lineHeight,l=r.top-n*(t||0);return this.session.setScrollTop(l),l}$calcSteps(e,t){var r=0,n=this.STEPS,l=[],a=function(p,$,y){return y*(Math.pow(p-1,3)+1)+$};for(r=0;r<n;++r)l.push(a(r/this.STEPS,e,t-e));return l}scrollToLine(e,t,r,n){var l=this.$cursorLayer.getPixelPosition({row:e,column:0}),a=l.top;t&&(a-=this.$size.scrollerHeight/2);var p=this.scrollTop;this.session.setScrollTop(a),r!==!1&&this.animateScrolling(p,n)}animateScrolling(e,t){var r=this.scrollTop;if(!this.$animatedScroll)return;var n=this;if(e==r)return;if(this.$scrollAnimation){var l=this.$scrollAnimation.steps;if(l.length&&(e=l[0],e==r))return}var a=n.$calcSteps(e,r);this.$scrollAnimation={from:e,to:r,steps:a},clearInterval(this.$timer),n.session.setScrollTop(a.shift()),n.session.$scrollTop=r;function p(){n.$timer=clearInterval(n.$timer),n.$scrollAnimation=null,n.$stopAnimation=!1,t&&t()}this.$timer=setInterval(function(){if(n.$stopAnimation){p();return}if(!n.session)return clearInterval(n.$timer);a.length?(n.session.setScrollTop(a.shift()),n.session.$scrollTop=r):r!=null?(n.session.$scrollTop=-1,n.session.setScrollTop(r),r=null):p()},10)}scrollToY(e){this.scrollTop!==e&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=e)}scrollToX(e){this.scrollLeft!==e&&(this.scrollLeft=e),this.$loop.schedule(this.CHANGE_H_SCROLL)}scrollTo(e,t){this.session.setScrollTop(t),this.session.setScrollLeft(e)}scrollBy(e,t){t&&this.session.setScrollTop(this.session.getScrollTop()+t),e&&this.session.setScrollLeft(this.session.getScrollLeft()+e)}isScrollableBy(e,t){if(t<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||t>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||e<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||e>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return!0}pixelToScreenCoordinates(e,t){var r;if(this.$hasCssTransforms){r={top:0,left:0};var n=this.$fontMetrics.transformCoordinates([e,t]);e=n[1]-this.gutterWidth-this.margin.left,t=n[0]}else r=this.scroller.getBoundingClientRect();var l=e+this.scrollLeft-r.left-this.$padding,a=l/this.characterWidth,p=Math.floor((t+this.scrollTop-r.top)/this.lineHeight),$=this.$blockCursor?Math.floor(a):Math.round(a);return{row:p,column:$,side:a-$>0?1:-1,offsetX:l}}screenToTextCoordinates(e,t){var r;if(this.$hasCssTransforms){r={top:0,left:0};var n=this.$fontMetrics.transformCoordinates([e,t]);e=n[1]-this.gutterWidth-this.margin.left,t=n[0]}else r=this.scroller.getBoundingClientRect();var l=e+this.scrollLeft-r.left-this.$padding,a=l/this.characterWidth,p=this.$blockCursor?Math.floor(a):Math.round(a),$=Math.floor((t+this.scrollTop-r.top)/this.lineHeight);return this.session.screenToDocumentPosition($,Math.max(p,0),l)}textToScreenCoordinates(e,t){var r=this.scroller.getBoundingClientRect(),n=this.session.documentToScreenPosition(e,t),l=this.$padding+(this.session.$bidiHandler.isBidiRow(n.row,e)?this.session.$bidiHandler.getPosLeft(n.column):Math.round(n.column*this.characterWidth)),a=n.row*this.lineHeight;return{pageX:r.left+l-this.scrollLeft,pageY:r.top+a-this.scrollTop}}visualizeFocus(){dom$1.addCssClass(this.container,"ace_focus")}visualizeBlur(){dom$1.removeCssClass(this.container,"ace_focus")}showComposition(e){this.$composition=e,e.cssText||(e.cssText=this.textarea.style.cssText),e.useTextareaForIME==null&&(e.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(dom$1.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):e.markerId=this.session.addMarker(e.markerRange,"ace_composition_marker","text")}setCompositionText(e){var t=this.session.selection.cursor;this.addToken(e,"composition_placeholder",t.row,t.column),this.$moveTextAreaToCursor()}hideComposition(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),dom$1.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var e=this.session.selection.cursor;this.removeExtraToken(e.row,e.column),this.$composition=null,this.$cursorLayer.element.style.display=""}}setGhostText(e,t){var r=this.session.selection.cursor,n=t||{row:r.row,column:r.column};this.removeGhostText();var l=e.split(`
`);this.addToken(l[0],"ghost_text",n.row,n.column),this.$ghostText={text:e,position:{row:n.row,column:n.column}},l.length>1&&(this.$ghostTextWidget={text:l.slice(1).join(`
`),row:n.row,column:n.column,className:"ace_ghost_text"},this.session.widgetManager.addLineWidget(this.$ghostTextWidget))}removeGhostText(){if(this.$ghostText){var e=this.$ghostText.position;this.removeExtraToken(e.row,e.column),this.$ghostTextWidget&&(this.session.widgetManager.removeLineWidget(this.$ghostTextWidget),this.$ghostTextWidget=null),this.$ghostText=null}}addToken(e,t,r,n){var l=this.session;l.bgTokenizer.lines[r]=null;var a={type:t,value:e},p=l.getTokens(r);if(n==null||!p.length)p.push(a);else for(var $=0,y=0;y<p.length;y++){var x=p[y];if($+=x.value.length,n<=$){var N=x.value.length-($-n),z=x.value.slice(0,N),he=x.value.slice(N);p.splice(y,1,{type:x.type,value:z},a,{type:x.type,value:he});break}}this.updateLines(r,r)}removeExtraToken(e,t){this.session.bgTokenizer.lines[e]=null,this.updateLines(e,e)}setTheme(e,t){var r=this;if(this.$themeId=e,r._dispatchEvent("themeChange",{theme:e}),!e||typeof e=="string"){var n=e||this.$options.theme.initialValue;config.loadModule(["theme",n],l)}else l(e);function l(a){if(r.$themeId!=e)return t&&t();if(!a||!a.cssClass)throw new Error("couldn't load module "+e+" or it didn't call define");a.$id&&(r.$themeId=a.$id),dom$1.importCssString(a.cssText,a.cssClass,r.container),r.theme&&dom$1.removeCssClass(r.container,r.theme.cssClass);var p="padding"in a?a.padding:"padding"in(r.theme||{})?4:r.$padding;r.$padding&&p!=r.$padding&&r.setPadding(p),r.$theme=a.cssClass,r.theme=a,dom$1.addCssClass(r.container,a.cssClass),dom$1.setCssClass(r.container,"ace_dark",a.isDark),r.$size&&(r.$size.width=0,r.$updateSizeAsync()),r._dispatchEvent("themeLoaded",{theme:a}),t&&t()}}getTheme(){return this.$themeId}setStyle(e,t){dom$1.setCssClass(this.container,e,t!==!1)}unsetStyle(e){dom$1.removeCssClass(this.container,e)}setCursorStyle(e){dom$1.setStyle(this.scroller.style,"cursor",e)}setMouseCursor(e){dom$1.setStyle(this.scroller.style,"cursor",e)}attachToShadowRoot(){dom$1.importCssString(editorCss,"ace_editor.css",this.container)}destroy(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent="",this.setOption("useResizeObserver",!1)}$updateCustomScrollbar(e){var t=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),this.$scrollDecorator&&delete this.$scrollDecorator,e===!0?(this.scrollBarV=new VScrollBarCustom(this.container,this),this.scrollBarH=new HScrollBarCustom(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",function(r){t.$scrollAnimation||t.session.setScrollTop(r.data-t.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(r){t.$scrollAnimation||t.session.setScrollLeft(r.data-t.scrollMargin.left)}),this.$scrollDecorator=new Decorator(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators()):(this.scrollBarV=new VScrollBar(this.container,this),this.scrollBarH=new HScrollBar(this.container,this),this.scrollBarV.addEventListener("scroll",function(r){t.$scrollAnimation||t.session.setScrollTop(r.data-t.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(r){t.$scrollAnimation||t.session.setScrollLeft(r.data-t.scrollMargin.left)}))}$addResizeObserver(){if(!(!window.ResizeObserver||this.$resizeObserver)){var e=this;this.$resizeTimer=lang.delayedCall(function(){e.destroyed||e.onResize()},50),this.$resizeObserver=new window.ResizeObserver(function(t){var r=t[0].contentRect.width,n=t[0].contentRect.height;Math.abs(e.$size.width-r)>1||Math.abs(e.$size.height-n)>1?e.$resizeTimer.delay():e.$resizeTimer.cancel()}),this.$resizeObserver.observe(this.container)}}}VirtualRenderer.prototype.CHANGE_CURSOR=1;VirtualRenderer.prototype.CHANGE_MARKER=2;VirtualRenderer.prototype.CHANGE_GUTTER=4;VirtualRenderer.prototype.CHANGE_SCROLL=8;VirtualRenderer.prototype.CHANGE_LINES=16;VirtualRenderer.prototype.CHANGE_TEXT=32;VirtualRenderer.prototype.CHANGE_SIZE=64;VirtualRenderer.prototype.CHANGE_MARKER_BACK=128;VirtualRenderer.prototype.CHANGE_MARKER_FRONT=256;VirtualRenderer.prototype.CHANGE_FULL=512;VirtualRenderer.prototype.CHANGE_H_SCROLL=1024;VirtualRenderer.prototype.$changes=0;VirtualRenderer.prototype.$padding=null;VirtualRenderer.prototype.$frozen=!1;VirtualRenderer.prototype.STEPS=8;oop$1.implement(VirtualRenderer.prototype,EventEmitter$1);config.defineOptions(VirtualRenderer.prototype,"renderer",{useResizeObserver:{set:function(s){!s&&this.$resizeObserver?(this.$resizeObserver.disconnect(),this.$resizeTimer.cancel(),this.$resizeTimer=this.$resizeObserver=null):s&&!this.$resizeObserver&&this.$addResizeObserver()}},animatedScroll:{initialValue:!1},showInvisibles:{set:function(s){this.$textLayer.setShowInvisibles(s)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(s){typeof s=="number"&&(this.$printMarginColumn=s),this.$showPrintMargin=!!s,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(s){this.$gutter.style.display=s?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},useSvgGutterIcons:{set:function(s){this.$gutterLayer.$useSvgGutterIcons=s},initialValue:!1},showFoldedAnnotations:{set:function(s){this.$gutterLayer.$showFoldedAnnotations=s},initialValue:!1},fadeFoldWidgets:{set:function(s){dom$1.setCssClass(this.$gutter,"ace_fade-fold-widgets",s)},initialValue:!1},showFoldWidgets:{set:function(s){this.$gutterLayer.setShowFoldWidgets(s),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(s){this.$textLayer.setDisplayIndentGuides(s)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(s){this.$textLayer.setHighlightIndentGuides(s)==!0?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(s){this.$gutterLayer.setHighlightGutterLine(s),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(s){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(s){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(s){typeof s=="number"&&(s=s+"px"),this.container.style.fontSize=s,this.updateFontSize()},initialValue:12},fontFamily:{set:function(s){this.container.style.fontFamily=s,this.updateFontSize()}},maxLines:{set:function(s){this.updateFull()}},minLines:{set:function(s){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(s){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(s){s=+s||0,this.$scrollPastEnd!=s&&(this.$scrollPastEnd=s,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(s){this.$gutterLayer.$fixedWidth=!!s,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(s){this.$updateCustomScrollbar(s)},initialValue:!1},theme:{set:function(s){this.setTheme(s)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!useragent$1.isMobile&&!useragent$1.isIE}});virtual_renderer.VirtualRenderer=VirtualRenderer;var Range$1=range.Range,EventEmitter=event_emitter.EventEmitter,oop=oop$i;class PlaceHolder{constructor(e,t,r,n,l,a){var p=this;this.length=t,this.session=e,this.doc=e.getDocument(),this.mainClass=l,this.othersClass=a,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=n,this.$onCursorChange=function(){setTimeout(function(){p.onCursorChange()})},this.$pos=r;var $=e.getUndoManager().$undoStack||e.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=$.length,this.setup(),e.selection.on("changeCursor",this.$onCursorChange)}setup(){var e=this,t=this.doc,r=this.session;this.selectionBefore=r.selection.toJSON(),r.selection.inMultiSelectMode&&r.selection.toSingleRange(),this.pos=t.createAnchor(this.$pos.row,this.$pos.column);var n=this.pos;n.$insertRight=!0,n.detach(),n.markerId=r.addMarker(new Range$1(n.row,n.column,n.row,n.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(l){var a=t.createAnchor(l.row,l.column);a.$insertRight=!0,a.detach(),e.others.push(a)}),r.setUndoSelect(!1)}showOtherMarkers(){if(!this.othersActive){var e=this.session,t=this;this.othersActive=!0,this.others.forEach(function(r){r.markerId=e.addMarker(new Range$1(r.row,r.column,r.row,r.column+t.length),t.othersClass,null,!1)})}}hideOtherMarkers(){if(this.othersActive){this.othersActive=!1;for(var e=0;e<this.others.length;e++)this.session.removeMarker(this.others[e].markerId)}}onUpdate(e){if(this.$updating)return this.updateAnchors(e);var t=e;if(t.start.row===t.end.row&&t.start.row===this.pos.row){this.$updating=!0;var r=e.action==="insert"?t.end.column-t.start.column:t.start.column-t.end.column,n=t.start.column>=this.pos.column&&t.start.column<=this.pos.column+this.length+1,l=t.start.column-this.pos.column;if(this.updateAnchors(e),n&&(this.length+=r),n&&!this.session.$fromUndo){if(e.action==="insert")for(var a=this.others.length-1;a>=0;a--){var p=this.others[a],$={row:p.row,column:p.column+l};this.doc.insertMergedLines($,e.lines)}else if(e.action==="remove")for(var a=this.others.length-1;a>=0;a--){var p=this.others[a],$={row:p.row,column:p.column+l};this.doc.remove(new Range$1($.row,$.column,$.row,$.column-r))}}this.$updating=!1,this.updateMarkers()}}updateAnchors(e){this.pos.onChange(e);for(var t=this.others.length;t--;)this.others[t].onChange(e);this.updateMarkers()}updateMarkers(){if(!this.$updating){var e=this,t=this.session,r=function(l,a){t.removeMarker(l.markerId),l.markerId=t.addMarker(new Range$1(l.row,l.column,l.row,l.column+e.length),a,null,!1)};r(this.pos,this.mainClass);for(var n=this.others.length;n--;)r(this.others[n],this.othersClass)}}onCursorChange(e){if(!(this.$updating||!this.session)){var t=this.session.selection.getCursor();t.row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",e)):(this.hideOtherMarkers(),this._emit("cursorLeave",e))}}detach(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null}cancel(){if(this.$undoStackDepth!==-1){for(var e=this.session.getUndoManager(),t=(e.$undoStack||e.$undostack).length-this.$undoStackDepth,r=0;r<t;r++)e.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}oop.implement(PlaceHolder.prototype,EventEmitter);var multi_select={},multi_select_handler={},event=event$c,useragent=useragent$a;function isSamePoint(s,e){return s.row==e.row&&s.column==e.column}function onMouseDown(s){var e=s.domEvent,t=e.altKey,r=e.shiftKey,n=e.ctrlKey,l=s.getAccelKey(),a=s.getButton();if(n&&useragent.isMac&&(a=e.button),s.editor.inMultiSelectMode&&a==2){s.editor.textInput.onContextMenu(s.domEvent);return}if(!n&&!t&&!l){a===0&&s.editor.inMultiSelectMode&&s.editor.exitMultiSelectMode();return}if(a===0){var p=s.editor,$=p.selection,y=p.inMultiSelectMode,x=s.getDocumentPosition(),N=$.getCursor(),z=s.inSelection()||$.isEmpty()&&isSamePoint(x,N),he=s.x,X=s.y,ne=function(me){he=me.clientX,X=me.clientY},Q=p.session,ie=p.renderer.pixelToScreenCoordinates(he,X),ae=ie,ce;if(p.$mouseHandler.$enableJumpToDef)n&&t||l&&t?ce=r?"block":"add":t&&p.$blockSelectEnabled&&(ce="block");else if(l&&!t){if(ce="add",!y&&r)return}else t&&p.$blockSelectEnabled&&(ce="block");if(ce&&useragent.isMac&&e.ctrlKey&&p.$mouseHandler.cancelContextMenu(),ce=="add"){if(!y&&z)return;if(!y){var ue=$.toOrientedRange();p.addSelectionMarker(ue)}var de=$.rangeList.rangeAtPoint(x);p.inVirtualSelectionMode=!0,r&&(de=null,ue=$.ranges[0]||ue,p.removeSelectionMarker(ue)),p.once("mouseup",function(){var me=$.toOrientedRange();de&&me.isEmpty()&&isSamePoint(de.cursor,me.cursor)?$.substractPoint(me.cursor):(r?$.substractPoint(ue.cursor):ue&&(p.removeSelectionMarker(ue),$.addRange(ue)),$.addRange(me)),p.inVirtualSelectionMode=!1})}else if(ce=="block"){s.stop(),p.inVirtualSelectionMode=!0;var fe,Oe=[],Ne=function(){var me=p.renderer.pixelToScreenCoordinates(he,X),Ft=Q.screenToDocumentPosition(me.row,me.column,me.offsetX);isSamePoint(ae,me)&&isSamePoint(Ft,$.lead)||(ae=me,p.selection.moveToPosition(Ft),p.renderer.scrollCursorIntoView(),p.removeSelectionMarkers(Oe),Oe=$.rectangularRangeBlock(ae,ie),p.$mouseHandler.$clickSelection&&Oe.length==1&&Oe[0].isEmpty()&&(Oe[0]=p.$mouseHandler.$clickSelection.clone()),Oe.forEach(p.addSelectionMarker,p),p.updateSelectionMarkers())};y&&!l?$.toSingleRange():!y&&l&&(fe=$.toOrientedRange(),p.addSelectionMarker(fe)),r?ie=Q.documentToScreenPosition($.lead):$.moveToPosition(x),ae={row:-1,column:-1};var ft=function(me){Ne(),clearInterval(Be),p.removeSelectionMarkers(Oe),Oe.length||(Oe=[$.toOrientedRange()]),fe&&(p.removeSelectionMarker(fe),$.toSingleRange(fe));for(var Ft=0;Ft<Oe.length;Ft++)$.addRange(Oe[Ft]);p.inVirtualSelectionMode=!1,p.$mouseHandler.$clickSelection=null},Ie=Ne;event.capture(p.container,ne,ft);var Be=setInterval(function(){Ie()},20);return s.preventDefault()}}}multi_select_handler.onMouseDown=onMouseDown;var multi_select_commands={};(function(s){s.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(t){t.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(t){t.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(t){t.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(t){t.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(t){t.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(t){t.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(t){t.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(t){t.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split selection into lines",exec:function(t){t.multiSelect.rangeCount>1?t.multiSelect.joinSelections():t.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(t){t.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(t){t.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(t){t.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],s.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(t){t.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(t){return t&&t.inMultiSelectMode}}];var e=hash_handler.HashHandler;s.keyboardHandler=new e(s.multiSelectCommands)})(multi_select_commands);(function(s){var e=range_list.RangeList,t=range.Range,r=selection.Selection,n=multi_select_handler.onMouseDown,l=event$c,a=lang$e,p=multi_select_commands;s.commands=p.defaultCommands.concat(p.multiSelectCommands);var $=search.Search,y=new $;function x(Q,ie,ae){return y.$options.wrap=!0,y.$options.needle=ie,y.$options.backwards=ae==-1,y.find(Q)}var N=edit_session.EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(N.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(Q,ie){if(Q){if(!this.inMultiSelectMode&&this.rangeCount===0){var ae=this.toOrientedRange();if(this.rangeList.add(ae),this.rangeList.add(Q),this.rangeList.ranges.length!=2)return this.rangeList.removeAll(),ie||this.fromOrientedRange(Q);this.rangeList.removeAll(),this.rangeList.add(ae),this.$onAddRange(ae)}Q.cursor||(Q.cursor=Q.end);var ce=this.rangeList.add(Q);return this.$onAddRange(Q),ce.length&&this.$onRemoveRange(ce),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),ie||this.fromOrientedRange(Q)}},this.toSingleRange=function(Q){Q=Q||this.ranges[0];var ie=this.rangeList.removeAll();ie.length&&this.$onRemoveRange(ie),Q&&this.fromOrientedRange(Q)},this.substractPoint=function(Q){var ie=this.rangeList.substractPoint(Q);if(ie)return this.$onRemoveRange(ie),ie[0]},this.mergeOverlappingRanges=function(){var Q=this.rangeList.merge();Q.length&&this.$onRemoveRange(Q)},this.$onAddRange=function(Q){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(Q),this._signal("addRange",{range:Q})},this.$onRemoveRange=function(Q){if(this.rangeCount=this.rangeList.ranges.length,this.rangeCount==1&&this.inMultiSelectMode){var ie=this.rangeList.ranges.pop();Q.push(ie),this.rangeCount=0}for(var ae=Q.length;ae--;){var ce=this.ranges.indexOf(Q[ae]);this.ranges.splice(ce,1)}this._signal("removeRange",{ranges:Q}),this.rangeCount===0&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),ie=ie||this.ranges[0],ie&&!ie.isEqual(this.getRange())&&this.fromOrientedRange(ie)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new e,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var Q=this.ranges.length?this.ranges:[this.getRange()],ie=[],ae=0;ae<Q.length;ae++){var ce=Q[ae],ue=ce.start.row,de=ce.end.row;if(ue===de)ie.push(ce.clone());else{for(ie.push(new t(ue,ce.start.column,ue,this.session.getLine(ue).length));++ue<de;)ie.push(this.getLineRange(ue,!0));ie.push(new t(de,0,de,ce.end.column))}ae==0&&!this.isBackwards()&&(ie=ie.reverse())}this.toSingleRange();for(var ae=ie.length;ae--;)this.addRange(ie[ae])},this.joinSelections=function(){var Q=this.rangeList.ranges,ie=Q[Q.length-1],ae=t.fromPoints(Q[0].start,ie.end);this.toSingleRange(),this.setSelectionRange(ae,ie.cursor==ie.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var Q=this.rangeList.ranges,ie=Q[Q.length-1],ae=t.fromPoints(Q[0].start,ie.end);this.toSingleRange(),this.setSelectionRange(ae,ie.cursor==ie.start)}else{var ce=this.session.documentToScreenPosition(this.cursor),ue=this.session.documentToScreenPosition(this.anchor),de=this.rectangularRangeBlock(ce,ue);de.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(Q,ie,ae){var ce=[],ue=Q.column<ie.column;if(ue)var de=Q.column,fe=ie.column,Oe=Q.offsetX,Ne=ie.offsetX;else var de=ie.column,fe=Q.column,Oe=ie.offsetX,Ne=Q.offsetX;var ft=Q.row<ie.row;if(ft)var Ie=Q.row,Be=ie.row;else var Ie=ie.row,Be=Q.row;de<0&&(de=0),Ie<0&&(Ie=0),Ie==Be&&(ae=!0);for(var me,Ft=Ie;Ft<=Be;Ft++){var Ut=t.fromPoints(this.session.screenToDocumentPosition(Ft,de,Oe),this.session.screenToDocumentPosition(Ft,fe,Ne));if(Ut.isEmpty()){if(me&&he(Ut.end,me))break;me=Ut.end}Ut.cursor=ue?Ut.start:Ut.end,ce.push(Ut)}if(ft&&ce.reverse(),!ae){for(var St=ce.length-1;ce[St].isEmpty()&&St>0;)St--;if(St>0)for(var ri=0;ce[ri].isEmpty();)ri++;for(var ni=St;ni>=ri;ni--)ce[ni].isEmpty()&&ce.splice(ni,1)}return ce}}.call(r.prototype);var z=editor.Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(Q){Q.cursor||(Q.cursor=Q.end);var ie=this.getSelectionStyle();return Q.marker=this.session.addMarker(Q,"ace_selection",ie),this.session.$selectionMarkers.push(Q),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,Q},this.removeSelectionMarker=function(Q){if(Q.marker){this.session.removeMarker(Q.marker);var ie=this.session.$selectionMarkers.indexOf(Q);ie!=-1&&this.session.$selectionMarkers.splice(ie,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(Q){for(var ie=this.session.$selectionMarkers,ae=Q.length;ae--;){var ce=Q[ae];if(ce.marker){this.session.removeMarker(ce.marker);var ue=ie.indexOf(ce);ue!=-1&&ie.splice(ue,1)}}this.session.selectionMarkerCount=ie.length},this.$onAddRange=function(Q){this.addSelectionMarker(Q.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(Q){this.removeSelectionMarkers(Q.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(Q){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(p.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(Q){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(p.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(Q){var ie=Q.command,ae=Q.editor;if(ae.multiSelect){if(ie.multiSelectAction)ie.multiSelectAction=="forEach"?ce=ae.forEachSelection(ie,Q.args):ie.multiSelectAction=="forEachLine"?ce=ae.forEachSelection(ie,Q.args,!0):ie.multiSelectAction=="single"?(ae.exitMultiSelectMode(),ce=ie.exec(ae,Q.args||{})):ce=ie.multiSelectAction(ae,Q.args||{});else{var ce=ie.exec(ae,Q.args||{});ae.multiSelect.addRange(ae.multiSelect.toOrientedRange()),ae.multiSelect.mergeOverlappingRanges()}return ce}},this.forEachSelection=function(Q,ie,ae){if(!this.inVirtualSelectionMode){var ce=ae&&ae.keepOrder,ue=ae==!0||ae&&ae.$byLines,de=this.session,fe=this.selection,Oe=fe.rangeList,Ne=(ce?fe:Oe).ranges,ft;if(!Ne.length)return Q.exec?Q.exec(this,ie||{}):Q(this,ie||{});var Ie=fe._eventRegistry;fe._eventRegistry={};var Be=new r(de);this.inVirtualSelectionMode=!0;for(var me=Ne.length;me--;){if(ue)for(;me>0&&Ne[me].start.row==Ne[me-1].end.row;)me--;Be.fromOrientedRange(Ne[me]),Be.index=me,this.selection=de.selection=Be;var Ft=Q.exec?Q.exec(this,ie||{}):Q(this,ie||{});!ft&&Ft!==void 0&&(ft=Ft),Be.toOrientedRange(Ne[me])}Be.detach(),this.selection=de.selection=fe,this.inVirtualSelectionMode=!1,fe._eventRegistry=Ie,fe.mergeOverlappingRanges(),fe.ranges[0]&&fe.fromOrientedRange(fe.ranges[0]);var Ut=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),Ut&&Ut.from==Ut.to&&this.renderer.animateScrolling(Ut.from),ft}},this.exitMultiSelectMode=function(){!this.inMultiSelectMode||this.inVirtualSelectionMode||this.multiSelect.toSingleRange()},this.getSelectedText=function(){var Q="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var ie=this.multiSelect.rangeList.ranges,ae=[],ce=0;ce<ie.length;ce++)ae.push(this.session.getTextRange(ie[ce]));var ue=this.session.getDocument().getNewLineCharacter();Q=ae.join(ue),Q.length==(ae.length-1)*ue.length&&(Q="")}else this.selection.isEmpty()||(Q=this.session.getTextRange(this.getSelectionRange()));return Q},this.$checkMultiselectChange=function(Q,ie){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var ae=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&ie==this.multiSelect.anchor)return;var ce=ie==this.multiSelect.anchor?ae.cursor==ae.start?ae.end:ae.start:ae.cursor;ce.row!=ie.row||this.session.$clipPositionToDocument(ce.row,ce.column).column!=ie.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(Q,ie,ae){if(ie=ie||{},ie.needle=Q||ie.needle,ie.needle==null){var ce=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();ie.needle=this.session.getTextRange(ce)}this.$search.set(ie);var ue=this.$search.findAll(this.session);if(!ue.length)return 0;var de=this.multiSelect;ae||de.toSingleRange(ue[0]);for(var fe=ue.length;fe--;)de.addRange(ue[fe],!0);return ce&&de.rangeList.rangeAtPoint(ce.start)&&de.addRange(ce,!0),ue.length},this.selectMoreLines=function(Q,ie){var ae=this.selection.toOrientedRange(),ce=ae.cursor==ae.end,ue=this.session.documentToScreenPosition(ae.cursor);this.selection.$desiredColumn&&(ue.column=this.selection.$desiredColumn);var de=this.session.screenToDocumentPosition(ue.row+Q,ue.column);if(ae.isEmpty())var Oe=de;else var fe=this.session.documentToScreenPosition(ce?ae.end:ae.start),Oe=this.session.screenToDocumentPosition(fe.row+Q,fe.column);if(ce){var Ne=t.fromPoints(de,Oe);Ne.cursor=Ne.start}else{var Ne=t.fromPoints(Oe,de);Ne.cursor=Ne.end}if(Ne.desiredColumn=ue.column,!this.selection.inMultiSelectMode)this.selection.addRange(ae);else if(ie)var ft=ae.cursor;this.selection.addRange(Ne),ft&&this.selection.substractPoint(ft)},this.transposeSelections=function(Q){for(var ie=this.session,ae=ie.multiSelect,ce=ae.ranges,ue=ce.length;ue--;){var de=ce[ue];if(de.isEmpty()){var fe=ie.getWordRange(de.start.row,de.start.column);de.start.row=fe.start.row,de.start.column=fe.start.column,de.end.row=fe.end.row,de.end.column=fe.end.column}}ae.mergeOverlappingRanges();for(var Oe=[],ue=ce.length;ue--;){var de=ce[ue];Oe.unshift(ie.getTextRange(de))}Q<0?Oe.unshift(Oe.pop()):Oe.push(Oe.shift());for(var ue=ce.length;ue--;){var de=ce[ue],fe=de.clone();ie.replace(de,Oe[ue]),de.start.row=fe.start.row,de.start.column=fe.start.column}ae.fromOrientedRange(ae.ranges[0])},this.selectMore=function(Q,ie,ae){var ce=this.session,ue=ce.multiSelect,de=ue.toOrientedRange();if(!(de.isEmpty()&&(de=ce.getWordRange(de.start.row,de.start.column),de.cursor=Q==-1?de.start:de.end,this.multiSelect.addRange(de),ae))){var fe=ce.getTextRange(de),Oe=x(ce,fe,Q);Oe&&(Oe.cursor=Q==-1?Oe.start:Oe.end,this.session.unfold(Oe),this.multiSelect.addRange(Oe),this.renderer.scrollCursorIntoView(null,.5)),ie&&this.multiSelect.substractPoint(de.cursor)}},this.alignCursors=function(){var Q=this.session,ie=Q.multiSelect,ae=ie.ranges,ce=-1,ue=ae.filter(function(St){if(St.cursor.row==ce)return!0;ce=St.cursor.row});if(!ae.length||ue.length==ae.length-1){var de=this.selection.getRange(),fe=de.start.row,Oe=de.end.row,Ne=fe==Oe;if(Ne){var ft=this.session.getLength(),Ie;do Ie=this.session.getLine(Oe);while(/[=:]/.test(Ie)&&++Oe<ft);do Ie=this.session.getLine(fe);while(/[=:]/.test(Ie)&&--fe>0);fe<0&&(fe=0),Oe>=ft&&(Oe=ft-1)}var Be=this.session.removeFullLines(fe,Oe);Be=this.$reAlignText(Be,Ne),this.session.insert({row:fe,column:0},Be.join(`
`)+`
`),Ne||(de.start.column=0,de.end.column=Be[Be.length-1].length),this.selection.setRange(de)}else{ue.forEach(function(St){ie.substractPoint(St.cursor)});var me=0,Ft=1/0,Ut=ae.map(function(St){var ri=St.cursor,ni=Q.getLine(ri.row),si=ni.substr(ri.column).search(/\S/g);return si==-1&&(si=0),ri.column>me&&(me=ri.column),si<Ft&&(Ft=si),si});ae.forEach(function(St,ri){var ni=St.cursor,si=me-ni.column,At=Ut[ri]-Ft;si>At?Q.insert(ni,a.stringRepeat(" ",si-At)):Q.remove(new t(ni.row,ni.column,ni.row,ni.column-si+At)),St.start.column=St.end.column=me,St.start.row=St.end.row=ni.row,St.cursor=St.end}),ie.fromOrientedRange(ae[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}},this.$reAlignText=function(Q,ie){var ae=!0,ce=!0,ue,de,fe;return Q.map(function(Be){var me=Be.match(/(\s*)(.*?)(\s*)([=:].*)/);return me?ue==null?(ue=me[1].length,de=me[2].length,fe=me[3].length,me):(ue+de+fe!=me[1].length+me[2].length+me[3].length&&(ce=!1),ue!=me[1].length&&(ae=!1),ue>me[1].length&&(ue=me[1].length),de<me[2].length&&(de=me[2].length),fe>me[3].length&&(fe=me[3].length),me):[Be]}).map(ie?Ne:ae?ce?ft:Ne:Ie);function Oe(Be){return a.stringRepeat(" ",Be)}function Ne(Be){return Be[2]?Oe(ue)+Be[2]+Oe(de-Be[2].length+fe)+Be[4].replace(/^([=:])\s+/,"$1 "):Be[0]}function ft(Be){return Be[2]?Oe(ue+de-Be[2].length)+Be[2]+Oe(fe)+Be[4].replace(/^([=:])\s+/,"$1 "):Be[0]}function Ie(Be){return Be[2]?Oe(ue)+Be[2]+Oe(fe)+Be[4].replace(/^([=:])\s+/,"$1 "):Be[0]}}}).call(z.prototype);function he(Q,ie){return Q.row==ie.row&&Q.column==ie.column}s.onSessionChange=function(Q){var ie=Q.session;ie&&!ie.multiSelect&&(ie.$selectionMarkers=[],ie.selection.$initRangeList(),ie.multiSelect=ie.selection),this.multiSelect=ie&&ie.multiSelect;var ae=Q.oldSession;ae&&(ae.multiSelect.off("addRange",this.$onAddRange),ae.multiSelect.off("removeRange",this.$onRemoveRange),ae.multiSelect.off("multiSelect",this.$onMultiSelect),ae.multiSelect.off("singleSelect",this.$onSingleSelect),ae.multiSelect.lead.off("change",this.$checkMultiselectChange),ae.multiSelect.anchor.off("change",this.$checkMultiselectChange)),ie&&(ie.multiSelect.on("addRange",this.$onAddRange),ie.multiSelect.on("removeRange",this.$onRemoveRange),ie.multiSelect.on("multiSelect",this.$onMultiSelect),ie.multiSelect.on("singleSelect",this.$onSingleSelect),ie.multiSelect.lead.on("change",this.$checkMultiselectChange),ie.multiSelect.anchor.on("change",this.$checkMultiselectChange)),ie&&this.inMultiSelectMode!=ie.selection.inMultiSelectMode&&(ie.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())};function X(Q){Q.$multiselectOnSessionChange||(Q.$onAddRange=Q.$onAddRange.bind(Q),Q.$onRemoveRange=Q.$onRemoveRange.bind(Q),Q.$onMultiSelect=Q.$onMultiSelect.bind(Q),Q.$onSingleSelect=Q.$onSingleSelect.bind(Q),Q.$multiselectOnSessionChange=s.onSessionChange.bind(Q),Q.$checkMultiselectChange=Q.$checkMultiselectChange.bind(Q),Q.$multiselectOnSessionChange(Q),Q.on("changeSession",Q.$multiselectOnSessionChange),Q.on("mousedown",n),Q.commands.addCommands(p.defaultCommands),ne(Q))}function ne(Q){if(!Q.textInput)return;var ie=Q.textInput.getElement(),ae=!1;l.addListener(ie,"keydown",function(ue){var de=ue.keyCode==18&&!(ue.ctrlKey||ue.shiftKey||ue.metaKey);Q.$blockSelectEnabled&&de?ae||(Q.renderer.setMouseCursor("crosshair"),ae=!0):ae&&ce()},Q),l.addListener(ie,"keyup",ce,Q),l.addListener(ie,"blur",ce,Q);function ce(ue){ae&&(Q.renderer.setMouseCursor(""),ae=!1)}}s.MultiSelect=X,configExports.defineOptions(z.prototype,"editor",{enableMultiselect:{set:function(Q){X(this),Q?this.on("mousedown",n):this.off("mousedown",n)},value:!0},enableBlockSelect:{set:function(Q){this.$blockSelectEnabled=Q},value:!0}})})(multi_select);var Range=range.Range,FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(s,e,t){var r=s.getLine(t);return this.foldingStartMarker.test(r)?"start":e=="markbeginend"&&this.foldingStopMarker&&this.foldingStopMarker.test(r)?"end":""},this.getFoldWidgetRange=function(s,e,t){return null},this.indentationBlock=function(s,e,t){var r=/\S/,n=s.getLine(e),l=n.search(r);if(l!=-1){for(var a=t||n.length,p=s.getLength(),$=e,y=e;++e<p;){var x=s.getLine(e).search(r);if(x!=-1){if(x<=l){var N=s.getTokenAt(e,0);if(!N||N.type!=="string")break}y=e}}if(y>$){var z=s.getLine(y).length;return new Range($,a,y,z)}}},this.openingBracketBlock=function(s,e,t,r,n){var l={row:t,column:r+1},a=s.$findClosingBracket(e,l,n);if(a){var p=s.foldWidgets[a.row];return p==null&&(p=s.getFoldWidget(a.row)),p=="start"&&a.row>l.row&&(a.row--,a.column=s.getLine(a.row).length),Range.fromPoints(l,a)}},this.closingBracketBlock=function(s,e,t,r,n){var l={row:t,column:r},a=s.$findOpeningBracket(e,l);if(a)return a.column++,l.column--,Range.fromPoints(a,l)}}).call(FoldMode.prototype);var dom=dom$k;configExports.nls;dom.importCssString(`
    .error_widget_wrapper {
        background: inherit;
        color: inherit;
        border:none
    }
    .error_widget {
        border-top: solid 2px;
        border-bottom: solid 2px;
        margin: 5px 0;
        padding: 10px 40px;
        white-space: pre-wrap;
    }
    .error_widget.ace_error, .error_widget_arrow.ace_error{
        border-color: #ff5a5a
    }
    .error_widget.ace_warning, .error_widget_arrow.ace_warning{
        border-color: #F1D817
    }
    .error_widget.ace_info, .error_widget_arrow.ace_info{
        border-color: #5a5a5a
    }
    .error_widget.ace_ok, .error_widget_arrow.ace_ok{
        border-color: #5aaa5a
    }
    .error_widget_arrow {
        position: absolute;
        border: solid 5px;
        border-top-color: transparent!important;
        border-right-color: transparent!important;
        border-left-color: transparent!important;
        top: -5px;
    }
`,"error_marker.css",!1);(function(s){"include loader_build";var e=dom$k,t=range.Range,r=editor.Editor,n=edit_session.EditSession,l=undomanager.UndoManager,a=virtual_renderer.VirtualRenderer;s.config=configExports,s.edit=function(p,$){if(typeof p=="string"){var y=p;if(p=document.getElementById(y),!p)throw new Error("ace.edit can't find div #"+y)}if(p&&p.env&&p.env.editor instanceof r)return p.env.editor;var x="";if(p&&/input|textarea/i.test(p.tagName)){var N=p;x=N.value,p=e.createElement("pre"),N.parentNode.replaceChild(p,N)}else p&&(x=p.textContent,p.innerHTML="");var z=s.createEditSession(x),he=new r(new a(p),z,$),X={document:z,editor:he,onResize:he.resize.bind(he,null)};return N&&(X.textarea=N),he.on("destroy",function(){X.editor.container.env=null}),he.container.env=he.env=X,he},s.createEditSession=function(p,$){var y=new n(p,$);return y.setUndoManager(new l),y},s.Range=t,s.Editor=r,s.EditSession=n,s.UndoManager=l,s.VirtualRenderer=a,s.version=s.config.version})(ace$1);const ace=getDefaultExportFromCjs(ace$1),____slug__vue_vue_type_style_index_0_lang="",_sfc_main={data(){return{command:"",pos:0,data:"",shelter:null,tab:null,editorStarted:!1}},async setup(){const route=useRoute(),id=ref(route.query.id?route.query.id:""),path=route.path+id.value,store=useCommandStore(),{command}=storeToRefs(store),webRConsole=new Wt({stdout:s=>document.getElementById("out").append(s+`
`),stderr:s=>document.getElementById("out").append(s+`
`),prompt:s=>document.getElementById("out").append(s),canvasExec:line=>{eval(`document.getElementById("plot-canvas").getContext('2d').${line}`)}}),tutosList=await queryContent(path).find();for(var i=tutosList.length-1;i>=0;i--)(tutosList[i]._path==path+"_dir"||tutosList[i]._path==path+"/_dir")&&tutosList.splice(i,1);return{webRConsole,tutosList,store,command}},async mounted(){await this.webRConsole.run(),this.data=this.tutosList[this.pos]},methods:{async startEditor(){console.log("hello"),this.editorStarted||(console.log("hello"),ace.edit("editorArea"),this.editorStarted=!0)},async getOutput(){for(;;){const s=await this.webR.read();switch(s.type){case"stdout":this.stdout.push(s.data);break;case"stderr":this.stderr=this.srdout+s.data;break;default:console.warn(`Unhandled output type: ${s.type}.`)}}},async onEnter(){this.webRConsole.stdin(this.command),document.getElementById("out").append(this.command+`
`),this.command="",console.log(this.webRConsole.webR.objs)},async nextBtn(){if(this.pos<this.tutosList.length){this.pos=this.pos+1;const{data:s}=await useAsyncData("page-data",()=>queryContent(this.tutosList[this.pos]._path).findOne());this.data=s}},async prevBtn(){if(this.pos>0){this.pos=this.pos-1;const{data:s}=await useAsyncData("page-data",()=>queryContent(this.tutosList[this.pos]._path).findOne());this.data=s}}},watch:{command(s){if(this.store.changed){console.log(this.store.command);for(const e of this.store.command)this.webRConsole.stdin(e),document.getElementById("out").append(e+`
`);this.store.reset()}}}},_hoisted_1={class:"prose",style:{}},_hoisted_2=createBaseVNode("br",null,null,-1),_hoisted_3={style:{height:"50%"}},_hoisted_4=createBaseVNode("pre",null,[createBaseVNode("code",{id:"out"},"Loading webR, please wait...")],-1),_hoisted_5={style:{height:"50%"}},_hoisted_6=createBaseVNode("canvas",{id:"plot-canvas",width:"1008",height:"1008",style:{margin:"auto",height:"calc(100% - 50px)"}},null,-1),_hoisted_7=createBaseVNode("div",{id:"editorArea",style:{height:"400px"}},"some text",-1);function _sfc_render(s,e,t,r,n,l){const a=_sfc_main$1,p=_sfc_main$2,$=resolveComponent("v-card-text"),y=resolveComponent("v-btn"),x=resolveComponent("v-chip"),N=resolveComponent("v-card-actions"),z=resolveComponent("v-card"),he=resolveComponent("v-col"),X=resolveComponent("v-textarea"),ne=resolveComponent("v-tab"),Q=resolveComponent("v-tabs"),ie=resolveComponent("v-window-item"),ae=resolveComponent("v-window"),ce=resolveComponent("v-row");return openBlock(),createBlock(ce,{class:"fill-height"},{default:withCtx(()=>[createVNode(he,{class:"fill-height overflow-y-auto"},{default:withCtx(()=>[createVNode(z,{class:"fill-height"},{default:withCtx(()=>[createVNode($,{class:"fill-height overflow-y-auto",style:{"max-height":"calc(100% - 50px)"}},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1,[n.data?(openBlock(),createBlock(p,{key:0,value:n.data},{default:withCtx(()=>[createBaseVNode("h1",null,toDisplayString(n.data.title),1),_hoisted_2,createVNode(a,{value:n.data},null,8,["value"])]),_:1},8,["value"])):createCommentVNode("",!0)])]),_:1}),createVNode(N,{class:"d-flex justify-end",style:{"background-color":"lightsteelblue"}},{default:withCtx(()=>[createVNode(y,{disabled:n.pos==0,onClick:l.prevBtn},{default:withCtx(()=>[createTextVNode("Prev")]),_:1},8,["disabled","onClick"]),createVNode(y,{disabled:n.pos==r.tutosList.length-1,onClick:l.nextBtn,class:"me-2"},{default:withCtx(()=>[createTextVNode("Next")]),_:1},8,["disabled","onClick"]),createVNode(x,null,{default:withCtx(()=>[createTextVNode(toDisplayString(n.pos+1)+" / "+toDisplayString(r.tutosList.length),1)]),_:1})]),_:1})]),_:1})]),_:1}),createVNode(he,{class:"fill-height"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_3,[createVNode(z,{class:"fill-height"},{default:withCtx(()=>[createVNode($,{class:"fill-height overflow-y-auto"},{default:withCtx(()=>[_hoisted_4,createVNode(X,{onKeyup:withKeys(l.onEnter,["enter"]),modelValue:r.command,"onUpdate:modelValue":e[0]||(e[0]=ue=>r.command=ue),variant:"underlined","prepend-icon":"mdi-chevron-right"},null,8,["onKeyup","modelValue"])]),_:1})]),_:1})]),createBaseVNode("div",_hoisted_5,[createVNode(z,{class:"fill-height pa-2 mt-1"},{default:withCtx(()=>[createVNode(Q,{modelValue:n.tab,"onUpdate:modelValue":e[1]||(e[1]=ue=>n.tab=ue)},{default:withCtx(()=>[createVNode(ne,{value:"plot"},{default:withCtx(()=>[createTextVNode("Plot")]),_:1}),createVNode(ne,{value:"editorTab",onClick:l.startEditor},{default:withCtx(()=>[createTextVNode("Editor")]),_:1},8,["onClick"])]),_:1},8,["modelValue"]),createVNode($,{class:"fill-height"},{default:withCtx(()=>[createVNode(ae,{modelValue:n.tab,"onUpdate:modelValue":e[2]||(e[2]=ue=>n.tab=ue),class:"fill-height"},{default:withCtx(()=>[createVNode(ie,{value:"plot",class:"fill-height text-center"},{default:withCtx(()=>[_hoisted_6]),_:1}),createVNode(ie,{value:"editorTab",class:"fill-height text-center"},{default:withCtx(()=>[_hoisted_7]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})])]),_:1})]),_:1})}const ____slug_=_export_sfc(_sfc_main,[["render",_sfc_render]]);export{____slug_ as default};
